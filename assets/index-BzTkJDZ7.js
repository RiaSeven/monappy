(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const Cm=()=>{};var Eu={};const O0=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xm=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],l=r[t++],m=r[t++],o=((i&7)<<18|(s&63)<<12|(l&63)<<6|m&63)-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(o&1023))}else{const s=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],l=i+1<r.length,m=l?r[i+1]:0,o=i+2<r.length,d=o?r[i+2]:0,a=s>>2,f=(s&3)<<4|m>>4;let u=(m&15)<<2|d>>6,h=d&63;o||(h=64,l||(u=64)),n.push(t[a],t[f],t[u],t[h])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(O0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xm(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],m=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const f=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||m==null||d==null||f==null)throw new km;const u=s<<2|m>>4;if(n.push(u),d!==64){const h=m<<4&240|d>>2;if(n.push(h),f!==64){const c=d<<6&192|f;n.push(c)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class km extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Im=function(r){const e=O0(r);return P0.encodeByteArray(e,!0)},Gs=function(r){return Im(r).replace(/\./g,"")},F0=function(r){try{return P0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rm=()=>Mm().__FIREBASE_DEFAULTS__,Lm=()=>{if(typeof process>"u"||typeof Eu>"u")return;const r=Eu.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$m=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&F0(r[1]);return e&&JSON.parse(e)},So=()=>{try{return Cm()||Rm()||Lm()||$m()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},z0=r=>So()?.emulatorHosts?.[r],Dm=r=>{const e=z0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},V0=()=>So()?.config,B0=r=>So()?.[`_${r}`];class Nm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function Kr(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(r){return(await fetch(r,{credentials:"include"})).ok}function Om(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gs(JSON.stringify(t)),Gs(JSON.stringify(l)),""].join(".")}const xi={};function Pm(){const r={prod:[],emulator:[]};for(const e of Object.keys(xi))xi[e]?r.emulator.push(e):r.prod.push(e);return r}function Fm(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Cu=!1;function U0(r,e){if(typeof window>"u"||typeof document>"u"||!Kr(window.location.host)||xi[r]===e||xi[r]||Cu)return;xi[r]=e;function t(u){return`__firebase__banner__${u}`}const n="__firebase__banner",s=Pm().prod.length>0;function l(){const u=document.getElementById(n);u&&u.remove()}function m(u){u.style.display="flex",u.style.background="#7faaf0",u.style.position="fixed",u.style.bottom="5px",u.style.left="5px",u.style.padding=".5em",u.style.borderRadius="5px",u.style.alignItems="center"}function o(u,h){u.setAttribute("width","24"),u.setAttribute("id",h),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px"}function d(){const u=document.createElement("span");return u.style.cursor="pointer",u.style.marginLeft="16px",u.style.fontSize="24px",u.innerHTML=" &times;",u.onclick=()=>{Cu=!0,l()},u}function a(u,h){u.setAttribute("id",h),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline"}function f(){const u=Fm(n),h=t("text"),c=document.getElementById(h)||document.createElement("span"),p=t("learnmore"),g=document.getElementById(p)||document.createElement("a"),y=t("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.created){const M=u.element;m(M),a(g,p);const R=d();o(w,y),M.append(w,c,g,R),document.body.appendChild(M)}s?(c.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,c.innerText="Preview backend running in this workspace."),c.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Vm(){const r=So()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bm(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hm(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Um(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wm(){const r=yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jm(){return!Vm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gm(){try{return typeof indexedDB=="object"}catch{return!1}}function qm(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const Km="FirebaseError";class En extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Km,Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qi.prototype.create)}}class qi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?Ym(s,n):"Error",m=`${this.serviceName}: ${l} (${i}).`;return new En(i,m,n)}}function Ym(r,e){return r.replace(Qm,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Qm=/\{\$([^}]+)}/g;function Xm(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gn(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],l=e[i];if(xu(s)&&xu(l)){if(!Gn(s,l))return!1}else if(s!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function xu(r){return r!==null&&typeof r=="object"}function Ki(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Jm(r,e){const t=new Zm(r,e);return t.subscribe.bind(t)}class Zm{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");eg(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=la),i.error===void 0&&(i.error=la),i.complete===void 0&&(i.complete=la);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eg(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function la(){}function Ot(r){return r&&r._delegate?r._delegate:r}class mr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ur="[DEFAULT]";class tg{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Nm;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rg(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,l]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(s);n===m&&l.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ng(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ng(r){return r===ur?void 0:r}function rg(r){return r.instantiationMode==="EAGER"}class ig{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ie;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ie||(Ie={}));const sg={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},og=Ie.INFO,ag={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},lg=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=ag[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yl{constructor(e){this.name=e,this._logLevel=og,this._logHandler=lg,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const cg=(r,e)=>e.some(t=>r instanceof t);let ku,Iu;function ug(){return ku||(ku=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hg(){return Iu||(Iu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Fa=new WeakMap,j0=new WeakMap,ca=new WeakMap,wl=new WeakMap;function dg(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",l)},s=()=>{t(Bn(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&W0.set(t,r)}).catch(()=>{}),wl.set(e,r),e}function fg(r){if(Fa.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",l),r.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",l),r.addEventListener("abort",l)});Fa.set(r,e)}let za={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fa.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pg(r){za=r(za)}function mg(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(ua(this),e,...t);return j0.set(n,e.sort?e.sort():[e]),Bn(n)}:hg().includes(r)?function(...e){return r.apply(ua(this),e),Bn(W0.get(this))}:function(...e){return Bn(r.apply(ua(this),e))}}function gg(r){return typeof r=="function"?mg(r):(r instanceof IDBTransaction&&fg(r),cg(r,ug())?new Proxy(r,za):r)}function Bn(r){if(r instanceof IDBRequest)return dg(r);if(ca.has(r))return ca.get(r);const e=gg(r);return e!==r&&(ca.set(r,e),wl.set(e,r)),e}const ua=r=>wl.get(r);function vg(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const l=indexedDB.open(r,e),m=Bn(l);return n&&l.addEventListener("upgradeneeded",o=>{n(Bn(l.result),o.oldVersion,o.newVersion,Bn(l.transaction),o)}),t&&l.addEventListener("blocked",o=>t(o.oldVersion,o.newVersion,o)),m.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),m}const yg=["get","getKey","getAll","getAllKeys","count"],wg=["put","add","delete","clear"],ha=new Map;function Mu(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ha.get(e))return ha.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=wg.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yg.includes(t)))return;const s=async function(l,...m){const o=this.transaction(l,i?"readwrite":"readonly");let d=o.store;return n&&(d=d.index(m.shift())),(await Promise.all([d[t](...m),i&&o.done]))[0]};return ha.set(e,s),s}pg(r=>({...r,get:(e,t,n)=>Mu(e,t)||r.get(e,t,n),has:(e,t)=>!!Mu(e,t)||r.has(e,t)}));class bg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Sg(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Sg(r){return r.getComponent()?.type==="VERSION"}const Va="@firebase/app",Ru="0.14.6";const yn=new yl("@firebase/app"),_g="@firebase/app-compat",Ag="@firebase/analytics-compat",Tg="@firebase/analytics",Eg="@firebase/app-check-compat",Cg="@firebase/app-check",xg="@firebase/auth",kg="@firebase/auth-compat",Ig="@firebase/database",Mg="@firebase/data-connect",Rg="@firebase/database-compat",Lg="@firebase/functions",$g="@firebase/functions-compat",Dg="@firebase/installations",Ng="@firebase/installations-compat",Og="@firebase/messaging",Pg="@firebase/messaging-compat",Fg="@firebase/performance",zg="@firebase/performance-compat",Vg="@firebase/remote-config",Bg="@firebase/remote-config-compat",Hg="@firebase/storage",Ug="@firebase/storage-compat",Wg="@firebase/firestore",jg="@firebase/ai",Gg="@firebase/firestore-compat",qg="firebase",Kg="12.6.0";const Ba="[DEFAULT]",Yg={[Va]:"fire-core",[_g]:"fire-core-compat",[Tg]:"fire-analytics",[Ag]:"fire-analytics-compat",[Cg]:"fire-app-check",[Eg]:"fire-app-check-compat",[xg]:"fire-auth",[kg]:"fire-auth-compat",[Ig]:"fire-rtdb",[Mg]:"fire-data-connect",[Rg]:"fire-rtdb-compat",[Lg]:"fire-fn",[$g]:"fire-fn-compat",[Dg]:"fire-iid",[Ng]:"fire-iid-compat",[Og]:"fire-fcm",[Pg]:"fire-fcm-compat",[Fg]:"fire-perf",[zg]:"fire-perf-compat",[Vg]:"fire-rc",[Bg]:"fire-rc-compat",[Hg]:"fire-gcs",[Ug]:"fire-gcs-compat",[Wg]:"fire-fst",[Gg]:"fire-fst-compat",[jg]:"fire-vertex","fire-js":"fire-js",[qg]:"fire-js-all"};const qs=new Map,Qg=new Map,Ha=new Map;function Lu(r,e){try{r.container.addComponent(e)}catch(t){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Pr(r){const e=r.name;if(Ha.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ha.set(e,r);for(const t of qs.values())Lu(t,r);for(const t of Qg.values())Lu(t,r);return!0}function bl(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Vt(r){return r==null?!1:r.settings!==void 0}const Xg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new qi("app","Firebase",Xg);class Jg{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Yr=Kg;function G0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Ba,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(t||(t=V0()),!t)throw Hn.create("no-options");const s=qs.get(i);if(s){if(Gn(t,s.options)&&Gn(n,s.config))return s;throw Hn.create("duplicate-app",{appName:i})}const l=new ig(i);for(const o of Ha.values())l.addComponent(o);const m=new Jg(t,n,l);return qs.set(i,m),m}function q0(r=Ba){const e=qs.get(r);if(!e&&r===Ba&&V0())return G0();if(!e)throw Hn.create("no-app",{appName:r});return e}function Un(r,e,t){let n=Yg[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(l.join(" "));return}Pr(new mr(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const Zg="firebase-heartbeat-database",e1=1,Ni="firebase-heartbeat-store";let da=null;function K0(){return da||(da=vg(Zg,e1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ni)}catch(t){console.warn(t)}}}}).catch(r=>{throw Hn.create("idb-open",{originalErrorMessage:r.message})})),da}async function t1(r){try{const t=(await K0()).transaction(Ni),n=await t.objectStore(Ni).get(Y0(r));return await t.done,n}catch(e){if(e instanceof En)yn.warn(e.message);else{const t=Hn.create("idb-get",{originalErrorMessage:e?.message});yn.warn(t.message)}}}async function $u(r,e){try{const n=(await K0()).transaction(Ni,"readwrite");await n.objectStore(Ni).put(e,Y0(r)),await n.done}catch(t){if(t instanceof En)yn.warn(t.message);else{const n=Hn.create("idb-set",{originalErrorMessage:t?.message});yn.warn(n.message)}}}function Y0(r){return`${r.name}!${r.options.appId}`}const n1=1024,r1=30;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new o1(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Du();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>r1){const i=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Du(),{heartbeatsToSend:t,unsentEntries:n}=s1(this._heartbeatsCache.heartbeats),i=Gs(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return yn.warn(e),""}}}function Du(){return new Date().toISOString().substring(0,10)}function s1(r,e=n1){const t=[];let n=r.slice();for(const i of r){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Nu(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Nu(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class o1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gm()?qm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $u(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $u(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Nu(r){return Gs(JSON.stringify({version:2,heartbeats:r})).length}function a1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}function l1(r){Pr(new mr("platform-logger",e=>new bg(e),"PRIVATE")),Pr(new mr("heartbeat",e=>new i1(e),"PRIVATE")),Un(Va,Ru,r),Un(Va,Ru,"esm2020"),Un("fire-js","")}l1("");var c1="firebase",u1="12.7.0";Un(c1,u1,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h1=Q0,X0=new qi("auth","Firebase",Q0());const Ks=new yl("@firebase/auth");function d1(r,...e){Ks.logLevel<=Ie.WARN&&Ks.warn(`Auth (${Yr}): ${r}`,...e)}function $s(r,...e){Ks.logLevel<=Ie.ERROR&&Ks.error(`Auth (${Yr}): ${r}`,...e)}function rn(r,...e){throw _l(r,...e)}function Ut(r,...e){return _l(r,...e)}function Sl(r,e,t){const n={...h1(),[e]:t};return new qi("auth","Firebase",n).create(e,{appName:r.name})}function fr(r){return Sl(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f1(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&rn(r,"argument-error"),Sl(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _l(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return X0.create(r,...e)}function Te(r,e,...t){if(!r)throw _l(e,...t)}function fn(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $s(e),new Error(e)}function wn(r,e){r||fn(e)}function Ua(){return typeof self<"u"&&self.location?.href||""}function p1(){return Ou()==="http:"||Ou()==="https:"}function Ou(){return typeof self<"u"&&self.location?.protocol||null}function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p1()||Hm()||"connection"in navigator)?navigator.onLine:!0}function g1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yi{constructor(e,t){this.shortDelay=e,this.longDelay=t,wn(t>e,"Short delay should be less than long delay!"),this.isMobile=zm()||Um()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Al(r,e){wn(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class J0{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const y1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w1=new Yi(3e4,6e4);function Tl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Qr(r,e,t,n,i={}){return Z0(r,i,async()=>{let s={},l={};n&&(e==="GET"?l=n:s={body:JSON.stringify(n)});const m=Ki({key:r.config.apiKey,...l}).slice(1),o=await r._getAdditionalHeaders();o["Content-Type"]="application/json",r.languageCode&&(o["X-Firebase-Locale"]=r.languageCode);const d={method:e,headers:o,...s};return Bm()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&Kr(r.emulatorConfig.host)&&(d.credentials="include"),J0.fetch()(await ed(r,r.config.apiHost,t,m),d)})}async function Z0(r,e,t){r._canInitEmulator=!1;const n={...v1,...e};try{const i=new S1(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ys(r,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const m=s.ok?l.errorMessage:l.error.message,[o,d]=m.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw ys(r,"credential-already-in-use",l);if(o==="EMAIL_EXISTS")throw ys(r,"email-already-in-use",l);if(o==="USER_DISABLED")throw ys(r,"user-disabled",l);const a=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Sl(r,a,d);rn(r,a)}}catch(i){if(i instanceof En)throw i;rn(r,"network-request-failed",{message:String(i)})}}async function b1(r,e,t,n,i={}){const s=await Qr(r,e,t,n,i);return"mfaPendingCredential"in s&&rn(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function ed(r,e,t,n){const i=`${e}${t}?${n}`,s=r,l=s.config.emulator?Al(r.config,i):`${r.config.apiScheme}://${i}`;return y1.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class S1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ut(this.auth,"network-request-failed")),w1.get())})}}function ys(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Ut(r,e,n);return i.customData._tokenResponse=t,i}async function _1(r,e){return Qr(r,"POST","/v1/accounts:delete",e)}async function Ys(r,e){return Qr(r,"POST","/v1/accounts:lookup",e)}function ki(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A1(r,e=!1){const t=Ot(r),n=await t.getIdToken(e),i=El(n);Te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:n,authTime:ki(fa(i.auth_time)),issuedAtTime:ki(fa(i.iat)),expirationTime:ki(fa(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function fa(r){return Number(r)*1e3}function El(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return $s("JWT malformed, contained fewer than 3 sections"),null;try{const i=F0(t);return i?JSON.parse(i):($s("Failed to decode base64 JWT payload"),null)}catch(i){return $s("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pu(r){const e=El(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oi(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof En&&T1(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function T1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class E1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qs(r){const e=r.auth,t=await r.getIdToken(),n=await Oi(r,Ys(e,{idToken:t}));Te(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const s=i.providerUserInfo?.length?td(i.providerUserInfo):[],l=x1(r.providerData,s),m=r.isAnonymous,o=!(r.email&&i.passwordHash)&&!l?.length,d=m?o:!1,a={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Wa(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(r,a)}async function C1(r){const e=Ot(r);await Qs(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x1(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function td(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function k1(r,e){const t=await Z0(r,{},async()=>{const n=Ki({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,l=await ed(r,i,"/v1/token",`key=${s}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:m,body:n};return r.emulatorConfig&&Kr(r.emulatorConfig.host)&&(o.credentials="include"),J0.fetch()(l,o)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function I1(r,e){return Qr(r,"POST","/v2/accounts:revokeToken",Tl(r,e))}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Pu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await k1(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,l=new Lr;return n&&(Te(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Te(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return fn("not implemented")}}function $n(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bt{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new E1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Oi(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A1(this,e)}reload(){return C1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qs(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Oi(this,_1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,m=t.tenantId??void 0,o=t._redirectEventId??void 0,d=t.createdAt??void 0,a=t.lastLoginAt??void 0,{uid:f,emailVerified:u,isAnonymous:h,providerData:c,stsTokenManager:p}=t;Te(f&&p,e,"internal-error");const g=Lr.fromJSON(this.name,p);Te(typeof f=="string",e,"internal-error"),$n(n,e.name),$n(i,e.name),Te(typeof u=="boolean",e,"internal-error"),Te(typeof h=="boolean",e,"internal-error"),$n(s,e.name),$n(l,e.name),$n(m,e.name),$n(o,e.name),$n(d,e.name),$n(a,e.name);const y=new Bt({uid:f,auth:e,email:i,emailVerified:u,displayName:n,isAnonymous:h,photoURL:l,phoneNumber:s,tenantId:m,stsTokenManager:g,createdAt:d,lastLoginAt:a});return c&&Array.isArray(c)&&(y.providerData=c.map(w=>({...w}))),o&&(y._redirectEventId=o),y}static async _fromIdTokenResponse(e,t,n=!1){const i=new Lr;i.updateFromServerResponse(t);const s=new Bt({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Qs(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?td(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,m=new Lr;m.updateFromIdToken(n);const o=new Bt({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(o,d),o}}const Fu=new Map;function pn(r){wn(r instanceof Function,"Expected a class definition");let e=Fu.get(r);return e?(wn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fu.set(r,e),e)}class nd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nd.type="NONE";const zu=nd;function Ds(r,e,t){return`firebase:${r}:${e}:${t}`}class $r{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Ds(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ds("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ys(this.auth,{idToken:e}).catch(()=>{});return t?Bt._fromGetAccountInfoResponse(this.auth,t,e):null}return Bt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new $r(pn(zu),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||pn(zu);const l=Ds(n,e.config.apiKey,e.name);let m=null;for(const d of t)try{const a=await d._get(l);if(a){let f;if(typeof a=="string"){const u=await Ys(e,{idToken:a}).catch(()=>{});if(!u)break;f=await Bt._fromGetAccountInfoResponse(e,u,a)}else f=Bt._fromJSON(e,a);d!==s&&(m=f),s=d;break}}catch{}const o=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!o.length?new $r(s,e,n):(s=o[0],m&&await s._set(l,m.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new $r(s,e,n))}}function Vu(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(od(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rd(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ld(e))return"Blackberry";if(cd(e))return"Webos";if(id(e))return"Safari";if((e.includes("chrome/")||sd(e))&&!e.includes("edge/"))return"Chrome";if(ad(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function rd(r=yt()){return/firefox\//i.test(r)}function id(r=yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sd(r=yt()){return/crios\//i.test(r)}function od(r=yt()){return/iemobile/i.test(r)}function ad(r=yt()){return/android/i.test(r)}function ld(r=yt()){return/blackberry/i.test(r)}function cd(r=yt()){return/webos/i.test(r)}function Cl(r=yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function M1(r=yt()){return Cl(r)&&!!window.navigator?.standalone}function R1(){return Wm()&&document.documentMode===10}function ud(r=yt()){return Cl(r)||ad(r)||cd(r)||ld(r)||/windows phone/i.test(r)||od(r)}function hd(r,e=[]){let t;switch(r){case"Browser":t=Vu(yt());break;case"Worker":t=`${Vu(yt())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yr}/${n}`}class L1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((l,m)=>{try{const o=e(s);l(o)}catch(o){m(o)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function $1(r,e={}){return Qr(r,"GET","/v2/passwordPolicy",Tl(r,e))}const D1=6;class N1{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??D1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class O1{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bu(this),this.idTokenSubscription=new Bu(this),this.beforeStateQueue=new L1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pn(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $r.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ys(this,{idToken:e}),n=await Bt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=n?._redirectEventId,m=await this.tryRedirectSignIn(e);(!s||s===l)&&m?.user&&(n=m.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qs(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vt(this.app))return Promise.reject(fr(this));const t=e?Ot(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vt(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $1(this),t=new N1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await I1(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pn(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await $r.create(this,[pn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const o=e.addObserver(t,n,i);return()=>{l=!0,o()}}else{const o=e.addObserver(t);return()=>{l=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&d1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _o(r){return Ot(r)}class Bu{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jm(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P1(r){xl=r}function F1(r){return xl.loadJS(r)}function z1(){return xl.gapiScript}function V1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function B1(r,e){const t=bl(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Gn(s,e??{}))return i;rn(i,"already-initialized")}return t.initialize({options:e})}function H1(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(pn);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function U1(r,e,t){const n=_o(r);Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=dd(e),{host:l,port:m}=W1(e),o=m===null?"":`:${m}`,d={url:`${s}//${l}${o}/`},a=Object.freeze({host:l,port:m,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Te(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Te(Gn(d,n.config.emulator)&&Gn(a,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=a,n.settings.appVerificationDisabledForTesting=!0,Kr(l)?(H0(`${s}//${l}${o}`),U0("Auth",!0)):j1()}function dd(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function W1(r){const e=dd(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Hu(n.substr(s.length+1))}}else{const[s,l]=n.split(":");return{host:s,port:Hu(l)}}}function Hu(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function j1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fn("not implemented")}_getIdTokenResponse(e){return fn("not implemented")}_linkToIdToken(e,t){return fn("not implemented")}_getReauthenticationResolver(e){return fn("not implemented")}}async function Dr(r,e){return b1(r,"POST","/v1/accounts:signInWithIdp",Tl(r,e))}const G1="http://localhost";class gr extends fd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=t;if(!n||!i)return null;const l=new gr(n,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dr(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dr(e,t)}buildRequest(){const e={requestUri:G1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ki(t)}return e}}class kl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qi extends kl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class On extends Qi{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return On.credential(e.oauthAccessToken)}catch{return null}}}On.FACEBOOK_SIGN_IN_METHOD="facebook.com";On.PROVIDER_ID="facebook.com";class dn extends Qi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gr._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dn.credentialFromTaggedObject(e)}static credentialFromError(e){return dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return dn.credential(t,n)}catch{return null}}}dn.GOOGLE_SIGN_IN_METHOD="google.com";dn.PROVIDER_ID="google.com";class Pn extends Qi{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pn.credential(e.oauthAccessToken)}catch{return null}}}Pn.GITHUB_SIGN_IN_METHOD="github.com";Pn.PROVIDER_ID="github.com";class Fn extends Qi{constructor(){super("twitter.com")}static credential(e,t){return gr._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Fn.credential(t,n)}catch{return null}}}Fn.TWITTER_SIGN_IN_METHOD="twitter.com";Fn.PROVIDER_ID="twitter.com";class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Bt._fromIdTokenResponse(e,n,i),l=Uu(n);return new Fr({user:s,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Uu(n);return new Fr({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Uu(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Xs extends En{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xs.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Xs(e,t,n,i)}}function pd(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xs._fromErrorAndOperation(r,s,e,n):s})}async function q1(r,e,t=!1){const n=await Oi(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Fr._forOperation(r,"link",n)}async function K1(r,e,t=!1){const{auth:n}=r;if(Vt(n.app))return Promise.reject(fr(n));const i="reauthenticate";try{const s=await Oi(r,pd(n,i,e,r),t);Te(s.idToken,n,"internal-error");const l=El(s.idToken);Te(l,n,"internal-error");const{sub:m}=l;return Te(r.uid===m,n,"user-mismatch"),Fr._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rn(n,"user-mismatch"),s}}async function Y1(r,e,t=!1){if(Vt(r.app))return Promise.reject(fr(r));const n="signIn",i=await pd(r,n,e),s=await Fr._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}function Q1(r,e,t,n){return Ot(r).onIdTokenChanged(e,t,n)}function X1(r,e,t){return Ot(r).beforeAuthStateChanged(e,t)}function J1(r,e,t,n){return Ot(r).onAuthStateChanged(e,t,n)}function Z1(r){return Ot(r).signOut()}const Js="__sak";class md{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ev=1e3,tv=10;class gd extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ud(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,m,o)=>{this.notifyListeners(l,o)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},s=this.storage.getItem(n);R1()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tv):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ev)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gd.type="LOCAL";const nv=gd;class vd extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vd.type="SESSION";const yd=vd;function rv(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ao{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Ao(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const m=Array.from(l).map(async d=>d(t.origin,s)),o=await rv(m);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ao.receivers=[];function Il(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class iv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((m,o)=>{const d=Il("",20);i.port1.start();const a=setTimeout(()=>{o(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(f){const u=f;if(u.data.eventId===d)switch(u.data.status){case"ack":clearTimeout(a),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),m(u.data.response);break;default:clearTimeout(a),clearTimeout(s),o(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Jt(){return window}function sv(r){Jt().location.href=r}function wd(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function ov(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function av(){return navigator?.serviceWorker?.controller||null}function lv(){return wd()?self:null}const bd="firebaseLocalStorageDb",cv=1,Zs="firebaseLocalStorage",Sd="fbase_key";class Xi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function To(r,e){return r.transaction([Zs],e?"readwrite":"readonly").objectStore(Zs)}function uv(){const r=indexedDB.deleteDatabase(bd);return new Xi(r).toPromise()}function ja(){const r=indexedDB.open(bd,cv);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Zs,{keyPath:Sd})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Zs)?e(n):(n.close(),await uv(),e(await ja()))})})}async function Wu(r,e,t){const n=To(r,!0).put({[Sd]:e,value:t});return new Xi(n).toPromise()}async function hv(r,e){const t=To(r,!1).get(e),n=await new Xi(t).toPromise();return n===void 0?null:n.value}function ju(r,e){const t=To(r,!0).delete(e);return new Xi(t).toPromise()}const dv=800,fv=3;class _d{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ja(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>fv)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ao._getInstance(lv()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ov(),!this.activeServiceWorker)return;this.sender=new iv(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||av()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ja();return await Wu(e,Js,"1"),await ju(e,Js),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>hv(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ju(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=To(i,!1).getAll();return new Xi(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dv)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_d.type="LOCAL";const pv=_d;new Yi(3e4,6e4);function Ad(r,e){return e?pn(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ml extends fd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mv(r){return Y1(r.auth,new Ml(r),r.bypassAuthState)}function gv(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),K1(t,new Ml(r),r.bypassAuthState)}async function vv(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),q1(t,new Ml(r),r.bypassAuthState)}class Td{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:l,type:m}=e;if(l){this.reject(l);return}const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(o))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mv;case"linkViaPopup":case"linkViaRedirect":return vv;case"reauthViaPopup":case"reauthViaRedirect":return gv;default:rn(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yv=new Yi(2e3,1e4);async function wv(r,e,t){if(Vt(r.app))return Promise.reject(Ut(r,"operation-not-supported-in-this-environment"));const n=_o(r);f1(r,e,kl);const i=Ad(n,t);return new hr(n,"signInViaPopup",e,i).executeNotNull()}class hr extends Td{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,hr.currentPopupAction&&hr.currentPopupAction.cancel(),hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){wn(this.filter.length===1,"Popup operations only handle one event");const e=Il();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yv.get())};e()}}hr.currentPopupAction=null;const bv="pendingRedirect",Ns=new Map;class Sv extends Td{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ns.get(this.auth._key());if(!e){try{const n=await _v(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ns.set(this.auth._key(),e)}return this.bypassAuthState||Ns.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _v(r,e){const t=Ev(e),n=Tv(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function Av(r,e){Ns.set(r._key(),e)}function Tv(r){return pn(r._redirectPersistence)}function Ev(r){return Ds(bv,r.config.apiKey,r.name)}async function Cv(r,e,t=!1){if(Vt(r.app))return Promise.reject(fr(r));const n=_o(r),i=Ad(n,e),l=await new Sv(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}const xv=600*1e3;class kv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Iv(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ed(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ut(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xv&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(e))}saveEventToCache(e){this.cachedEventUids.add(Gu(e)),this.lastProcessedEventTime=Date.now()}}function Gu(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ed({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Iv(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ed(r);default:return!1}}async function Mv(r,e={}){return Qr(r,"GET","/v1/projects",e)}const Rv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lv=/^https?/;async function $v(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Mv(r);for(const t of e)try{if(Dv(t))return}catch{}rn(r,"unauthorized-domain")}function Dv(r){const e=Ua(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!Lv.test(t))return!1;if(Rv.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const Nv=new Yi(3e4,6e4);function qu(){const r=Jt().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ov(r){return new Promise((e,t)=>{function n(){qu(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qu(),t(Ut(r,"network-request-failed"))},timeout:Nv.get()})}if(Jt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jt().gapi?.load)n();else{const i=V1("iframefcb");return Jt()[i]=()=>{gapi.load?n():t(Ut(r,"network-request-failed"))},F1(`${z1()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Os=null,e})}let Os=null;function Pv(r){return Os=Os||Ov(r),Os}const Fv=new Yi(5e3,15e3),zv="__/auth/iframe",Vv="emulator/auth/iframe",Bv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uv(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Al(e,Vv):`https://${r.config.authDomain}/${zv}`,n={apiKey:e.apiKey,appName:r.name,v:Yr},i=Hv.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${Ki(n).slice(1)}`}async function Wv(r){const e=await Pv(r),t=Jt().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:Uv(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bv,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const l=Ut(r,"network-request-failed"),m=Jt().setTimeout(()=>{s(l)},Fv.get());function o(){Jt().clearTimeout(m),i(n)}n.ping(o).then(o,()=>{s(l)})}))}const jv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gv=500,qv=600,Kv="_blank",Yv="http://localhost";class Ku{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qv(r,e,t,n=Gv,i=qv){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let m="";const o={...jv,width:n.toString(),height:i.toString(),top:s,left:l},d=yt().toLowerCase();t&&(m=sd(d)?Kv:t),rd(d)&&(e=e||Yv,o.scrollbars="yes");const a=Object.entries(o).reduce((u,[h,c])=>`${u}${h}=${c},`,"");if(M1(d)&&m!=="_self")return Xv(e||"",m),new Ku(null);const f=window.open(e||"",m,a);Te(f,r,"popup-blocked");try{f.focus()}catch{}return new Ku(f)}function Xv(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const Jv="__/auth/handler",Zv="emulator/auth/handler",ey=encodeURIComponent("fac");async function Yu(r,e,t,n,i,s){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Yr,eventId:i};if(e instanceof kl){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",Xm(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[a,f]of Object.entries({}))l[a]=f}if(e instanceof Qi){const a=e.getScopes().filter(f=>f!=="");a.length>0&&(l.scopes=a.join(","))}r.tenantId&&(l.tid=r.tenantId);const m=l;for(const a of Object.keys(m))m[a]===void 0&&delete m[a];const o=await r._getAppCheckToken(),d=o?`#${ey}=${encodeURIComponent(o)}`:"";return`${ty(r)}?${Ki(m).slice(1)}${d}`}function ty({config:r}){return r.emulator?Al(r,Zv):`https://${r.authDomain}/${Jv}`}const pa="webStorageSupport";class ny{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yd,this._completeRedirectFn=Cv,this._overrideRedirectResult=Av}async _openPopup(e,t,n,i){wn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Yu(e,t,n,Ua(),i);return Qv(e,s,Il())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await Yu(e,t,n,Ua(),i);return sv(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(wn(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Wv(e),n=new kv(e);return t.register("authEvent",i=>(Te(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pa,{type:pa},i=>{const s=i?.[0]?.[pa];s!==void 0&&t(!!s),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$v(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ud()||id()||Cl()}}const ry=ny;var Qu="@firebase/auth",Xu="1.12.0";class iy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sy(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oy(r){Pr(new mr("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:m}=n.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:l,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hd(r)},d=new O1(n,i,s,o);return H1(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Pr(new mr("auth-internal",e=>{const t=_o(e.getProvider("auth").getImmediate());return(n=>new iy(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Qu,Xu,sy(r)),Un(Qu,Xu,"esm2020")}const ay=300,ly=B0("authIdTokenMaxAge")||ay;let Ju=null;const cy=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ly)return;const i=t?.token;Ju!==i&&(Ju=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uy(r=q0()){const e=bl(r,"auth");if(e.isInitialized())return e.getImmediate();const t=B1(r,{popupRedirectResolver:ry,persistence:[pv,nv,yd]}),n=B0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const l=cy(s.toString());X1(t,l,()=>l(t.currentUser)),Q1(t,m=>l(m))}}const i=z0("auth");return i&&U1(t,`http://${i}`),t}function hy(){return document.getElementsByTagName("head")?.[0]??document}P1({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Ut("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",hy().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oy("Browser");var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wn,Cd;(function(){var r;function e(E,k){function T(){}T.prototype=k.prototype,E.F=k.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(I,O,C){for(var b=Array(arguments.length-2),A=2;A<arguments.length;A++)b[A-2]=arguments[A];return k.prototype[O].apply(I,b)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,k,T){T||(T=0);const I=Array(16);if(typeof k=="string")for(var O=0;O<16;++O)I[O]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(O=0;O<16;++O)I[O]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=E.g[0],T=E.g[1],O=E.g[2];let C=E.g[3],b;b=k+(C^T&(O^C))+I[0]+3614090360&4294967295,k=T+(b<<7&4294967295|b>>>25),b=C+(O^k&(T^O))+I[1]+3905402710&4294967295,C=k+(b<<12&4294967295|b>>>20),b=O+(T^C&(k^T))+I[2]+606105819&4294967295,O=C+(b<<17&4294967295|b>>>15),b=T+(k^O&(C^k))+I[3]+3250441966&4294967295,T=O+(b<<22&4294967295|b>>>10),b=k+(C^T&(O^C))+I[4]+4118548399&4294967295,k=T+(b<<7&4294967295|b>>>25),b=C+(O^k&(T^O))+I[5]+1200080426&4294967295,C=k+(b<<12&4294967295|b>>>20),b=O+(T^C&(k^T))+I[6]+2821735955&4294967295,O=C+(b<<17&4294967295|b>>>15),b=T+(k^O&(C^k))+I[7]+4249261313&4294967295,T=O+(b<<22&4294967295|b>>>10),b=k+(C^T&(O^C))+I[8]+1770035416&4294967295,k=T+(b<<7&4294967295|b>>>25),b=C+(O^k&(T^O))+I[9]+2336552879&4294967295,C=k+(b<<12&4294967295|b>>>20),b=O+(T^C&(k^T))+I[10]+4294925233&4294967295,O=C+(b<<17&4294967295|b>>>15),b=T+(k^O&(C^k))+I[11]+2304563134&4294967295,T=O+(b<<22&4294967295|b>>>10),b=k+(C^T&(O^C))+I[12]+1804603682&4294967295,k=T+(b<<7&4294967295|b>>>25),b=C+(O^k&(T^O))+I[13]+4254626195&4294967295,C=k+(b<<12&4294967295|b>>>20),b=O+(T^C&(k^T))+I[14]+2792965006&4294967295,O=C+(b<<17&4294967295|b>>>15),b=T+(k^O&(C^k))+I[15]+1236535329&4294967295,T=O+(b<<22&4294967295|b>>>10),b=k+(O^C&(T^O))+I[1]+4129170786&4294967295,k=T+(b<<5&4294967295|b>>>27),b=C+(T^O&(k^T))+I[6]+3225465664&4294967295,C=k+(b<<9&4294967295|b>>>23),b=O+(k^T&(C^k))+I[11]+643717713&4294967295,O=C+(b<<14&4294967295|b>>>18),b=T+(C^k&(O^C))+I[0]+3921069994&4294967295,T=O+(b<<20&4294967295|b>>>12),b=k+(O^C&(T^O))+I[5]+3593408605&4294967295,k=T+(b<<5&4294967295|b>>>27),b=C+(T^O&(k^T))+I[10]+38016083&4294967295,C=k+(b<<9&4294967295|b>>>23),b=O+(k^T&(C^k))+I[15]+3634488961&4294967295,O=C+(b<<14&4294967295|b>>>18),b=T+(C^k&(O^C))+I[4]+3889429448&4294967295,T=O+(b<<20&4294967295|b>>>12),b=k+(O^C&(T^O))+I[9]+568446438&4294967295,k=T+(b<<5&4294967295|b>>>27),b=C+(T^O&(k^T))+I[14]+3275163606&4294967295,C=k+(b<<9&4294967295|b>>>23),b=O+(k^T&(C^k))+I[3]+4107603335&4294967295,O=C+(b<<14&4294967295|b>>>18),b=T+(C^k&(O^C))+I[8]+1163531501&4294967295,T=O+(b<<20&4294967295|b>>>12),b=k+(O^C&(T^O))+I[13]+2850285829&4294967295,k=T+(b<<5&4294967295|b>>>27),b=C+(T^O&(k^T))+I[2]+4243563512&4294967295,C=k+(b<<9&4294967295|b>>>23),b=O+(k^T&(C^k))+I[7]+1735328473&4294967295,O=C+(b<<14&4294967295|b>>>18),b=T+(C^k&(O^C))+I[12]+2368359562&4294967295,T=O+(b<<20&4294967295|b>>>12),b=k+(T^O^C)+I[5]+4294588738&4294967295,k=T+(b<<4&4294967295|b>>>28),b=C+(k^T^O)+I[8]+2272392833&4294967295,C=k+(b<<11&4294967295|b>>>21),b=O+(C^k^T)+I[11]+1839030562&4294967295,O=C+(b<<16&4294967295|b>>>16),b=T+(O^C^k)+I[14]+4259657740&4294967295,T=O+(b<<23&4294967295|b>>>9),b=k+(T^O^C)+I[1]+2763975236&4294967295,k=T+(b<<4&4294967295|b>>>28),b=C+(k^T^O)+I[4]+1272893353&4294967295,C=k+(b<<11&4294967295|b>>>21),b=O+(C^k^T)+I[7]+4139469664&4294967295,O=C+(b<<16&4294967295|b>>>16),b=T+(O^C^k)+I[10]+3200236656&4294967295,T=O+(b<<23&4294967295|b>>>9),b=k+(T^O^C)+I[13]+681279174&4294967295,k=T+(b<<4&4294967295|b>>>28),b=C+(k^T^O)+I[0]+3936430074&4294967295,C=k+(b<<11&4294967295|b>>>21),b=O+(C^k^T)+I[3]+3572445317&4294967295,O=C+(b<<16&4294967295|b>>>16),b=T+(O^C^k)+I[6]+76029189&4294967295,T=O+(b<<23&4294967295|b>>>9),b=k+(T^O^C)+I[9]+3654602809&4294967295,k=T+(b<<4&4294967295|b>>>28),b=C+(k^T^O)+I[12]+3873151461&4294967295,C=k+(b<<11&4294967295|b>>>21),b=O+(C^k^T)+I[15]+530742520&4294967295,O=C+(b<<16&4294967295|b>>>16),b=T+(O^C^k)+I[2]+3299628645&4294967295,T=O+(b<<23&4294967295|b>>>9),b=k+(O^(T|~C))+I[0]+4096336452&4294967295,k=T+(b<<6&4294967295|b>>>26),b=C+(T^(k|~O))+I[7]+1126891415&4294967295,C=k+(b<<10&4294967295|b>>>22),b=O+(k^(C|~T))+I[14]+2878612391&4294967295,O=C+(b<<15&4294967295|b>>>17),b=T+(C^(O|~k))+I[5]+4237533241&4294967295,T=O+(b<<21&4294967295|b>>>11),b=k+(O^(T|~C))+I[12]+1700485571&4294967295,k=T+(b<<6&4294967295|b>>>26),b=C+(T^(k|~O))+I[3]+2399980690&4294967295,C=k+(b<<10&4294967295|b>>>22),b=O+(k^(C|~T))+I[10]+4293915773&4294967295,O=C+(b<<15&4294967295|b>>>17),b=T+(C^(O|~k))+I[1]+2240044497&4294967295,T=O+(b<<21&4294967295|b>>>11),b=k+(O^(T|~C))+I[8]+1873313359&4294967295,k=T+(b<<6&4294967295|b>>>26),b=C+(T^(k|~O))+I[15]+4264355552&4294967295,C=k+(b<<10&4294967295|b>>>22),b=O+(k^(C|~T))+I[6]+2734768916&4294967295,O=C+(b<<15&4294967295|b>>>17),b=T+(C^(O|~k))+I[13]+1309151649&4294967295,T=O+(b<<21&4294967295|b>>>11),b=k+(O^(T|~C))+I[4]+4149444226&4294967295,k=T+(b<<6&4294967295|b>>>26),b=C+(T^(k|~O))+I[11]+3174756917&4294967295,C=k+(b<<10&4294967295|b>>>22),b=O+(k^(C|~T))+I[2]+718787259&4294967295,O=C+(b<<15&4294967295|b>>>17),b=T+(C^(O|~k))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+k&4294967295,E.g[1]=E.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,E.g[2]=E.g[2]+O&4294967295,E.g[3]=E.g[3]+C&4294967295}n.prototype.v=function(E,k){k===void 0&&(k=E.length);const T=k-this.blockSize,I=this.C;let O=this.h,C=0;for(;C<k;){if(O==0)for(;C<=T;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<k;)if(I[O++]=E.charCodeAt(C++),O==this.blockSize){i(this,I),O=0;break}}else for(;C<k;)if(I[O++]=E[C++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=k},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var k=1;k<E.length-8;++k)E[k]=0;k=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=k&255,k/=256;for(this.v(E),E=Array(16),k=0,T=0;T<4;++T)for(let I=0;I<32;I+=8)E[k++]=this.g[T]>>>I&255;return E};function s(E,k){var T=m;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=k(E)}function l(E,k){this.h=k;const T=[];let I=!0;for(let O=E.length-1;O>=0;O--){const C=E[O]|0;I&&C==k||(T[O]=C,I=!1)}this.g=T}var m={};function o(E){return-128<=E&&E<128?s(E,function(k){return new l([k|0],k<0?-1:0)}):new l([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return g(d(-E));const k=[];let T=1;for(let I=0;E>=T;I++)k[I]=E/T|0,T*=4294967296;return new l(k,0)}function a(E,k){if(E.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E.charAt(0)=="-")return g(a(E.substring(1),k));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=d(Math.pow(k,8));let I=f;for(let C=0;C<E.length;C+=8){var O=Math.min(8,E.length-C);const b=parseInt(E.substring(C,C+O),k);O<8?(O=d(Math.pow(k,O)),I=I.j(O).add(d(b))):(I=I.j(T),I=I.add(d(b)))}return I}var f=o(0),u=o(1),h=o(16777216);r=l.prototype,r.m=function(){if(p(this))return-g(this).m();let E=0,k=1;for(let T=0;T<this.g.length;T++){const I=this.i(T);E+=(I>=0?I:4294967296+I)*k,k*=4294967296}return E},r.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(c(this))return"0";if(p(this))return"-"+g(this).toString(E);const k=d(Math.pow(E,6));var T=this;let I="";for(;;){const O=R(T,k).g;T=y(T,O.j(k));let C=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=O,c(T))return C+I;for(;C.length<6;)C="0"+C;I=C+I}},r.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function c(E){if(E.h!=0)return!1;for(let k=0;k<E.g.length;k++)if(E.g[k]!=0)return!1;return!0}function p(E){return E.h==-1}r.l=function(E){return E=y(this,E),p(E)?-1:c(E)?0:1};function g(E){const k=E.g.length,T=[];for(let I=0;I<k;I++)T[I]=~E.g[I];return new l(T,~E.h).add(u)}r.abs=function(){return p(this)?g(this):this},r.add=function(E){const k=Math.max(this.g.length,E.g.length),T=[];let I=0;for(let O=0;O<=k;O++){let C=I+(this.i(O)&65535)+(E.i(O)&65535),b=(C>>>16)+(this.i(O)>>>16)+(E.i(O)>>>16);I=b>>>16,C&=65535,b&=65535,T[O]=b<<16|C}return new l(T,T[T.length-1]&-2147483648?-1:0)};function y(E,k){return E.add(g(k))}r.j=function(E){if(c(this)||c(E))return f;if(p(this))return p(E)?g(this).j(g(E)):g(g(this).j(E));if(p(E))return g(this.j(g(E)));if(this.l(h)<0&&E.l(h)<0)return d(this.m()*E.m());const k=this.g.length+E.g.length,T=[];for(var I=0;I<2*k;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<E.g.length;O++){const C=this.i(I)>>>16,b=this.i(I)&65535,A=E.i(O)>>>16,S=E.i(O)&65535;T[2*I+2*O]+=b*S,w(T,2*I+2*O),T[2*I+2*O+1]+=C*S,w(T,2*I+2*O+1),T[2*I+2*O+1]+=b*A,w(T,2*I+2*O+1),T[2*I+2*O+2]+=C*A,w(T,2*I+2*O+2)}for(E=0;E<k;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=k;E<2*k;E++)T[E]=0;return new l(T,0)};function w(E,k){for(;(E[k]&65535)!=E[k];)E[k+1]+=E[k]>>>16,E[k]&=65535,k++}function M(E,k){this.g=E,this.h=k}function R(E,k){if(c(k))throw Error("division by zero");if(c(E))return new M(f,f);if(p(E))return k=R(g(E),k),new M(g(k.g),g(k.h));if(p(k))return k=R(E,g(k)),new M(g(k.g),k.h);if(E.g.length>30){if(p(E)||p(k))throw Error("slowDivide_ only works with positive integers.");for(var T=u,I=k;I.l(E)<=0;)T=x(T),I=x(I);var O=_(T,1),C=_(I,1);for(I=_(I,2),T=_(T,2);!c(I);){var b=C.add(I);b.l(E)<=0&&(O=O.add(T),C=b),I=_(I,1),T=_(T,1)}return k=y(E,O.j(k)),new M(O,k)}for(O=f;E.l(k)>=0;){for(T=Math.max(1,Math.floor(E.m()/k.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),C=d(T),b=C.j(k);p(b)||b.l(E)>0;)T-=I,C=d(T),b=C.j(k);c(C)&&(C=u),O=O.add(C),E=y(E,b)}return new M(O,E)}r.B=function(E){return R(this,E).h},r.and=function(E){const k=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<k;I++)T[I]=this.i(I)&E.i(I);return new l(T,this.h&E.h)},r.or=function(E){const k=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<k;I++)T[I]=this.i(I)|E.i(I);return new l(T,this.h|E.h)},r.xor=function(E){const k=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<k;I++)T[I]=this.i(I)^E.i(I);return new l(T,this.h^E.h)};function x(E){const k=E.g.length+1,T=[];for(let I=0;I<k;I++)T[I]=E.i(I)<<1|E.i(I-1)>>>31;return new l(T,E.h)}function _(E,k){const T=k>>5;k%=32;const I=E.g.length-T,O=[];for(let C=0;C<I;C++)O[C]=k>0?E.i(C+T)>>>k|E.i(C+T+1)<<32-k:E.i(C+T);return new l(O,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Cd=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=a,Wn=l}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});var ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xd,bi,kd,Ps,Ga,Id,Md,Rd;(function(){var r,e=Object.defineProperty;function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ws=="object"&&ws];for(var D=0;D<v.length;++D){var F=v[D];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=t(this);function i(v,D){if(D)e:{var F=n;v=v.split(".");for(var U=0;U<v.length-1;U++){var ee=v[U];if(!(ee in F))break e;F=F[ee]}v=v[v.length-1],U=F[v],D=D(U),D!=U&&D!=null&&e(F,v,{configurable:!0,writable:!0,value:D})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(D){var F=[],U;for(U in D)Object.prototype.hasOwnProperty.call(D,U)&&F.push([U,D[U]]);return F}});var s=s||{},l=this||self;function m(v){var D=typeof v;return D=="object"&&v!=null||D=="function"}function o(v,D,F){return v.call.apply(v.bind,arguments)}function d(v,D,F){return d=o,d.apply(null,arguments)}function a(v,D){var F=Array.prototype.slice.call(arguments,1);return function(){var U=F.slice();return U.push.apply(U,arguments),v.apply(this,U)}}function f(v,D){function F(){}F.prototype=D.prototype,v.Z=D.prototype,v.prototype=new F,v.prototype.constructor=v,v.Ob=function(U,ee,ne){for(var fe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)fe[ke-2]=arguments[ke];return D.prototype[ee].apply(U,fe)}}var u=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function h(v){const D=v.length;if(D>0){const F=Array(D);for(let U=0;U<D;U++)F[U]=v[U];return F}return[]}function c(v,D){for(let U=1;U<arguments.length;U++){const ee=arguments[U];var F=typeof ee;if(F=F!="object"?F:ee?Array.isArray(ee)?"array":F:"null",F=="array"||F=="object"&&typeof ee.length=="number"){F=v.length||0;const ne=ee.length||0;v.length=F+ne;for(let fe=0;fe<ne;fe++)v[F+fe]=ee[fe]}else v.push(ee)}}class p{constructor(D,F){this.i=D,this.j=F,this.h=0,this.g=null}get(){let D;return this.h>0?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function g(v){l.setTimeout(()=>{throw v},0)}function y(){var v=E;let D=null;return v.g&&(D=v.g,v.g=v.g.next,v.g||(v.h=null),D.next=null),D}class w{constructor(){this.h=this.g=null}add(D,F){const U=M.get();U.set(D,F),this.h?this.h.next=U:this.g=U,this.h=U}}var M=new p(()=>new R,v=>v.reset());class R{constructor(){this.next=this.g=this.h=null}set(D,F){this.h=D,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let x,_=!1,E=new w,k=()=>{const v=Promise.resolve(void 0);x=()=>{v.then(T)}};function T(){for(var v;v=y();){try{v.h.call(v.g)}catch(F){g(F)}var D=M;D.j(v),D.h<100&&(D.h++,v.next=D.g,D.g=v)}_=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(v,D){this.type=v,this.g=this.target=D,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,D=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};l.addEventListener("test",F,D),l.removeEventListener("test",F,D)}catch{}return v})();function b(v){return/^[\s\xa0]*$/.test(v)}function A(v,D){O.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,D)}f(A,O),A.prototype.init=function(v,D){const F=this.type=v.type,U=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=D,D=v.relatedTarget,D||(F=="mouseover"?D=v.fromElement:F=="mouseout"&&(D=v.toElement)),this.relatedTarget=D,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var S="closure_listenable_"+(Math.random()*1e6|0),L=0;function P(v,D,F,U,ee){this.listener=v,this.proxy=null,this.src=D,this.type=F,this.capture=!!U,this.ha=ee,this.key=++L,this.da=this.fa=!1}function V(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function B(v,D,F){for(const U in v)D.call(F,v[U],U,v)}function W(v,D){for(const F in v)D.call(void 0,v[F],F,v)}function G(v){const D={};for(const F in v)D[F]=v[F];return D}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(v,D){let F,U;for(let ee=1;ee<arguments.length;ee++){U=arguments[ee];for(F in U)v[F]=U[F];for(let ne=0;ne<J.length;ne++)F=J[ne],Object.prototype.hasOwnProperty.call(U,F)&&(v[F]=U[F])}}function Q(v){this.src=v,this.g={},this.h=0}Q.prototype.add=function(v,D,F,U,ee){const ne=v.toString();v=this.g[ne],v||(v=this.g[ne]=[],this.h++);const fe=Z(v,D,U,ee);return fe>-1?(D=v[fe],F||(D.fa=!1)):(D=new P(D,this.src,ne,!!U,ee),D.fa=F,v.push(D)),D};function X(v,D){const F=D.type;if(F in v.g){var U=v.g[F],ee=Array.prototype.indexOf.call(U,D,void 0),ne;(ne=ee>=0)&&Array.prototype.splice.call(U,ee,1),ne&&(V(D),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Z(v,D,F,U){for(let ee=0;ee<v.length;++ee){const ne=v[ee];if(!ne.da&&ne.listener==D&&ne.capture==!!F&&ne.ha==U)return ee}return-1}var re="closure_lm_"+(Math.random()*1e6|0),se={};function he(v,D,F,U,ee){if(Array.isArray(D)){for(let ne=0;ne<D.length;ne++)he(v,D[ne],F,U,ee);return null}return F=Lt(F),v&&v[S]?v.J(D,F,m(U)?!!U.capture:!1,ee):ce(v,D,F,!1,U,ee)}function ce(v,D,F,U,ee,ne){if(!D)throw Error("Invalid event type");const fe=m(ee)?!!ee.capture:!!ee;let ke=lt(v);if(ke||(v[re]=ke=new Q(v)),F=ke.add(D,F,U,fe,ne),F.proxy)return F;if(U=_e(),F.proxy=U,U.src=v,U.listener=F,v.addEventListener)C||(ee=fe),ee===void 0&&(ee=!1),v.addEventListener(D.toString(),U,ee);else if(v.attachEvent)v.attachEvent(Ye(D.toString()),U);else if(v.addListener&&v.removeListener)v.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return F}function _e(){function v(F){return D.call(v.src,v.listener,F)}const D=ze;return v}function Le(v,D,F,U,ee){if(Array.isArray(D))for(var ne=0;ne<D.length;ne++)Le(v,D[ne],F,U,ee);else U=m(U)?!!U.capture:!!U,F=Lt(F),v&&v[S]?(v=v.i,ne=String(D).toString(),ne in v.g&&(D=v.g[ne],F=Z(D,F,U,ee),F>-1&&(V(D[F]),Array.prototype.splice.call(D,F,1),D.length==0&&(delete v.g[ne],v.h--)))):v&&(v=lt(v))&&(D=v.g[D.toString()],v=-1,D&&(v=Z(D,F,U,ee)),(F=v>-1?D[v]:null)&&Be(F))}function Be(v){if(typeof v!="number"&&v&&!v.da){var D=v.src;if(D&&D[S])X(D.i,v);else{var F=v.type,U=v.proxy;D.removeEventListener?D.removeEventListener(F,U,v.capture):D.detachEvent?D.detachEvent(Ye(F),U):D.addListener&&D.removeListener&&D.removeListener(U),(F=lt(D))?(X(F,v),F.h==0&&(F.src=null,D[re]=null)):V(v)}}}function Ye(v){return v in se?se[v]:se[v]="on"+v}function ze(v,D){if(v.da)v=!0;else{D=new A(D,this);const F=v.listener,U=v.ha||v.src;v.fa&&Be(v),v=F.call(U,D)}return v}function lt(v){return v=v[re],v instanceof Q?v:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(v){return typeof v=="function"?v:(v[Wt]||(v[Wt]=function(D){return v.handleEvent(D)}),v[Wt])}function Je(){I.call(this),this.i=new Q(this),this.M=this,this.G=null}f(Je,I),Je.prototype[S]=!0,Je.prototype.removeEventListener=function(v,D,F,U){Le(this,v,D,F,U)};function wt(v,D){var F,U=v.G;if(U)for(F=[];U;U=U.G)F.push(U);if(v=v.M,U=D.type||D,typeof D=="string")D=new O(D,v);else if(D instanceof O)D.target=D.target||v;else{var ee=D;D=new O(U,v),K(D,ee)}ee=!0;let ne,fe;if(F)for(fe=F.length-1;fe>=0;fe--)ne=D.g=F[fe],ee=os(ne,U,!0,D)&&ee;if(ne=D.g=v,ee=os(ne,U,!0,D)&&ee,ee=os(ne,U,!1,D)&&ee,F)for(fe=0;fe<F.length;fe++)ne=D.g=F[fe],ee=os(ne,U,!1,D)&&ee}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var v=this.i;for(const D in v.g){const F=v.g[D];for(let U=0;U<F.length;U++)V(F[U]);delete v.g[D],v.h--}}this.G=null},Je.prototype.J=function(v,D,F,U){return this.i.add(String(v),D,!1,F,U)},Je.prototype.K=function(v,D,F,U){return this.i.add(String(v),D,!0,F,U)};function os(v,D,F,U){if(D=v.i.g[String(D)],!D)return!0;D=D.concat();let ee=!0;for(let ne=0;ne<D.length;++ne){const fe=D[ne];if(fe&&!fe.da&&fe.capture==F){const ke=fe.listener,it=fe.ha||fe.src;fe.fa&&X(v.i,fe),ee=ke.call(it,U)!==!1&&ee}}return ee&&!U.defaultPrevented}function em(v,D){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(D)>2147483647?-1:l.setTimeout(v,D||0)}function Rc(v){v.g=em(()=>{v.g=null,v.i&&(v.i=!1,Rc(v))},v.l);const D=v.h;v.h=null,v.m.apply(null,D)}class tm extends I{constructor(D,F){super(),this.m=D,this.l=F,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(v){I.call(this),this.h=v,this.g={}}f(ii,I);var Lc=[];function $c(v){B(v.g,function(D,F){this.g.hasOwnProperty(F)&&Be(D)},v),v.g={}}ii.prototype.N=function(){ii.Z.N.call(this),$c(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jo=l.JSON.stringify,nm=l.JSON.parse,rm=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Dc(){}function Nc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Go(){O.call(this,"d")}f(Go,O);function qo(){O.call(this,"c")}f(qo,O);var rr={},Oc=null;function as(){return Oc=Oc||new Je}rr.Ia="serverreachability";function Pc(v){O.call(this,rr.Ia,v)}f(Pc,O);function oi(v){const D=as();wt(D,new Pc(D))}rr.STAT_EVENT="statevent";function Fc(v,D){O.call(this,rr.STAT_EVENT,v),this.stat=D}f(Fc,O);function bt(v){const D=as();wt(D,new Fc(D,v))}rr.Ja="timingevent";function zc(v,D){O.call(this,rr.Ja,v),this.size=D}f(zc,O);function ai(v,D){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},D)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function im(v,D,F,U,ee,ne){v.info(function(){if(v.g)if(ne){var fe="",ke=ne.split("&");for(let Pe=0;Pe<ke.length;Pe++){var it=ke[Pe].split("=");if(it.length>1){const ct=it[0];it=it[1];const Gt=ct.split("_");fe=Gt.length>=2&&Gt[1]=="type"?fe+(ct+"="+it+"&"):fe+(ct+"=redacted&")}}}else fe=null;else fe=ne;return"XMLHTTP REQ ("+U+") [attempt "+ee+"]: "+D+`
`+F+`
`+fe})}function sm(v,D,F,U,ee,ne,fe){v.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ee+"]: "+D+`
`+F+`
`+ne+" "+fe})}function Tr(v,D,F,U){v.info(function(){return"XMLHTTP TEXT ("+D+"): "+am(v,F)+(U?" "+U:"")})}function om(v,D){v.info(function(){return"TIMEOUT: "+D})}li.prototype.info=function(){};function am(v,D){if(!v.g)return D;if(!D)return null;try{const ne=JSON.parse(D);if(ne){for(v=0;v<ne.length;v++)if(Array.isArray(ne[v])){var F=ne[v];if(!(F.length<2)){var U=F[1];if(Array.isArray(U)&&!(U.length<1)){var ee=U[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let fe=1;fe<U.length;fe++)U[fe]=""}}}}return jo(ne)}catch{return D}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bc;function Ko(){}f(Ko,Dc),Ko.prototype.g=function(){return new XMLHttpRequest},Bc=new Ko;function ci(v){return encodeURIComponent(String(v))}function lm(v){var D=1;v=v.split(":");const F=[];for(;D>0&&v.length;)F.push(v.shift()),D--;return v.length&&F.push(v.join(":")),F}function xn(v,D,F,U){this.j=v,this.i=D,this.l=F,this.S=U||1,this.V=new ii(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hc}function Hc(){this.i=null,this.g="",this.h=!1}var Uc={},Yo={};function Qo(v,D,F){v.M=1,v.A=us(jt(D)),v.u=F,v.R=!0,Wc(v,null)}function Wc(v,D){v.F=Date.now(),cs(v),v.B=jt(v.A);var F=v.B,U=v.S;Array.isArray(U)||(U=[String(U)]),ru(F.i,"t",U),v.C=0,F=v.j.L,v.h=new Hc,v.g=Su(v.j,F?D:null,!v.u),v.P>0&&(v.O=new tm(d(v.Y,v,v.g),v.P)),D=v.V,F=v.g,U=v.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Lc[0]=ee.toString()),ee=Lc);for(let ne=0;ne<ee.length;ne++){const fe=he(F,ee[ne],U||D.handleEvent,!1,D.h||D);if(!fe)break;D.g[fe.key]=fe}D=v.J?G(v.J):{},v.u?(v.v||(v.v="POST"),D["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,D)):(v.v="GET",v.g.ea(v.B,v.v,null,D)),oi(),im(v.i,v.v,v.B,v.l,v.S,v.u)}xn.prototype.ba=function(v){v=v.target;const D=this.O;D&&Mn(v)==3?D.j():this.Y(v)},xn.prototype.Y=function(v){try{if(v==this.g)e:{const ke=Mn(this.g),it=this.g.ya(),Pe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||uu(this.g)))){this.K||ke!=4||it==7||(it==8||Pe<=0?oi(3):oi(2)),Xo(this);var D=this.g.ca();this.X=D;var F=cm(this);if(this.o=D==200,sm(this.i,this.v,this.B,this.l,this.S,ke,D),this.o){if(this.U&&!this.L){t:{if(this.g){var U,ee=this.g;if((U=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(U)){var ne=U;break t}}ne=null}if(v=ne)Tr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jo(this,v);else{this.o=!1,this.m=3,bt(12),ir(this),ui(this);break e}}if(this.R){v=!0;let ct;for(;!this.K&&this.C<F.length;)if(ct=um(this,F),ct==Yo){ke==4&&(this.m=4,bt(14),v=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Uc){this.m=4,bt(15),Tr(this.i,this.l,F,"[Invalid Chunk]"),v=!1;break}else Tr(this.i,this.l,ct,null),Jo(this,ct);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||F.length!=0||this.h.h||(this.m=1,bt(16),v=!1),this.o=this.o&&v,!v)Tr(this.i,this.l,F,"[Invalid Chunked Response]"),ir(this),ui(this);else if(F.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),oa(fe),fe.P=!0,bt(11))}}else Tr(this.i,this.l,F,null),Jo(this,F);ke==4&&ir(this),this.o&&!this.K&&(ke==4?vu(this.j,this):(this.o=!1,cs(this)))}else Tm(this.g),D==400&&F.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),ir(this),ui(this)}}}catch{}};function cm(v){if(!jc(v))return v.g.la();const D=uu(v.g);if(D==="")return"";let F="";const U=D.length,ee=Mn(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ir(v),ui(v),"";v.h.i=new l.TextDecoder}for(let ne=0;ne<U;ne++)v.h.h=!0,F+=v.h.i.decode(D[ne],{stream:!(ee&&ne==U-1)});return D.length=0,v.h.g+=F,v.C=0,v.h.g}function jc(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function um(v,D){var F=v.C,U=D.indexOf(`
`,F);return U==-1?Yo:(F=Number(D.substring(F,U)),isNaN(F)?Uc:(U+=1,U+F>D.length?Yo:(D=D.slice(U,U+F),v.C=U+F,D)))}xn.prototype.cancel=function(){this.K=!0,ir(this)};function cs(v){v.T=Date.now()+v.H,Gc(v,v.H)}function Gc(v,D){if(v.D!=null)throw Error("WatchDog timer not null");v.D=ai(d(v.aa,v),D)}function Xo(v){v.D&&(l.clearTimeout(v.D),v.D=null)}xn.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(om(this.i,this.B),this.M!=2&&(oi(),bt(17)),ir(this),this.m=2,ui(this)):Gc(this,this.T-v)};function ui(v){v.j.I==0||v.K||vu(v.j,v)}function ir(v){Xo(v);var D=v.O;D&&typeof D.dispose=="function"&&D.dispose(),v.O=null,$c(v.V),v.g&&(D=v.g,v.g=null,D.abort(),D.dispose())}function Jo(v,D){try{var F=v.j;if(F.I!=0&&(F.g==v||Zo(F.h,v))){if(!v.L&&Zo(F.h,v)&&F.I==3){try{var U=F.Ba.g.parse(D)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ee=U;if(ee[0]==0){e:if(!F.v){if(F.g)if(F.g.F+3e3<v.F)ms(F),fs(F);else break e;sa(F),bt(18)}}else F.xa=ee[1],0<F.xa-F.K&&ee[2]<37500&&F.F&&F.A==0&&!F.C&&(F.C=ai(d(F.Va,F),6e3));Yc(F.h)<=1&&F.ta&&(F.ta=void 0)}else or(F,11)}else if((v.L||F.g==v)&&ms(F),!b(D))for(ee=F.Ba.g.parse(D),D=0;D<ee.length;D++){let Pe=ee[D];const ct=Pe[0];if(!(ct<=F.K))if(F.K=ct,Pe=Pe[1],F.I==2)if(Pe[0]=="c"){F.M=Pe[1],F.ba=Pe[2];const Gt=Pe[3];Gt!=null&&(F.ka=Gt,F.j.info("VER="+F.ka));const ar=Pe[4];ar!=null&&(F.za=ar,F.j.info("SVER="+F.za));const Rn=Pe[5];Rn!=null&&typeof Rn=="number"&&Rn>0&&(U=1.5*Rn,F.O=U,F.j.info("backChannelRequestTimeoutMs_="+U)),U=F;const Ln=v.g;if(Ln){const vs=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var ne=U.h;ne.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ea(ne,ne.h),ne.h=null))}if(U.G){const aa=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(U.wa=aa,He(U.J,U.G,aa))}}F.I=3,F.l&&F.l.ra(),F.aa&&(F.T=Date.now()-v.F,F.j.info("Handshake RTT: "+F.T+"ms")),U=F;var fe=v;if(U.na=bu(U,U.L?U.ba:null,U.W),fe.L){Qc(U.h,fe);var ke=fe,it=U.O;it&&(ke.H=it),ke.D&&(Xo(ke),cs(ke)),U.g=fe}else mu(U);F.i.length>0&&ps(F)}else Pe[0]!="stop"&&Pe[0]!="close"||or(F,7);else F.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?or(F,7):ia(F):Pe[0]!="noop"&&F.l&&F.l.qa(Pe),F.A=0)}}oi(4)}catch{}}var hm=class{constructor(v,D){this.g=v,this.map=D}};function qc(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Yc(v){return v.h?1:v.g?v.g.size:0}function Zo(v,D){return v.h?v.h==D:v.g?v.g.has(D):!1}function ea(v,D){v.g?v.g.add(D):v.h=D}function Qc(v,D){v.h&&v.h==D?v.h=null:v.g&&v.g.has(D)&&v.g.delete(D)}qc.prototype.cancel=function(){if(this.i=Xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Xc(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let D=v.i;for(const F of v.g.values())D=D.concat(F.G);return D}return h(v.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dm(v,D){if(v){v=v.split("&");for(let F=0;F<v.length;F++){const U=v[F].indexOf("=");let ee,ne=null;U>=0?(ee=v[F].substring(0,U),ne=v[F].substring(U+1)):ee=v[F],D(ee,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function kn(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let D;v instanceof kn?(this.l=v.l,hi(this,v.j),this.o=v.o,this.g=v.g,di(this,v.u),this.h=v.h,ta(this,iu(v.i)),this.m=v.m):v&&(D=String(v).match(Jc))?(this.l=!1,hi(this,D[1]||"",!0),this.o=fi(D[2]||""),this.g=fi(D[3]||"",!0),di(this,D[4]),this.h=fi(D[5]||"",!0),ta(this,D[6]||"",!0),this.m=fi(D[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}kn.prototype.toString=function(){const v=[];var D=this.j;D&&v.push(pi(D,Zc,!0),":");var F=this.g;return(F||D=="file")&&(v.push("//"),(D=this.o)&&v.push(pi(D,Zc,!0),"@"),v.push(ci(F).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.u,F!=null&&v.push(":",String(F))),(F=this.h)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(pi(F,F.charAt(0)=="/"?mm:pm,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",pi(F,vm)),v.join("")},kn.prototype.resolve=function(v){const D=jt(this);let F=!!v.j;F?hi(D,v.j):F=!!v.o,F?D.o=v.o:F=!!v.g,F?D.g=v.g:F=v.u!=null;var U=v.h;if(F)di(D,v.u);else if(F=!!v.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var ee=D.h.lastIndexOf("/");ee!=-1&&(U=D.h.slice(0,ee+1)+U)}if(ee=U,ee==".."||ee==".")U="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){U=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ne=[];for(let fe=0;fe<ee.length;){const ke=ee[fe++];ke=="."?U&&fe==ee.length&&ne.push(""):ke==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),U&&fe==ee.length&&ne.push("")):(ne.push(ke),U=!0)}U=ne.join("/")}else U=ee}return F?D.h=U:F=v.i.toString()!=="",F?ta(D,iu(v.i)):F=!!v.m,F&&(D.m=v.m),D};function jt(v){return new kn(v)}function hi(v,D,F){v.j=F?fi(D,!0):D,v.j&&(v.j=v.j.replace(/:$/,""))}function di(v,D){if(D){if(D=Number(D),isNaN(D)||D<0)throw Error("Bad port number "+D);v.u=D}else v.u=null}function ta(v,D,F){D instanceof mi?(v.i=D,ym(v.i,v.l)):(F||(D=pi(D,gm)),v.i=new mi(D,v.l))}function He(v,D,F){v.i.set(D,F)}function us(v){return He(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function fi(v,D){return v?D?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function pi(v,D,F){return typeof v=="string"?(v=encodeURI(v).replace(D,fm),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function fm(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Zc=/[#\/\?@]/g,pm=/[#\?:]/g,mm=/[#\?]/g,gm=/[#\?@]/g,vm=/#/g;function mi(v,D){this.h=this.g=null,this.i=v||null,this.j=!!D}function sr(v){v.g||(v.g=new Map,v.h=0,v.i&&dm(v.i,function(D,F){v.add(decodeURIComponent(D.replace(/\+/g," ")),F)}))}r=mi.prototype,r.add=function(v,D){sr(this),this.i=null,v=Er(this,v);let F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(D),this.h+=1,this};function eu(v,D){sr(v),D=Er(v,D),v.g.has(D)&&(v.i=null,v.h-=v.g.get(D).length,v.g.delete(D))}function tu(v,D){return sr(v),D=Er(v,D),v.g.has(D)}r.forEach=function(v,D){sr(this),this.g.forEach(function(F,U){F.forEach(function(ee){v.call(D,ee,U,this)},this)},this)};function nu(v,D){sr(v);let F=[];if(typeof D=="string")tu(v,D)&&(F=F.concat(v.g.get(Er(v,D))));else for(v=Array.from(v.g.values()),D=0;D<v.length;D++)F=F.concat(v[D]);return F}r.set=function(v,D){return sr(this),this.i=null,v=Er(this,v),tu(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[D]),this.h+=1,this},r.get=function(v,D){return v?(v=nu(this,v),v.length>0?String(v[0]):D):D};function ru(v,D,F){eu(v,D),F.length>0&&(v.i=null,v.g.set(Er(v,D),h(F)),v.h+=F.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],D=Array.from(this.g.keys());for(let U=0;U<D.length;U++){var F=D[U];const ee=ci(F);F=nu(this,F);for(let ne=0;ne<F.length;ne++){let fe=ee;F[ne]!==""&&(fe+="="+ci(F[ne])),v.push(fe)}}return this.i=v.join("&")};function iu(v){const D=new mi;return D.i=v.i,v.g&&(D.g=new Map(v.g),D.h=v.h),D}function Er(v,D){return D=String(D),v.j&&(D=D.toLowerCase()),D}function ym(v,D){D&&!v.j&&(sr(v),v.i=null,v.g.forEach(function(F,U){const ee=U.toLowerCase();U!=ee&&(eu(this,U),ru(this,ee,F))},v)),v.j=D}function wm(v,D){const F=new li;if(l.Image){const U=new Image;U.onload=a(In,F,"TestLoadImage: loaded",!0,D,U),U.onerror=a(In,F,"TestLoadImage: error",!1,D,U),U.onabort=a(In,F,"TestLoadImage: abort",!1,D,U),U.ontimeout=a(In,F,"TestLoadImage: timeout",!1,D,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=v}else D(!1)}function bm(v,D){const F=new li,U=new AbortController,ee=setTimeout(()=>{U.abort(),In(F,"TestPingServer: timeout",!1,D)},1e4);fetch(v,{signal:U.signal}).then(ne=>{clearTimeout(ee),ne.ok?In(F,"TestPingServer: ok",!0,D):In(F,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ee),In(F,"TestPingServer: error",!1,D)})}function In(v,D,F,U,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),U(F)}catch{}}function Sm(){this.g=new rm}function na(v){this.i=v.Sb||null,this.h=v.ab||!1}f(na,Dc),na.prototype.g=function(){return new hs(this.i,this.h)};function hs(v,D){Je.call(this),this.H=v,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(hs,Je),r=hs.prototype,r.open=function(v,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=D,this.readyState=1,vi(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const D={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(D.body=v),(this.H||l).fetch(new Request(this.D,D)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},r.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;su(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function su(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}r.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var D=v.value?v.value:new Uint8Array(0);(D=this.B.decode(D,{stream:!v.done}))&&(this.response=this.responseText+=D)}v.done?gi(this):vi(this),this.readyState==3&&su(this)}},r.Oa=function(v){this.g&&(this.response=this.responseText=v,gi(this))},r.Na=function(v){this.g&&(this.response=v,gi(this))},r.ga=function(){this.g&&gi(this)};function gi(v){v.readyState=4,v.l=null,v.j=null,v.B=null,vi(v)}r.setRequestHeader=function(v,D){this.A.append(v,D)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],D=this.h.entries();for(var F=D.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=D.next();return v.join(`\r
`)};function vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ou(v){let D="";return B(v,function(F,U){D+=U,D+=":",D+=F,D+=`\r
`}),D}function ra(v,D,F){e:{for(U in F){var U=!1;break e}U=!0}U||(F=ou(F),typeof v=="string"?F!=null&&ci(F):He(v,D,F))}function Qe(v){Je.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Qe,Je);var _m=/^https?$/i,Am=["POST","PUT"];r=Qe.prototype,r.Fa=function(v){this.H=v},r.ea=function(v,D,F,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);D=D?D.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bc.g(),this.g.onreadystatechange=u(d(this.Ca,this));try{this.B=!0,this.g.open(D,String(v),!0),this.B=!1}catch(ne){au(this,ne);return}if(v=F||"",F=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ee in U)F.set(ee,U[ee]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ne of U.keys())F.set(ne,U.get(ne));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(F.keys()).find(ne=>ne.toLowerCase()=="content-type"),ee=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Am,D,void 0)>=0)||U||ee||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,fe]of F)this.g.setRequestHeader(ne,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ne){au(this,ne)}};function au(v,D){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=D,v.o=5,lu(v),ds(v)}function lu(v){v.A||(v.A=!0,wt(v,"complete"),wt(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,wt(this,"complete"),wt(this,"abort"),ds(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Qe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?cu(this):this.Xa())},r.Xa=function(){cu(this)};function cu(v){if(v.h&&typeof s<"u"){if(v.v&&Mn(v)==4)setTimeout(v.Ca.bind(v),0);else if(wt(v,"readystatechange"),Mn(v)==4){v.h=!1;try{const ne=v.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var F;if(!(F=D)){var U;if(U=ne===0){let fe=String(v.D).match(Jc)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),U=!_m.test(fe?fe.toLowerCase():"")}F=U}if(F)wt(v,"complete"),wt(v,"success");else{v.o=6;try{var ee=Mn(v)>2?v.g.statusText:""}catch{ee=""}v.l=ee+" ["+v.ca()+"]",lu(v)}}finally{ds(v)}}}}function ds(v,D){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const F=v.g;v.g=null,D||wt(v,"ready");try{F.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Mn(v){return v.g?v.g.readyState:0}r.ca=function(){try{return Mn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(v){if(this.g){var D=this.g.responseText;return v&&D.indexOf(v)==0&&(D=D.substring(v.length)),nm(D)}};function uu(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Tm(v){const D={};v=(v.g&&Mn(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<v.length;U++){if(b(v[U]))continue;var F=lm(v[U]);const ee=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ne=D[ee]||[];D[ee]=ne,ne.push(F)}W(D,function(U){return U.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(v,D,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||D}function hu(v){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,v),this.Za=yi("retryDelaySeedMs",1e4,v),this.Ta=yi("forwardChannelMaxRetries",2,v),this.va=yi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new qc(v&&v.concurrentRequestLimit),this.Ba=new Sm,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hu.prototype,r.ka=8,r.I=1,r.connect=function(v,D,F,U){bt(0),this.W=v,this.H=D||{},F&&U!==void 0&&(this.H.OSID=F,this.H.OAID=U),this.F=this.X,this.J=bu(this,null,this.W),ps(this)};function ia(v){if(du(v),v.I==3){var D=v.V++,F=jt(v.J);if(He(F,"SID",v.M),He(F,"RID",D),He(F,"TYPE","terminate"),wi(v,F),D=new xn(v,v.j,D),D.M=2,D.A=us(jt(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(D.A.toString(),"")}catch{}!F&&l.Image&&(new Image().src=D.A,F=!0),F||(D.g=Su(D.j,null),D.g.ea(D.A)),D.F=Date.now(),cs(D)}wu(v)}function fs(v){v.g&&(oa(v),v.g.cancel(),v.g=null)}function du(v){fs(v),v.v&&(l.clearTimeout(v.v),v.v=null),ms(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function ps(v){if(!Kc(v.h)&&!v.m){v.m=!0;var D=v.Ea;x||k(),_||(x(),_=!0),E.add(D,v),v.D=0}}function Em(v,D){return Yc(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=D.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=ai(d(v.Ea,v,D),yu(v,v.D)),v.D++,!0)}r.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ee=new xn(this,this.j,v);let ne=this.o;if(this.U&&(ne?(ne=G(ne),K(ne,this.U)):ne=this.U),this.u!==null||this.R||(ee.J=ne,ne=null),this.S)e:{for(var D=0,F=0;F<this.i.length;F++){t:{var U=this.i[F];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(D+=U,D>4096){D=F;break e}if(D===4096||F===this.i.length-1){D=F+1;break e}}D=1e3}else D=1e3;D=pu(this,ee,D),F=jt(this.J),He(F,"RID",v),He(F,"CVER",22),this.G&&He(F,"X-HTTP-Session-Id",this.G),wi(this,F),ne&&(this.R?D="headers="+ci(ou(ne))+"&"+D:this.u&&ra(F,this.u,ne)),ea(this.h,ee),this.Ra&&He(F,"TYPE","init"),this.S?(He(F,"$req",D),He(F,"SID","null"),ee.U=!0,Qo(ee,F,null)):Qo(ee,F,D),this.I=2}}else this.I==3&&(v?fu(this,v):this.i.length==0||Kc(this.h)||fu(this))};function fu(v,D){var F;D?F=D.l:F=v.V++;const U=jt(v.J);He(U,"SID",v.M),He(U,"RID",F),He(U,"AID",v.K),wi(v,U),v.u&&v.o&&ra(U,v.u,v.o),F=new xn(v,v.j,F,v.D+1),v.u===null&&(F.J=v.o),D&&(v.i=D.G.concat(v.i)),D=pu(v,F,1e3),F.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),ea(v.h,F),Qo(F,U,D)}function wi(v,D){v.H&&B(v.H,function(F,U){He(D,U,F)}),v.l&&B({},function(F,U){He(D,U,F)})}function pu(v,D,F){F=Math.min(v.i.length,F);const U=v.l?d(v.l.Ka,v.l,v):null;e:{var ee=v.i;let ke=-1;for(;;){const it=["count="+F];ke==-1?F>0?(ke=ee[0].g,it.push("ofs="+ke)):ke=0:it.push("ofs="+ke);let Pe=!0;for(let ct=0;ct<F;ct++){var ne=ee[ct].g;const Gt=ee[ct].map;if(ne-=ke,ne<0)ke=Math.max(0,ee[ct].g-100),Pe=!1;else try{ne="req"+ne+"_"||"";try{var fe=Gt instanceof Map?Gt:Object.entries(Gt);for(const[ar,Rn]of fe){let Ln=Rn;m(Rn)&&(Ln=jo(Rn)),it.push(ne+ar+"="+encodeURIComponent(Ln))}}catch(ar){throw it.push(ne+"type="+encodeURIComponent("_badmap")),ar}}catch{U&&U(Gt)}}if(Pe){fe=it.join("&");break e}}fe=void 0}return v=v.i.splice(0,F),D.G=v,fe}function mu(v){if(!v.g&&!v.v){v.Y=1;var D=v.Da;x||k(),_||(x(),_=!0),E.add(D,v),v.A=0}}function sa(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=ai(d(v.Da,v),yu(v,v.A)),v.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=ai(d(this.Wa,this),v)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),fs(this),gu(this))};function oa(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function gu(v){v.g=new xn(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var D=jt(v.na);He(D,"RID","rpc"),He(D,"SID",v.M),He(D,"AID",v.K),He(D,"CI",v.F?"0":"1"),!v.F&&v.ia&&He(D,"TO",v.ia),He(D,"TYPE","xmlhttp"),wi(v,D),v.u&&v.o&&ra(D,v.u,v.o),v.O&&(v.g.H=v.O);var F=v.g;v=v.ba,F.M=1,F.A=us(jt(D)),F.u=null,F.R=!0,Wc(F,v)}r.Va=function(){this.C!=null&&(this.C=null,fs(this),sa(this),bt(19))};function ms(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function vu(v,D){var F=null;if(v.g==D){ms(v),oa(v),v.g=null;var U=2}else if(Zo(v.h,D))F=D.G,Qc(v.h,D),U=1;else return;if(v.I!=0){if(D.o)if(U==1){F=D.u?D.u.length:0,D=Date.now()-D.F;var ee=v.D;U=as(),wt(U,new zc(U,F)),ps(v)}else mu(v);else if(ee=D.m,ee==3||ee==0&&D.X>0||!(U==1&&Em(v,D)||U==2&&sa(v)))switch(F&&F.length>0&&(D=v.h,D.i=D.i.concat(F)),ee){case 1:or(v,5);break;case 4:or(v,10);break;case 3:or(v,6);break;default:or(v,2)}}}function yu(v,D){let F=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(F*=2),F*D}function or(v,D){if(v.j.info("Error code "+D),D==2){var F=d(v.bb,v),U=v.Ua;const ee=!U;U=new kn(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||hi(U,"https"),us(U),ee?wm(U.toString(),F):bm(U.toString(),F)}else bt(2);v.I=0,v.l&&v.l.pa(D),wu(v),du(v)}r.bb=function(v){v?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function wu(v){if(v.I=0,v.ja=[],v.l){const D=Xc(v.h);(D.length!=0||v.i.length!=0)&&(c(v.ja,D),c(v.ja,v.i),v.h.i.length=0,h(v.i),v.i.length=0),v.l.oa()}}function bu(v,D,F){var U=F instanceof kn?jt(F):new kn(F);if(U.g!="")D&&(U.g=D+"."+U.g),di(U,U.u);else{var ee=l.location;U=ee.protocol,D=D?D+"."+ee.hostname:ee.hostname,ee=+ee.port;const ne=new kn(null);U&&hi(ne,U),D&&(ne.g=D),ee&&di(ne,ee),F&&(ne.h=F),U=ne}return F=v.G,D=v.wa,F&&D&&He(U,F,D),He(U,"VER",v.ka),wi(v,U),U}function Su(v,D,F){if(D&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return D=v.Aa&&!v.ma?new Qe(new na({ab:F})):new Qe(v.ma),D.Fa(v.L),D}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(v,D){return new kt(v,D)};function kt(v,D){Je.call(this),this.g=new hu(D),this.l=v,this.h=D&&D.messageUrlParams||null,v=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(v?v["X-WebChannel-Content-Type"]=D.messageContentType:v={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.sa&&(v?v["X-WebChannel-Client-Profile"]=D.sa:v={"X-WebChannel-Client-Profile":D.sa}),this.g.U=v,(v=D&&D.Qb)&&!b(v)&&(this.g.u=v),this.A=D&&D.supportsCrossDomainXhr||!1,this.v=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!b(D)&&(this.g.G=D,v=this.h,v!==null&&D in v&&(v=this.h,D in v&&delete v[D])),this.j=new Cr(this)}f(kt,Je),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){ia(this.g)},kt.prototype.o=function(v){var D=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.v&&(F={},F.__data__=jo(v),v=F);D.i.push(new hm(D.Ya++,v)),D.I==3&&ps(D)},kt.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,kt.Z.N.call(this)};function Au(v){Go.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var D=v.__sm__;if(D){e:{for(const F in D){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,D=D!==null&&v in D?D[v]:void 0),this.data=D}else this.data=v}f(Au,Go);function Tu(){qo.call(this),this.status=1}f(Tu,qo);function Cr(v){this.g=v}f(Cr,_u),Cr.prototype.ra=function(){wt(this.g,"a")},Cr.prototype.qa=function(v){wt(this.g,new Au(v))},Cr.prototype.pa=function(v){wt(this.g,new Tu)},Cr.prototype.oa=function(){wt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Rd=function(){return new gs},Md=function(){return as()},Id=rr,Ga={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Ps=ls,Vc.COMPLETE="complete",kd=Vc,Nc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Je.prototype.listen=Je.prototype.J,bi=Nc,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,xd=Qe}).apply(typeof ws<"u"?ws:typeof self<"u"?self:typeof window<"u"?window:{});const eh="@firebase/firestore",th="4.9.3";class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let Xr="12.7.0";const vr=new yl("@firebase/firestore");function kr(){return vr.logLevel}function ge(r,...e){if(vr.logLevel<=Ie.DEBUG){const t=e.map(Rl);vr.debug(`Firestore (${Xr}): ${r}`,...t)}}function bn(r,...e){if(vr.logLevel<=Ie.ERROR){const t=e.map(Rl);vr.error(`Firestore (${Xr}): ${r}`,...t)}}function zr(r,...e){if(vr.logLevel<=Ie.WARN){const t=e.map(Rl);vr.warn(`Firestore (${Xr}): ${r}`,...t)}}function Rl(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Ld(r,n,t)}function Ld(r,e,t){let n=`FIRESTORE (${Xr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw bn(n),new Error(n)}function Oe(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||Ld(e,i,n)}function Ce(r,e){return r}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class $d{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gt.UNAUTHENTICATED)))}shutdown(){}}class fy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class py{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0,42304);let n=this.i;const i=o=>this.i!==n?(n=this.i,t(o)):Promise.resolve();let s=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jn,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const o=s;e.enqueueRetryable((async()=>{await o.promise,await i(this.currentUser)}))},m=o=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((o=>m(o))),setTimeout((()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?m(o):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jn)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Oe(typeof n.accessToken=="string",31837,{l:n}),new $d(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class my{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gy{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new my(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vy{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Oe(this.o===void 0,3512);const n=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Oe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nh(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yy(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class Ll{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=yy(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%62))}return n}}function Me(r,e){return r<e?-1:r>e?1:0}function qa(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),s=e.charAt(n);if(i!==s)return ma(i)===ma(s)?Me(i,s):ma(i)?1:-1}return Me(r.length,e.length)}const wy=55296,by=57343;function ma(r){const e=r.charCodeAt(0);return e>=wy&&e<=by}function Vr(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}const rh="__name__";class Kt{constructor(e,t,n){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Se(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Kt.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kt?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=Kt.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Me(e.length,t.length)}static compareSegments(e,t){const n=Kt.isNumericId(e),i=Kt.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Kt.extractNumericId(e).compare(Kt.extractNumericId(t)):qa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wn.fromString(e.substring(4,e.length-2))}}class Ge extends Kt{construct(e,t,n){return new Ge(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const Sy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Kt{construct(e,t,n){return new ft(e,t,n)}static isValidIdentifier(e){return Sy.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rh}static keyField(){return new ft([rh])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=o,i+=2}else m==="`"?(l=!l,i++):m!=="."||l?(n+=m,i++):(s(),i++)}if(s(),l)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(Ge.fromString(e))}static fromName(e){return new be(Ge.fromString(e).popFirst(5))}static empty(){return new be(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Ge(e.slice()))}}function _y(r,e,t){if(!t)throw new ve(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ay(r,e,t,n){if(e===!0&&n===!0)throw new ve(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ih(r){if(!be.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dd(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $l(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function Pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$l(r);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function nt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ji(r,e){if(!Dd(r))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(i&&typeof l!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new ve(ae.INVALID_ARGUMENT,t);return!0}const sh=-62135596800,oh=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*oh);return new Ue(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sh)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oh}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ji(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:nt("string",Ue._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ue(0,0))}static max(){return new Ee(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fi=-1;function Ty(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(n===1e9?new Ue(t+1,0):new Ue(t,n));return new qn(i,be.empty(),e)}function Ey(r){return new qn(r.readTime,r.key,Fi)}class qn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qn(Ee.min(),be.empty(),Fi)}static max(){return new qn(Ee.max(),be.empty(),Fi)}}function Cy(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(r.documentKey,e.documentKey),t!==0?t:Me(r.largestBatchId,e.largestBatchId))}const xy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ky{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jr(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==xy)throw r;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,n)=>{t(e)}))}static reject(e){return new ie(((t,n)=>{n(e)}))}static waitFor(e){return new ie(((t,n)=>{let i=0,s=0,l=!1;e.forEach((m=>{++i,m.next((()=>{++s,l&&s===i&&t()}),(o=>n(o)))})),l=!0,s===i&&t()}))}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next((i=>i?ie.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,s)=>{n.push(t.call(this,i,s))})),this.waitFor(n)}static mapArray(e,t){return new ie(((n,i)=>{const s=e.length,l=new Array(s);let m=0;for(let o=0;o<s;o++){const d=o;t(e[d]).next((a=>{l[d]=a,++m,m===s&&n(l)}),(a=>i(a)))}}))}static doWhile(e,t){return new ie(((n,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):n()};s()}))}}function Iy(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zr(r){return r.name==="IndexedDbTransactionError"}class Eo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eo.ce=-1;const Dl=-1;function Co(r){return r==null}function eo(r){return r===0&&1/r==-1/0}function My(r){return typeof r=="number"&&Number.isInteger(r)&&!eo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Nd="";function Ry(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ah(e)),e=Ly(r.get(t),e);return ah(e)}function Ly(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":t+="";break;case Nd:t+="";break;default:t+=s}}return t}function ah(r){return r+Nd+""}function lh(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function wr(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Od(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ke{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new Ke(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}}class bs{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new dt(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,n,i,s){return this}insert(e,t,n){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ot{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(e){return new ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ot(this.comparator);return t.data=e,t}}class ch{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ht{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Ht([])}unionWith(e){let t=new ot(ft.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ht(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class Pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pd("Invalid base64 string: "+s):s}})(e);return new pt(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const $y=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(r){if(Oe(!!r,39018),typeof r=="string"){let e=0;const t=$y.exec(r);if(Oe(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ze(r.seconds),nanos:Ze(r.nanos)}}function Ze(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yn(r){return typeof r=="string"?pt.fromBase64String(r):pt.fromUint8Array(r)}const Fd="server_timestamp",zd="__type__",Vd="__previous_value__",Bd="__local_write_time__";function Nl(r){return(r?.mapValue?.fields||{})[zd]?.stringValue===Fd}function xo(r){const e=r.mapValue.fields[Vd];return Nl(e)?xo(e):e}function zi(r){const e=Kn(r.mapValue.fields[Bd].timestampValue);return new Ue(e.seconds,e.nanos)}class Dy{constructor(e,t,n,i,s,l,m,o,d,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=o,this.useFetchStreams=d,this.isUsingEmulator=a}}const to="(default)";class Vi{constructor(e,t){this.projectId=e,this.database=t||to}static empty(){return new Vi("","")}get isDefaultDatabase(){return this.database===to}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}const Hd="__type__",Ny="__max__",Ss={mapValue:{}},Ud="__vector__",no="value";function Qn(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nl(r)?4:Py(r)?9007199254740991:Oy(r)?10:11:Se(28295,{value:r})}function sn(r,e){if(r===e)return!0;const t=Qn(r);if(t!==Qn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zi(r).isEqual(zi(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Kn(i.timestampValue),m=Kn(s.timestampValue);return l.seconds===m.seconds&&l.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,s){return Yn(i.bytesValue).isEqual(Yn(s.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)})(r,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ze(i.doubleValue),m=Ze(s.doubleValue);return l===m?eo(l)===eo(m):isNaN(l)&&isNaN(m)}return!1})(r,e);case 9:return Vr(r.arrayValue.values||[],e.arrayValue.values||[],sn);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},m=s.mapValue.fields||{};if(lh(l)!==lh(m))return!1;for(const o in l)if(l.hasOwnProperty(o)&&(m[o]===void 0||!sn(l[o],m[o])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Bi(r,e){return(r.values||[]).find((t=>sn(t,e)))!==void 0}function Br(r,e){if(r===e)return 0;const t=Qn(r),n=Qn(e);if(t!==n)return Me(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(s,l){const m=Ze(s.integerValue||s.doubleValue),o=Ze(l.integerValue||l.doubleValue);return m<o?-1:m>o?1:m===o?0:isNaN(m)?isNaN(o)?0:-1:1})(r,e);case 3:return uh(r.timestampValue,e.timestampValue);case 4:return uh(zi(r),zi(e));case 5:return qa(r.stringValue,e.stringValue);case 6:return(function(s,l){const m=Yn(s),o=Yn(l);return m.compareTo(o)})(r.bytesValue,e.bytesValue);case 7:return(function(s,l){const m=s.split("/"),o=l.split("/");for(let d=0;d<m.length&&d<o.length;d++){const a=Me(m[d],o[d]);if(a!==0)return a}return Me(m.length,o.length)})(r.referenceValue,e.referenceValue);case 8:return(function(s,l){const m=Me(Ze(s.latitude),Ze(l.latitude));return m!==0?m:Me(Ze(s.longitude),Ze(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return hh(r.arrayValue,e.arrayValue);case 10:return(function(s,l){const m=s.fields||{},o=l.fields||{},d=m[no]?.arrayValue,a=o[no]?.arrayValue,f=Me(d?.values?.length||0,a?.values?.length||0);return f!==0?f:hh(d,a)})(r.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Ss.mapValue&&l===Ss.mapValue)return 0;if(s===Ss.mapValue)return 1;if(l===Ss.mapValue)return-1;const m=s.fields||{},o=Object.keys(m),d=l.fields||{},a=Object.keys(d);o.sort(),a.sort();for(let f=0;f<o.length&&f<a.length;++f){const u=qa(o[f],a[f]);if(u!==0)return u;const h=Br(m[o[f]],d[a[f]]);if(h!==0)return h}return Me(o.length,a.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function uh(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const t=Kn(r),n=Kn(e),i=Me(t.seconds,n.seconds);return i!==0?i:Me(t.nanos,n.nanos)}function hh(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=Br(t[i],n[i]);if(s)return s}return Me(t.length,n.length)}function Hr(r){return Ka(r)}function Ka(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Kn(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Yn(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return be.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=Ka(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of n)s?s=!1:i+=",",i+=`${l}:${Ka(t.fields[l])}`;return i+"}"})(r.mapValue):Se(61005,{value:r})}function Fs(r){switch(Qn(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xo(r);return e?16+Fs(e):16;case 5:return 2*r.stringValue.length;case 6:return Yn(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Fs(s)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return wr(n.fields,((s,l)=>{i+=s.length+Fs(l)})),i})(r.mapValue);default:throw Se(13486,{value:r})}}function Ya(r){return!!r&&"integerValue"in r}function Ol(r){return!!r&&"arrayValue"in r}function dh(r){return!!r&&"nullValue"in r}function fh(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zs(r){return!!r&&"mapValue"in r}function Oy(r){return(r?.mapValue?.fields||{})[Hd]?.stringValue===Ud}function Ii(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wr(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ii(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ii(r.arrayValue.values[t]);return e}return{...r}}function Py(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ny}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ii(t)}setAll(e){let t=ft.emptyPath(),n={},i=[];e.forEach(((l,m)=>{if(!t.isImmediateParentOf(m)){const o=this.getFieldsMap(t);this.applyChanges(o,n,i),n={},i=[],t=m.popLast()}l?n[m.lastSegment()]=Ii(l):i.push(m.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());zs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];zs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){wr(t,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new $t(Ii(this.value))}}function Wd(r){const e=[];return wr(r.fields,((t,n)=>{const i=new ft([t]);if(zs(n)){const s=Wd(n.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Ht(e)}class vt{constructor(e,t,n,i,s,l,m){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=l,this.documentState=m}static newInvalidDocument(e){return new vt(e,0,Ee.min(),Ee.min(),Ee.min(),$t.empty(),0)}static newFoundDocument(e,t,n,i){return new vt(e,1,t,Ee.min(),n,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Ee.min(),Ee.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ee.min(),Ee.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(e,t){this.position=e,this.inclusive=t}}function ph(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],l=r.position[i];if(s.field.isKeyField()?n=be.comparator(be.fromName(l.referenceValue),t.key):n=Br(l,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function mh(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sn(r.position[t],e.position[t]))return!1;return!0}class io{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fy(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class jd{}class st extends jd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Vy(e,t,n):t==="array-contains"?new Uy(e,n):t==="in"?new Wy(e,n):t==="not-in"?new jy(e,n):t==="array-contains-any"?new Gy(e,n):new st(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new By(e,n):new Hy(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Br(t,this.value)):t!==null&&Qn(this.value)===Qn(t)&&this.matchesComparison(Br(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends jd{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new on(e,t)}matches(e){return Gd(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gd(r){return r.op==="and"}function qd(r){return zy(r)&&Gd(r)}function zy(r){for(const e of r.filters)if(e instanceof on)return!1;return!0}function Qa(r){if(r instanceof st)return r.field.canonicalString()+r.op.toString()+Hr(r.value);if(qd(r))return r.filters.map((e=>Qa(e))).join(",");{const e=r.filters.map((t=>Qa(t))).join(",");return`${r.op}(${e})`}}function Kd(r,e){return r instanceof st?(function(n,i){return i instanceof st&&n.op===i.op&&n.field.isEqual(i.field)&&sn(n.value,i.value)})(r,e):r instanceof on?(function(n,i){return i instanceof on&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,l,m)=>s&&Kd(l,i.filters[m])),!0):!1})(r,e):void Se(19439)}function Yd(r){return r instanceof st?(function(t){return`${t.field.canonicalString()} ${t.op} ${Hr(t.value)}`})(r):r instanceof on?(function(t){return t.op.toString()+" {"+t.getFilters().map(Yd).join(" ,")+"}"})(r):"Filter"}class Vy extends st{constructor(e,t,n){super(e,t,n),this.key=be.fromName(n.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class By extends st{constructor(e,t){super(e,"in",t),this.keys=Qd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Hy extends st{constructor(e,t){super(e,"not-in",t),this.keys=Qd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Qd(r,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class Uy extends st{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ol(t)&&Bi(t.arrayValue,this.value)}}class Wy extends st{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bi(this.value.arrayValue,t)}}class jy extends st{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bi(this.value.arrayValue,t)}}class Gy extends st{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ol(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Bi(this.value.arrayValue,n)))}}class qy{constructor(e,t=null,n=[],i=[],s=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=l,this.endAt=m,this.Te=null}}function gh(r,e=null,t=[],n=[],i=null,s=null,l=null){return new qy(r,e,t,n,i,s,l)}function Pl(r){const e=Ce(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Qa(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Co(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Hr(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Hr(n))).join(",")),e.Te=t}return e.Te}function Fl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Fy(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Kd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mh(r.startAt,e.startAt)&&mh(r.endAt,e.endAt)}function Xa(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ko{constructor(e,t=null,n=[],i=[],s=null,l="F",m=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=l,this.startAt=m,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ky(r,e,t,n,i,s,l,m){return new ko(r,e,t,n,i,s,l,m)}function zl(r){return new ko(r)}function vh(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Yy(r){return r.collectionGroup!==null}function Mi(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let m=new ot(ft.comparator);return l.filters.forEach((o=>{o.getFlattenedFilters().forEach((d=>{d.isInequality()&&(m=m.add(d.field))}))})),m})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new io(s,n))})),t.has(ft.keyField().canonicalString())||e.Ie.push(new io(ft.keyField(),n))}return e.Ie}function Zt(r){const e=Ce(r);return e.Ee||(e.Ee=Qy(e,Mi(r))),e.Ee}function Qy(r,e){if(r.limitType==="F")return gh(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new io(i.field,s)}));const t=r.endAt?new ro(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ro(r.startAt.position,r.startAt.inclusive):null;return gh(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Ja(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Io(r,e){return Fl(Zt(r),Zt(e))&&r.limitType===e.limitType}function Xd(r){return`${Pl(Zt(r))}|lt:${r.limitType}`}function Ir(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>Yd(i))).join(", ")}]`),Co(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Hr(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Hr(i))).join(",")),`Target(${n})`})(Zt(r))}; limitType=${r.limitType})`}function Mo(r,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):be.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,e)&&(function(n,i){for(const s of Mi(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(l,m,o){const d=ph(l,m,o);return l.inclusive?d<=0:d<0})(n.startAt,Mi(n),i)||n.endAt&&!(function(l,m,o){const d=ph(l,m,o);return l.inclusive?d>=0:d>0})(n.endAt,Mi(n),i))})(r,e)}function Xy(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jd(r){return(e,t)=>{let n=!1;for(const i of Mi(r)){const s=Jy(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Jy(r,e,t){const n=r.field.isKeyField()?be.comparator(e.key,t.key):(function(s,l,m){const o=l.data.field(s),d=m.data.field(s);return o!==null&&d!==null?Br(o,d):Se(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Se(19790,{direction:r.dir})}}class br{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((t,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return Od(this.inner)}size(){return this.innerSize}}const Zy=new Ke(be.comparator);function Sn(){return Zy}const Zd=new Ke(be.comparator);function Si(...r){let e=Zd;for(const t of r)e=e.insert(t.key,t);return e}function ef(r){let e=Zd;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function dr(){return Ri()}function tf(){return Ri()}function Ri(){return new br((r=>r.toString()),((r,e)=>r.isEqual(e)))}const e4=new Ke(be.comparator),t4=new ot(be.comparator);function Re(...r){let e=t4;for(const t of r)e=e.add(t);return e}const n4=new ot(Me);function r4(){return n4}function Vl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(e)?"-0":e}}function nf(r){return{integerValue:""+r}}function i4(r,e){return My(e)?nf(e):Vl(r,e)}class Ro{constructor(){this._=void 0}}function s4(r,e,t){return r instanceof so?(function(i,s){const l={fields:{[zd]:{stringValue:Fd},[Bd]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nl(s)&&(s=xo(s)),s&&(l.fields[Vd]=s),{mapValue:l}})(t,e):r instanceof Ur?sf(r,e):r instanceof Hi?of(r,e):(function(i,s){const l=rf(i,s),m=yh(l)+yh(i.Ae);return Ya(l)&&Ya(i.Ae)?nf(m):Vl(i.serializer,m)})(r,e)}function o4(r,e,t){return r instanceof Ur?sf(r,e):r instanceof Hi?of(r,e):t}function rf(r,e){return r instanceof oo?(function(n){return Ya(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class so extends Ro{}class Ur extends Ro{constructor(e){super(),this.elements=e}}function sf(r,e){const t=af(e);for(const n of r.elements)t.some((i=>sn(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Hi extends Ro{constructor(e){super(),this.elements=e}}function of(r,e){let t=af(e);for(const n of r.elements)t=t.filter((i=>!sn(i,n)));return{arrayValue:{values:t}}}class oo extends Ro{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yh(r){return Ze(r.integerValue||r.doubleValue)}function af(r){return Ol(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class a4{constructor(e,t){this.field=e,this.transform=t}}function l4(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Ur&&i instanceof Ur||n instanceof Hi&&i instanceof Hi?Vr(n.elements,i.elements,sn):n instanceof oo&&i instanceof oo?sn(n.Ae,i.Ae):n instanceof so&&i instanceof so})(r.transform,e.transform)}class c4{constructor(e,t){this.version=e,this.transformResults=t}}class mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vs(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lo{}function lf(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uf(r.key,mn.none()):new Zi(r.key,r.data,mn.none());{const t=r.data,n=$t.empty();let i=new ot(ft.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?n.delete(s):n.set(s,l),i=i.add(s)}return new Sr(r.key,n,new Ht(i.toArray()),mn.none())}}function u4(r,e,t){r instanceof Zi?(function(i,s,l){const m=i.value.clone(),o=bh(i.fieldTransforms,s,l.transformResults);m.setAll(o),s.convertToFoundDocument(l.version,m).setHasCommittedMutations()})(r,e,t):r instanceof Sr?(function(i,s,l){if(!Vs(i.precondition,s))return void s.convertToUnknownDocument(l.version);const m=bh(i.fieldTransforms,s,l.transformResults),o=s.data;o.setAll(cf(i)),o.setAll(m),s.convertToFoundDocument(l.version,o).setHasCommittedMutations()})(r,e,t):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Li(r,e,t,n){return r instanceof Zi?(function(s,l,m,o){if(!Vs(s.precondition,l))return m;const d=s.value.clone(),a=Sh(s.fieldTransforms,o,l);return d.setAll(a),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(r,e,t,n):r instanceof Sr?(function(s,l,m,o){if(!Vs(s.precondition,l))return m;const d=Sh(s.fieldTransforms,o,l),a=l.data;return a.setAll(cf(s)),a.setAll(d),l.convertToFoundDocument(l.version,a).setHasLocalMutations(),m===null?null:m.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(r,e,t,n):(function(s,l,m){return Vs(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):m})(r,e,t)}function h4(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=rf(n.transform,i||null);s!=null&&(t===null&&(t=$t.empty()),t.set(n.field,s))}return t||null}function wh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vr(n,i,((s,l)=>l4(s,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zi extends Lo{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends Lo{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cf(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function bh(r,e,t){const n=new Map;Oe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const s=r[i],l=s.transform,m=e.data.field(s.field);n.set(s.field,o4(l,m,t[i]))}return n}function Sh(r,e,t){const n=new Map;for(const i of r){const s=i.transform,l=t.data.field(i.field);n.set(i.field,s4(s,l,e))}return n}class uf extends Lo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d4 extends Lo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f4{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u4(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Li(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Li(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tf();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let m=this.applyToLocalView(l,s.mutatedFields);m=t.has(i.key)?null:m;const o=lf(l,m);o!==null&&n.set(i.key,o),l.isValidDocument()||l.convertToNoDocument(Ee.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,((t,n)=>wh(t,n)))&&Vr(this.baseMutations,e.baseMutations,((t,n)=>wh(t,n)))}}class Bl{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Oe(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return e4})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,n[l].version);return new Bl(e,t,n,i)}}class p4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class m4{constructor(e,t){this.count=e,this.unchangedNames=t}}var tt,$e;function g4(r){switch(r){case ae.OK:return Se(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function hf(r){if(r===void 0)return bn("GRPC error has no .code"),ae.UNKNOWN;switch(r){case tt.OK:return ae.OK;case tt.CANCELLED:return ae.CANCELLED;case tt.UNKNOWN:return ae.UNKNOWN;case tt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case tt.INTERNAL:return ae.INTERNAL;case tt.UNAVAILABLE:return ae.UNAVAILABLE;case tt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case tt.NOT_FOUND:return ae.NOT_FOUND;case tt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case tt.ABORTED:return ae.ABORTED;case tt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case tt.DATA_LOSS:return ae.DATA_LOSS;default:return Se(39323,{code:r})}}($e=tt||(tt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function v4(){return new TextEncoder}const y4=new Wn([4294967295,4294967295],0);function _h(r){const e=v4().encode(r),t=new Cd;return t.update(e),new Uint8Array(t.digest())}function Ah(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wn([t,n],0),new Wn([i,s],0)]}class Hl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _i(`Invalid padding: ${t}`);if(n<0)throw new _i(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new _i(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wn.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Wn.fromNumber(n)));return i.compare(y4)===1&&(i=new Wn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_h(e),[n,i]=Ah(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(n,i,s);if(!this.we(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Hl(s,i,t);return n.forEach((m=>l.insert(m))),l}insert(e){if(this.ge===0)return;const t=_h(e),[n,i]=Ah(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(n,i,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _i extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $o{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,es.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $o(Ee.min(),i,new Ke(Me),Sn(),Re())}}class es{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new es(n,t,Re(),Re(),Re())}}class Bs{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class df{constructor(e,t){this.targetId=e,this.Ce=t}}class ff{constructor(e,t,n=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Th{constructor(){this.ve=0,this.Fe=Eh(),this.Me=pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),t=Re(),n=Re();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Se(38017,{changeType:s})}})),new es(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Eh()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sn(),this.Je=_s(),this.He=_s(),this.Ye=new Ke(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Xa(s))if(n===0){const l=new be(s.path);this.et(t,l,vt.newNoDocument(l,Ee.min()))}else Oe(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const m=this.ut(e),o=m?this.ct(m,e,l):1;if(o!==0){this.it(t);const d=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let l,m;try{l=Yn(n).toUint8Array()}catch(o){if(o instanceof Pd)return zr("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{m=new Hl(l,i,s)}catch(o){return zr(o instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return m.ge===0?null:m}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((s=>{const l=this.Ge.ht(),m=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(m)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const m=this.ot(l);if(m){if(s.current&&Xa(m.target)){const o=new be(m.target.path);this.It(o).has(l)||this.Et(l,o)||this.et(l,o,vt.newNoDocument(o,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let n=Re();this.He.forEach(((s,l)=>{let m=!0;l.forEachWhile((o=>{const d=this.ot(o);return!d||d.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(n=n.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new $o(e,t,this.Ye,this.je,n);return this.je=Sn(),this.Je=_s(),this.He=_s(),this.Ye=new Ke(Me),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Th,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ot(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ot(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Th),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _s(){return new Ke(be.comparator)}function Eh(){return new Ke(be.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_4={and:"AND",or:"OR"};class A4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Za(r,e){return r.useProto3Json||Co(e)?e:{value:e}}function ao(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function T4(r,e){return ao(r,e.toTimestamp())}function en(r){return Oe(!!r,49232),Ee.fromTimestamp((function(t){const n=Kn(t);return new Ue(n.seconds,n.nanos)})(r))}function Ul(r,e){return el(r,e).canonicalString()}function el(r,e){const t=(function(i){return new Ge(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function mf(r){const e=Ge.fromString(r);return Oe(bf(e),10190,{key:e.toString()}),e}function tl(r,e){return Ul(r.databaseId,e.path)}function ga(r,e){const t=mf(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new be(vf(t))}function gf(r,e){return Ul(r.databaseId,e)}function E4(r){const e=mf(r);return e.length===4?Ge.emptyPath():vf(e)}function nl(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vf(r){return Oe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ch(r,e,t){return{name:tl(r,e),fields:t.value.mapValue.fields}}function C4(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Se(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,a){return d.useProto3Json?(Oe(a===void 0||typeof a=="string",58123),pt.fromBase64String(a||"")):(Oe(a===void 0||a instanceof Buffer||a instanceof Uint8Array,16193),pt.fromUint8Array(a||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&(function(d){const a=d.code===void 0?ae.UNKNOWN:hf(d.code);return new ve(a,d.message||"")})(l);t=new ff(n,i,s,m||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ga(r,n.document.name),s=en(n.document.updateTime),l=n.document.createTime?en(n.document.createTime):Ee.min(),m=new $t({mapValue:{fields:n.document.fields}}),o=vt.newFoundDocument(i,s,l,m),d=n.targetIds||[],a=n.removedTargetIds||[];t=new Bs(d,a,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ga(r,n.document),s=n.readTime?en(n.readTime):Ee.min(),l=vt.newNoDocument(i,s),m=n.removedTargetIds||[];t=new Bs([],m,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ga(r,n.document),s=n.removedTargetIds||[];t=new Bs([],s,i,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,l=new m4(i,s),m=n.targetId;t=new df(m,l)}}return t}function x4(r,e){let t;if(e instanceof Zi)t={update:Ch(r,e.key,e.value)};else if(e instanceof uf)t={delete:tl(r,e.key)};else if(e instanceof Sr)t={update:Ch(r,e.key,e.data),updateMask:O4(e.fieldMask)};else{if(!(e instanceof d4))return Se(16599,{Vt:e.type});t={verify:tl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,l){const m=l.transform;if(m instanceof so)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ur)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hi)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oo)return{fieldPath:l.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:T4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(r,e.precondition)),t}function k4(r,e){return r&&r.length>0?(Oe(e!==void 0,14353),r.map((t=>(function(i,s){let l=i.updateTime?en(i.updateTime):en(s);return l.isEqual(Ee.min())&&(l=en(s)),new c4(l,i.transformResults||[])})(t,e)))):[]}function I4(r,e){return{documents:[gf(r,e.path)]}}function M4(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=gf(r,i);const s=(function(d){if(d.length!==0)return wf(on.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(d){if(d.length!==0)return d.map((a=>(function(u){return{field:Mr(u.field),direction:$4(u.dir)}})(a)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const m=Za(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function R4(r){let e=E4(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Oe(n===1,65062);const a=t.from[0];a.allDescendants?i=a.collectionId:e=e.child(a.collectionId)}let s=[];t.where&&(s=(function(f){const u=yf(f);return u instanceof on&&qd(u)?u.getFilters():[u]})(t.where));let l=[];t.orderBy&&(l=(function(f){return f.map((u=>(function(c){return new io(Rr(c.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(c.direction))})(u)))})(t.orderBy));let m=null;t.limit&&(m=(function(f){let u;return u=typeof f=="object"?f.value:f,Co(u)?null:u})(t.limit));let o=null;t.startAt&&(o=(function(f){const u=!!f.before,h=f.values||[];return new ro(h,u)})(t.startAt));let d=null;return t.endAt&&(d=(function(f){const u=!f.before,h=f.values||[];return new ro(h,u)})(t.endAt)),Ky(e,i,l,s,m,"F",o,d)}function L4(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yf(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Rr(t.unaryFilter.field);return st.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Rr(t.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rr(t.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Rr(t.unaryFilter.field);return st.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(t){return st.create(Rr(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return on.create(t.compositeFilter.filters.map((n=>yf(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(r):Se(30097,{filter:r})}function $4(r){return b4[r]}function D4(r){return S4[r]}function N4(r){return _4[r]}function Mr(r){return{fieldPath:r.canonicalString()}}function Rr(r){return ft.fromServerFormat(r.fieldPath)}function wf(r){return r instanceof st?(function(t){if(t.op==="=="){if(fh(t.value))return{unaryFilter:{field:Mr(t.field),op:"IS_NAN"}};if(dh(t.value))return{unaryFilter:{field:Mr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fh(t.value))return{unaryFilter:{field:Mr(t.field),op:"IS_NOT_NAN"}};if(dh(t.value))return{unaryFilter:{field:Mr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(t.field),op:D4(t.op),value:t.value}}})(r):r instanceof on?(function(t){const n=t.getFilters().map((i=>wf(i)));return n.length===1?n[0]:{compositeFilter:{op:N4(t.op),filters:n}}})(r):Se(54877,{filter:r})}function O4(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bf(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class zn{constructor(e,t,n,i,s=Ee.min(),l=Ee.min(),m=pt.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=o}withSequenceNumber(e){return new zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P4{constructor(e){this.yt=e}}function F4(r){const e=R4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ja(e,e.limit,"L"):e}class z4{constructor(){this.Cn=new V4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(qn.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class V4{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new ot(Ge.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ot(Ge.comparator)).toArray()}}const xh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sf=41943040;class Et{static withCacheSize(e){return new Et(e,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Et.DEFAULT_COLLECTION_PERCENTILE=10,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Et.DEFAULT=new Et(Sf,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Et.DISABLED=new Et(-1,0,0);class Wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wr(0)}static cr(){return new Wr(-1)}}const kh="LruGarbageCollector",B4=1048576;function Ih([r,e],[t,n]){const i=Me(r,t);return i===0?Me(e,n):i}class H4{constructor(e){this.Ir=e,this.buffer=new ot(Ih),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Ih(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U4{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(kh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zr(t)?ge(kh,"Ignoring IndexedDB error during garbage collection: ",t):await Jr(t)}await this.Vr(3e5)}))}}class W4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Eo.ce);const n=new H4(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(xh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xh):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,s,l,m,o,d;const a=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,l=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(n=f,m=Date.now(),this.removeTargets(e,n,t)))).next((f=>(s=f,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((f=>(d=Date.now(),kr()<=Ie.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-a}ms
	Determined least recently used ${i} in `+(m-l)+`ms
	Removed ${s} targets in `+(o-m)+`ms
	Removed ${f} documents in `+(d-o)+`ms
Total Duration: ${d-a}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function j4(r,e){return new W4(r,e)}class G4{constructor(){this.changes=new br((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class q4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class K4{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Li(n.mutation,i,Ht.empty(),Ue.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Re()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Re()){const i=dr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((s=>{let l=Si();return s.forEach(((m,o)=>{l=l.insert(m,o.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=dr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Re())))}populateOverlays(e,t,n){const i=[];return n.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,m)=>{t.set(l,m)}))}))}computeViews(e,t,n,i){let s=Sn();const l=Ri(),m=(function(){return Ri()})();return t.forEach(((o,d)=>{const a=n.get(d.key);i.has(d.key)&&(a===void 0||a.mutation instanceof Sr)?s=s.insert(d.key,d):a!==void 0?(l.set(d.key,a.mutation.getFieldMask()),Li(a.mutation,d,a.mutation.getFieldMask(),Ue.now())):l.set(d.key,Ht.empty())})),this.recalculateAndSaveOverlays(e,s).next((o=>(o.forEach(((d,a)=>l.set(d,a))),t.forEach(((d,a)=>m.set(d,new q4(a,l.get(d)??null)))),m)))}recalculateAndSaveOverlays(e,t){const n=Ri();let i=new Ke(((l,m)=>l-m)),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const m of l)m.keys().forEach((o=>{const d=t.get(o);if(d===null)return;let a=n.get(o)||Ht.empty();a=m.applyToLocalView(d,a),n.set(o,a);const f=(i.get(m.batchId)||Re()).add(o);i=i.insert(m.batchId,f)}))})).next((()=>{const l=[],m=i.getReverseIterator();for(;m.hasNext();){const o=m.getNext(),d=o.key,a=o.value,f=tf();a.forEach((u=>{if(!s.has(u)){const h=lf(t.get(u),n.get(u));h!==null&&f.set(u,h),s=s.add(u)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ie.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):ie.resolve(dr());let m=Fi,o=s;return l.next((d=>ie.forEach(d,((a,f)=>(m<f.largestBatchId&&(m=f.largestBatchId),s.get(a)?ie.resolve():this.remoteDocumentCache.getEntry(e,a).next((u=>{o=o.insert(a,u)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,o,d,Re()))).next((a=>({batchId:m,changes:ef(a)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((n=>{let i=Si();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let l=Si();return this.indexManager.getCollectionParents(e,s).next((m=>ie.forEach(m,(o=>{const d=(function(f,u){return new ko(u,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((a=>{a.forEach(((f,u)=>{l=l.insert(f,u)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((l=>{s.forEach(((o,d)=>{const a=d.getKey();l.get(a)===null&&(l=l.insert(a,vt.newInvalidDocument(a)))}));let m=Si();return l.forEach(((o,d)=>{const a=s.get(o);a!==void 0&&Li(a.mutation,d,Ht.empty(),Ue.now()),Mo(t,d)&&(m=m.insert(o,d))})),m}))}}class Y4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:en(i.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:F4(i.bundledQuery),readTime:en(i.readTime)}})(t)),ie.resolve()}}class Q4{constructor(){this.overlays=new Ke(be.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=dr();return ie.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,s)=>{this.St(e,t,s)})),ie.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const i=dr(),s=t.length+1,l=new be(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const o=m.getNext().value,d=o.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&o.largestBatchId>n&&i.set(o.getKey(),o)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Ke(((d,a)=>d-a));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let a=s.get(d.largestBatchId);a===null&&(a=dr(),s=s.insert(d.largestBatchId,a)),a.set(d.getKey(),d)}}const m=dr(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((d,a)=>m.set(d,a))),!(m.size()>=i)););return ie.resolve(m)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new p4(t,n));let s=this.qr.get(t);s===void 0&&(s=Re(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class X4{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class Wl{constructor(){this.Qr=new ot(ut.$r),this.Ur=new ot(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ut(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ut(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new be(new Ge([])),n=new ut(t,e),i=new ut(t,e+1),s=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new Ge([])),n=new ut(t,e),i=new ut(t,e+1);let s=Re();return this.Ur.forEachInRange([n,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new ut(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}class J4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ot(ut.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new f4(s,t,n,i);this.mutationQueue.push(l);for(const m of i)this.Zr=this.Zr.add(new ut(m.key,s)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dl:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(l=>{const m=this.Xr(l.Yr);s.push(m)})),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ot(Me);return t.forEach((i=>{const s=new ut(i,0),l=new ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(m=>{n=n.add(m.Yr)}))})),ie.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;be.isDocumentKey(s)||(s=s.child(""));const l=new ut(new be(s),0);let m=new ot(Me);return this.Zr.forEachWhile((o=>{const d=o.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(m=m.add(o.Yr)),!0)}),l),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Oe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ie.forEach(t.mutations,(i=>{const s=new ut(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ut(t,0),i=this.Zr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Z4{constructor(e){this.ri=e,this.docs=(function(){return new Ke(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let n=Sn();return t.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))})),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Sn();const l=t.path,m=new be(l.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(m);for(;o.hasNext();){const{key:d,value:{document:a}}=o.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Cy(Ey(a),n)<=0||(i.has(a.key)||Mo(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,t,n,i){Se(9500)}ii(e,t){return ie.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new e2(this)}getSize(e){return ie.resolve(this.size)}}class e2 extends G4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class t2{constructor(e){this.persistence=e,this.si=new br((t=>Pl(t)),Fl),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Wl,this.targetCount=0,this.ai=Wr.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.si.forEach(((l,m)=>{m.sequenceNumber<=t&&n.get(m.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)})),ie.waitFor(s).next((()=>i))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}class _f{constructor(e,t){this.ui={},this.overlays={},this.ci=new Eo(0),this.li=!1,this.li=!0,this.hi=new X4,this.referenceDelegate=e(this),this.Pi=new t2(this),this.indexManager=new z4,this.remoteDocumentCache=(function(i){return new Z4(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new P4(t),this.Ii=new Y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new J4(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ge("MemoryPersistence","Starting transaction:",e);const i=new n2(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return ie.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class n2 extends ky{constructor(e){super(),this.currentSequenceNumber=e}}class jl{constructor(e){this.persistence=e,this.Ri=new Wl,this.Vi=null}static mi(e){return new jl(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(n=>{const i=be.fromPath(n);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lo{constructor(e,t){this.persistence=e,this.pi=new br((n=>Ry(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=j4(this,t)}static mi(e,t){return new lo(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?ie.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((m=>{m||(n++,s.removeEntry(l,Ee.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fs(e.data.value)),t}br(e,t,n){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ie.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gl{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=Re(),i=Re();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gl(e,t.fromCache,n,i)}}class r2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class i2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jm()?8:Iy(yt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,i,n).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new r2;return this.Ss(e,t,l).next((m=>{if(s.result=m,this.Vs)return this.bs(e,t,l,m.size)}))})).next((()=>s.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(kr()<=Ie.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ir(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(kr()<=Ie.DEBUG&&ge("QueryEngine","Query:",Ir(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(kr()<=Ie.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ir(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(t))):ie.resolve())}ys(e,t){if(vh(t))return ie.resolve(null);let n=Zt(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Ja(t,null,"F"),n=Zt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const l=Re(...s);return this.ps.getDocuments(e,l).next((m=>this.indexManager.getMinOffset(e,n).next((o=>{const d=this.Ds(t,m);return this.Cs(t,d,l,o.readTime)?this.ys(e,Ja(t,null,"F")):this.vs(e,d,t,o)}))))})))))}ws(e,t,n,i){return vh(t)||i.isEqual(Ee.min())?ie.resolve(null):this.ps.getDocuments(e,n).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,n,i)?ie.resolve(null):(kr()<=Ie.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ir(t)),this.vs(e,l,t,Ty(i,Fi)).next((m=>m)))}))}Ds(e,t){let n=new ot(Jd(e));return t.forEach(((i,s)=>{Mo(e,s)&&(n=n.add(s))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,n){return kr()<=Ie.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ir(t)),this.ps.getDocumentsMatchingQuery(e,t,qn.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const ql="LocalStore",s2=3e8;class o2{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ke(Me),this.xs=new br((s=>Pl(s)),Fl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function a2(r,e,t,n){return new o2(r,e,t,n)}async function Af(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const l=[],m=[];let o=Re();for(const d of i){l.push(d.batchId);for(const a of d.mutations)o=o.add(a.key)}for(const d of s){m.push(d.batchId);for(const a of d.mutations)o=o.add(a.key)}return t.localDocuments.getDocuments(n,o).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:m})))}))}))}function l2(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,o,d,a){const f=d.batch,u=f.keys();let h=ie.resolve();return u.forEach((c=>{h=h.next((()=>a.getEntry(o,c))).next((p=>{const g=d.docVersions.get(c);Oe(g!==null,48541),p.version.compareTo(g)<0&&(f.applyToRemoteDocument(p,d),p.isValidDocument()&&(p.setReadTime(d.commitVersion),a.addEntry(p)))}))})),h.next((()=>m.mutationQueue.removeMutationBatch(o,f)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(m){let o=Re();for(let d=0;d<m.mutationResults.length;++d)m.mutationResults[d].transformResults.length>0&&(o=o.add(m.batch.mutations[d].key));return o})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function Tf(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function c2(r,e){const t=Ce(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const m=[];e.targetChanges.forEach(((a,f)=>{const u=i.get(f);if(!u)return;m.push(t.Pi.removeMatchingKeys(s,a.removedDocuments,f).next((()=>t.Pi.addMatchingKeys(s,a.addedDocuments,f))));let h=u.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(pt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):a.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(a.resumeToken,n)),i=i.insert(f,h),(function(p,g,y){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=s2?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0})(u,h,a)&&m.push(t.Pi.updateTargetData(s,h))}));let o=Sn(),d=Re();if(e.documentUpdates.forEach((a=>{e.resolvedLimboDocuments.has(a)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(s,a))})),m.push(u2(s,l,e.documentUpdates).next((a=>{o=a.ks,d=a.qs}))),!n.isEqual(Ee.min())){const a=t.Pi.getLastRemoteSnapshotVersion(s).next((f=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));m.push(a)}return ie.waitFor(m).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,o,d))).next((()=>o))})).then((s=>(t.Ms=i,s)))}function u2(r,e,t){let n=Re(),i=Re();return t.forEach((s=>n=n.add(s))),e.getEntries(r,n).next((s=>{let l=Sn();return t.forEach(((m,o)=>{const d=s.get(m);o.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(m)),o.isNoDocument()&&o.version.isEqual(Ee.min())?(e.removeEntry(m,o.readTime),l=l.insert(m,o)):!d.isValidDocument()||o.version.compareTo(d.version)>0||o.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(o),l=l.insert(m,o)):ge(ql,"Ignoring outdated watch update for ",m,". Current version:",d.version," Watch version:",o.version)})),{ks:l,qs:i}}))}function h2(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Dl),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function d2(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((s=>s?(i=s,ie.resolve(i)):t.Pi.allocateTargetId(n).next((l=>(i=new zn(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function rl(r,e,t){const n=Ce(r),i=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Zr(l))throw l;ge(ql,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Mh(r,e,t){const n=Ce(r);let i=Ee.min(),s=Re();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(o,d,a){const f=Ce(o),u=f.xs.get(a);return u!==void 0?ie.resolve(f.Ms.get(u)):f.Pi.getTargetData(d,a)})(n,l,Zt(e)).next((m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,m.targetId).next((o=>{s=o}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?i:Ee.min(),t?s:Re()))).next((m=>(f2(n,Xy(e),m),{documents:m,Qs:s})))))}function f2(r,e,t){let n=r.Os.get(e)||Ee.min();t.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.Os.set(e,n)}class Rh{constructor(){this.activeTargetIds=r4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p2{constructor(){this.Mo=new Rh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class m2{Oo(e){}shutdown(){}}const Lh="ConnectivityMonitor";class $h{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Lh,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Lh,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let As=null;function il(){return As===null?As=(function(){return 268435456+Math.round(2147483648*Math.random())})():As++,"0x"+As.toString(16)}const va="RestConnection",g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===to?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,s){const l=il(),m=this.zo(e,t.toUriEncodedString());ge(va,`Sending RPC '${e}' ${l}:`,m,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,i,s);const{host:d}=new URL(m),a=Kr(d);return this.Jo(e,m,o,n,a).then((f=>(ge(va,`Received RPC '${e}' ${l}: `,f),f)),(f=>{throw zr(va,`RPC '${e}' ${l} failed with error: `,f,"url: ",m,"request:",n),f}))}Ho(e,t,n,i,s,l){return this.Go(e,t,n,i,s)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const n=g2[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class y2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mt="WebChannelConnection";class w2 extends v2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,s){const l=il();return new Promise(((m,o)=>{const d=new xd;d.setWithCredentials(!0),d.listenOnce(kd.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ps.NO_ERROR:const f=d.getResponseJson();ge(mt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(f)),m(f);break;case Ps.TIMEOUT:ge(mt,`RPC '${e}' ${l} timed out`),o(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ps.HTTP_ERROR:const u=d.getStatus();if(ge(mt,`RPC '${e}' ${l} failed with status:`,u,"response text:",d.getResponseText()),u>0){let h=d.getResponseJson();Array.isArray(h)&&(h=h[0]);const c=h?.error;if(c&&c.status&&c.message){const p=(function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(w)>=0?w:ae.UNKNOWN})(c.status);o(new ve(p,c.message))}else o(new ve(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else o(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ge(mt,`RPC '${e}' ${l} completed.`)}}));const a=JSON.stringify(i);ge(mt,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",a,n,15)}))}T_(e,t,n){const i=il(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Rd(),m=Md(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(o.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const a=s.join("");ge(mt,`Creating RPC '${e}' stream ${i}: ${a}`,o);const f=l.createWebChannel(a,o);this.I_(f);let u=!1,h=!1;const c=new y2({Yo:g=>{h?ge(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(u||(ge(mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),u=!0),ge(mt,`RPC '${e}' stream ${i} sending:`,g),f.send(g))},Zo:()=>f.close()}),p=(g,y,w)=>{g.listen(y,(M=>{try{w(M)}catch(R){setTimeout((()=>{throw R}),0)}}))};return p(f,bi.EventType.OPEN,(()=>{h||(ge(mt,`RPC '${e}' stream ${i} transport opened.`),c.o_())})),p(f,bi.EventType.CLOSE,(()=>{h||(h=!0,ge(mt,`RPC '${e}' stream ${i} transport closed`),c.a_(),this.E_(f))})),p(f,bi.EventType.ERROR,(g=>{h||(h=!0,zr(mt,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),c.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),p(f,bi.EventType.MESSAGE,(g=>{if(!h){const y=g.data[0];Oe(!!y,16349);const w=y,M=w?.error||w[0]?.error;if(M){ge(mt,`RPC '${e}' stream ${i} received error:`,M);const R=M.status;let x=(function(k){const T=tt[k];if(T!==void 0)return hf(T)})(R),_=M.message;x===void 0&&(x=ae.INTERNAL,_="Unknown error status: "+R+" with message "+M.message),h=!0,c.a_(new ve(x,_)),f.close()}else ge(mt,`RPC '${e}' stream ${i} received:`,y),c.u_(y)}})),p(m,Id.STAT_EVENT,(g=>{g.stat===Ga.PROXY?ge(mt,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Ga.NOPROXY&&ge(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{c.__()}),0),c}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ya(){return typeof document<"u"?document:null}function Do(r){return new A4(r,!0)}class Ef{constructor(e,t,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Dh="PersistentStream";class Cf{constructor(e,t,n,i,s,l,m,o){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ef(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(bn(t.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new ve(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Dh,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ge(Dh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b2 extends Cf{constructor(e,t,n,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=C4(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Ee.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ee.min():l.readTime?en(l.readTime):Ee.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=nl(this.serializer),t.addTarget=(function(s,l){let m;const o=l.target;if(m=Xa(o)?{documents:I4(s,o)}:{query:M4(s,o).ft},m.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){m.resumeToken=pf(s,l.resumeToken);const d=Za(s,l.expectedCount);d!==null&&(m.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ee.min())>0){m.readTime=ao(s,l.snapshotVersion.toTimestamp());const d=Za(s,l.expectedCount);d!==null&&(m.expectedCount=d)}return m})(this.serializer,e);const n=L4(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=nl(this.serializer),t.removeTarget=e,this.q_(t)}}class S2 extends Cf{constructor(e,t,n,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=k4(e.writeResults,e.commitTime),n=en(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=nl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>x4(this.serializer,n)))};this.q_(t)}}class _2{}class A2 extends _2{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,el(t,n),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(ae.UNKNOWN,s.toString())}))}Ho(e,t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,m])=>this.connection.Ho(e,el(t,n),i,l,m,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ae.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class T2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bn(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yr="RemoteStore";class E2{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{_r(this)&&(ge(yr,"Restarting streams for network reachability change."),await(async function(o){const d=Ce(o);d.Ea.add(4),await ts(d),d.Ra.set("Unknown"),d.Ea.delete(4),await No(d)})(this))}))})),this.Ra=new T2(n,i)}}async function No(r){if(_r(r))for(const e of r.da)await e(!0)}async function ts(r){for(const e of r.da)await e(!1)}function xf(r,e){const t=Ce(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Xl(t)?Ql(t):ei(t).O_()&&Yl(t,e))}function Kl(r,e){const t=Ce(r),n=ei(t);t.Ia.delete(e),n.O_()&&kf(t,e),t.Ia.size===0&&(n.O_()?n.L_():_r(t)&&t.Ra.set("Unknown"))}function Yl(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ei(r).Y_(e)}function kf(r,e){r.Va.Ue(e),ei(r).Z_(e)}function Ql(r){r.Va=new w4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ei(r).start(),r.Ra.ua()}function Xl(r){return _r(r)&&!ei(r).x_()&&r.Ia.size>0}function _r(r){return Ce(r).Ea.size===0}function If(r){r.Va=void 0}async function C2(r){r.Ra.set("Online")}async function x2(r){r.Ia.forEach(((e,t)=>{Yl(r,e)}))}async function k2(r,e){If(r),Xl(r)?(r.Ra.ha(e),Ql(r)):r.Ra.set("Unknown")}async function I2(r,e,t){if(r.Ra.set("Online"),e instanceof ff&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const m of s.targetIds)i.Ia.has(m)&&(await i.remoteSyncer.rejectListen(m,l),i.Ia.delete(m),i.Va.removeTarget(m))})(r,e)}catch(n){ge(yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await co(r,n)}else if(e instanceof Bs?r.Va.Ze(e):e instanceof df?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const n=await Tf(r.localStore);t.compareTo(n)>=0&&await(function(s,l){const m=s.Va.Tt(l);return m.targetChanges.forEach(((o,d)=>{if(o.resumeToken.approximateByteSize()>0){const a=s.Ia.get(d);a&&s.Ia.set(d,a.withResumeToken(o.resumeToken,l))}})),m.targetMismatches.forEach(((o,d)=>{const a=s.Ia.get(o);if(!a)return;s.Ia.set(o,a.withResumeToken(pt.EMPTY_BYTE_STRING,a.snapshotVersion)),kf(s,o);const f=new zn(a.target,o,d,a.sequenceNumber);Yl(s,f)})),s.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(n){ge(yr,"Failed to raise snapshot:",n),await co(r,n)}}async function co(r,e,t){if(!Zr(e))throw e;r.Ea.add(1),await ts(r),r.Ra.set("Offline"),t||(t=()=>Tf(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(yr,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await No(r)}))}function Mf(r,e){return e().catch((t=>co(r,t,e)))}async function Oo(r){const e=Ce(r),t=Xn(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dl;for(;M2(e);)try{const i=await h2(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,R2(e,i)}catch(i){await co(e,i)}Rf(e)&&Lf(e)}function M2(r){return _r(r)&&r.Ta.length<10}function R2(r,e){r.Ta.push(e);const t=Xn(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Rf(r){return _r(r)&&!Xn(r).x_()&&r.Ta.length>0}function Lf(r){Xn(r).start()}async function L2(r){Xn(r).ra()}async function $2(r){const e=Xn(r);for(const t of r.Ta)e.ea(t.mutations)}async function D2(r,e,t){const n=r.Ta.shift(),i=Bl.from(n,e,t);await Mf(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Oo(r)}async function N2(r,e){e&&Xn(r).X_&&await(async function(n,i){if((function(l){return g4(l)&&l!==ae.ABORTED})(i.code)){const s=n.Ta.shift();Xn(n).B_(),await Mf(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Oo(n)}})(r,e),Rf(r)&&Lf(r)}async function Nh(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),ge(yr,"RemoteStore received new credentials");const n=_r(t);t.Ea.add(3),await ts(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await No(t)}async function O2(r,e){const t=Ce(r);e?(t.Ea.delete(2),await No(t)):e||(t.Ea.add(2),await ts(t),t.Ra.set("Unknown"))}function ei(r){return r.ma||(r.ma=(function(t,n,i){const s=Ce(t);return s.sa(),new b2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Xo:C2.bind(null,r),t_:x2.bind(null,r),r_:k2.bind(null,r),H_:I2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Xl(r)?Ql(r):r.Ra.set("Unknown")):(await r.ma.stop(),If(r))}))),r.ma}function Xn(r){return r.fa||(r.fa=(function(t,n,i){const s=Ce(t);return s.sa(),new S2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:L2.bind(null,r),r_:N2.bind(null,r),ta:$2.bind(null,r),na:D2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oo(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(yr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jl{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const l=Date.now()+n,m=new Jl(e,t,l,i,s);return m.start(n),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(r,e){if(bn("AsyncQueue",`${e}: ${r}`),Zr(r))return new ve(ae.UNAVAILABLE,`${e}: ${r}`);throw r}class Nr{static emptySet(e){return new Nr(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||be.comparator(t.key,n.key):(t,n)=>be.comparator(t.key,n.key),this.keyedMap=Si(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Nr;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Oh{constructor(){this.ga=new Ke(be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jr{constructor(e,t,n,i,s,l,m,o,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=o,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,s){const l=[];return t.forEach((m=>{l.push({type:0,doc:m})})),new jr(e,t,Nr.emptySet(t),l,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Io(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class P2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class F2{constructor(){this.queries=Ph(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=Ce(t),s=i.queries;i.queries=Ph(),s.forEach(((l,m)=>{for(const o of m.Sa)o.onError(n)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function Ph(){return new br((r=>Xd(r)),Io)}async function z2(r,e){const t=Ce(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new P2,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const m=Zl(l,`Initialization of query '${Ir(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&ec(t)}async function V2(r,e){const t=Ce(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function B2(r,e){const t=Ce(r);let n=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const m of l.Sa)m.Fa(i)&&(n=!0);l.wa=i}}n&&ec(t)}function H2(r,e,t){const n=Ce(r),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);n.queries.delete(e)}function ec(r){r.Ca.forEach((e=>{e.next()}))}var sl,Fh;(Fh=sl||(sl={})).Ma="default",Fh.Cache="cache";class U2{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new jr(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sl.Cache}}class $f{constructor(e){this.key=e}}class Df{constructor(e){this.key=e}}class W2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=Jd(e),this.tu=new Nr(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Oh,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,m=!1;const o=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((a,f)=>{const u=i.get(a),h=Mo(this.query,f)?f:null,c=!!u&&this.mutatedKeys.has(u.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;u&&h?u.data.isEqual(h.data)?c!==p&&(n.track({type:3,doc:h}),g=!0):this.su(u,h)||(n.track({type:2,doc:h}),g=!0,(o&&this.eu(h,o)>0||d&&this.eu(h,d)<0)&&(m=!0)):!u&&h?(n.track({type:0,doc:h}),g=!0):u&&!h&&(n.track({type:1,doc:u}),g=!0,(o||d)&&(m=!0)),g&&(h?(l=l.add(h),s=p?s.add(a):s.delete(a)):(l=l.delete(a),s=s.delete(a)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const a=this.query.limitType==="F"?l.last():l.first();l=l.delete(a.key),s=s.delete(a.key),n.track({type:1,doc:a})}return{tu:l,iu:n,Cs:m,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((a,f)=>(function(h,c){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:g})}};return p(h)-p(c)})(a.type,f.type)||this.eu(a.doc,f.doc))),this.ou(n),i=i??!1;const m=t&&!i?this._u():[],o=this.Xa.size===0&&this.current&&!i?1:0,d=o!==this.Za;return this.Za=o,l.length!==0||d?{snapshot:new jr(this.query,e.tu,s,l,e.mutatedKeys,o===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Oh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new Df(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new $f(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Re();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tc="SyncEngine";class j2{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class G2{constructor(e){this.key=e,this.hu=!1}}class q2{constructor(e,t,n,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new br((m=>Xd(m)),Io),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(be.comparator),this.Au=new Map,this.Ru=new Wl,this.Vu={},this.mu=new Map,this.fu=Wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K2(r,e,t=!0){const n=Vf(r);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Nf(n,e,t,!0),i}async function Y2(r,e){const t=Vf(r);await Nf(t,e,!0,!1)}async function Nf(r,e,t,n){const i=await d2(r.localStore,Zt(e)),s=i.targetId,l=r.sharedClientState.addLocalQueryTarget(s,t);let m;return n&&(m=await Q2(r,e,s,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&xf(r.remoteStore,i),m}async function Q2(r,e,t,n,i){r.pu=(f,u,h)=>(async function(p,g,y,w){let M=g.view.ru(y);M.Cs&&(M=await Mh(p.localStore,g.query,!1).then((({documents:E})=>g.view.ru(E,M))));const R=w&&w.targetChanges.get(g.targetId),x=w&&w.targetMismatches.get(g.targetId)!=null,_=g.view.applyChanges(M,p.isPrimaryClient,R,x);return Vh(p,g.targetId,_.au),_.snapshot})(r,f,u,h);const s=await Mh(r.localStore,e,!0),l=new W2(e,s.Qs),m=l.ru(s.documents),o=es.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=l.applyChanges(m,r.isPrimaryClient,o);Vh(r,t,d.au);const a=new j2(e,t,l);return r.Tu.set(e,a),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),d.snapshot}async function X2(r,e,t){const n=Ce(r),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((l=>!Io(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await rl(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Kl(n.remoteStore,i.targetId),ol(n,i.targetId)})).catch(Jr)):(ol(n,i.targetId),await rl(n.localStore,i.targetId,!0))}async function J2(r,e){const t=Ce(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Kl(t.remoteStore,n.targetId))}async function Z2(r,e,t){const n=ow(r);try{const i=await(function(l,m){const o=Ce(l),d=Ue.now(),a=m.reduce(((h,c)=>h.add(c.key)),Re());let f,u;return o.persistence.runTransaction("Locally write mutations","readwrite",(h=>{let c=Sn(),p=Re();return o.Ns.getEntries(h,a).next((g=>{c=g,c.forEach(((y,w)=>{w.isValidDocument()||(p=p.add(y))}))})).next((()=>o.localDocuments.getOverlayedDocuments(h,c))).next((g=>{f=g;const y=[];for(const w of m){const M=h4(w,f.get(w.key).overlayedDocument);M!=null&&y.push(new Sr(w.key,M,Wd(M.value.mapValue),mn.exists(!0)))}return o.mutationQueue.addMutationBatch(h,d,y,m)})).next((g=>{u=g;const y=g.applyToLocalDocumentSet(f,p);return o.documentOverlayCache.saveOverlays(h,g.batchId,y)}))})).then((()=>({batchId:u.batchId,changes:ef(f)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,m,o){let d=l.Vu[l.currentUser.toKey()];d||(d=new Ke(Me)),d=d.insert(m,o),l.Vu[l.currentUser.toKey()]=d})(n,i.batchId,t),await ns(n,i.changes),await Oo(n.remoteStore)}catch(i){const s=Zl(i,"Failed to persist write");t.reject(s)}}async function Of(r,e){const t=Ce(r);try{const n=await c2(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=t.Au.get(s);l&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Oe(l.hu,14607):i.removedDocuments.size>0&&(Oe(l.hu,42227),l.hu=!1))})),await ns(t,n,e)}catch(n){await Jr(n)}}function zh(r,e,t){const n=Ce(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((s,l)=>{const m=l.view.va(e);m.snapshot&&i.push(m.snapshot)})),(function(l,m){const o=Ce(l);o.onlineState=m;let d=!1;o.queries.forEach(((a,f)=>{for(const u of f.Sa)u.va(m)&&(d=!0)})),d&&ec(o)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ew(r,e,t){const n=Ce(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),s=i&&i.key;if(s){let l=new Ke(be.comparator);l=l.insert(s,vt.newNoDocument(s,Ee.min()));const m=Re().add(s),o=new $o(Ee.min(),new Map,new Ke(Me),l,m);await Of(n,o),n.du=n.du.remove(s),n.Au.delete(e),nc(n)}else await rl(n.localStore,e,!1).then((()=>ol(n,e,t))).catch(Jr)}async function tw(r,e){const t=Ce(r),n=e.batch.batchId;try{const i=await l2(t.localStore,e);Ff(t,n,null),Pf(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await ns(t,i)}catch(i){await Jr(i)}}async function nw(r,e,t){const n=Ce(r);try{const i=await(function(l,m){const o=Ce(l);return o.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let a;return o.mutationQueue.lookupMutationBatch(d,m).next((f=>(Oe(f!==null,37113),a=f.keys(),o.mutationQueue.removeMutationBatch(d,f)))).next((()=>o.mutationQueue.performConsistencyCheck(d))).next((()=>o.documentOverlayCache.removeOverlaysForBatchId(d,a,m))).next((()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,a))).next((()=>o.localDocuments.getDocuments(d,a)))}))})(n.localStore,e);Ff(n,e,t),Pf(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await ns(n,i)}catch(i){await Jr(i)}}function Pf(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Ff(r,e,t){const n=Ce(r);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function ol(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||zf(r,n)}))}function zf(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Kl(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),nc(r))}function Vh(r,e,t){for(const n of t)n instanceof $f?(r.Ru.addReference(n.key,e),rw(r,n)):n instanceof Df?(ge(tc,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||zf(r,n.key)):Se(19791,{wu:n})}function rw(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ge(tc,"New document in limbo: "+t),r.Eu.add(n),nc(r))}function nc(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new be(Ge.fromString(e)),n=r.fu.next();r.Au.set(n,new G2(t)),r.du=r.du.insert(t,n),xf(r.remoteStore,new zn(Zt(zl(t.path)),n,"TargetPurposeLimboResolution",Eo.ce))}}async function ns(r,e,t){const n=Ce(r),i=[],s=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((m,o)=>{l.push(n.pu(o,e,t).then((d=>{if((d||t)&&n.isPrimaryClient){const a=d?!d.fromCache:t?.targetChanges.get(o.targetId)?.current;n.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(d){i.push(d);const a=Gl.As(o.targetId,d);s.push(a)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(o,d){const a=Ce(o);try{await a.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ie.forEach(d,(u=>ie.forEach(u.Es,(h=>a.persistence.referenceDelegate.addReference(f,u.targetId,h))).next((()=>ie.forEach(u.ds,(h=>a.persistence.referenceDelegate.removeReference(f,u.targetId,h)))))))))}catch(f){if(!Zr(f))throw f;ge(ql,"Failed to update sequence numbers: "+f)}for(const f of d){const u=f.targetId;if(!f.fromCache){const h=a.Ms.get(u),c=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(c);a.Ms=a.Ms.insert(u,p)}}})(n.localStore,s))}async function iw(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){ge(tc,"User change. New user:",e.toKey());const n=await Af(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((m=>{m.forEach((o=>{o.reject(new ve(ae.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ns(t,n.Ls)}}function sw(r,e){const t=Ce(r),n=t.Au.get(e);if(n&&n.hu)return Re().add(n.key);{let i=Re();const s=t.Iu.get(e);if(!s)return i;for(const l of s){const m=t.Tu.get(l);i=i.unionWith(m.view.nu)}return i}}function Vf(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Of.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ew.bind(null,e),e.Pu.H_=B2.bind(null,e.eventManager),e.Pu.yu=H2.bind(null,e.eventManager),e}function ow(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nw.bind(null,e),e}class uo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Do(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return a2(this.persistence,new i2,e.initialUser,this.serializer)}Cu(e){return new _f(jl.mi,this.serializer)}Du(e){return new p2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uo.provider={build:()=>new uo};class aw extends uo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Oe(this.persistence.referenceDelegate instanceof lo,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new U4(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Et.withCacheSize(this.cacheSizeBytes):Et.DEFAULT;return new _f((n=>lo.mi(n,t)),this.serializer)}}class al{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zh(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iw.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new F2})()}createDatastore(e){const t=Do(e.databaseInfo.databaseId),n=(function(s){return new w2(s)})(e.databaseInfo);return(function(s,l,m,o){return new A2(s,l,m,o)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,s,l,m){return new E2(n,i,s,l,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>zh(this.syncEngine,t,0)),(function(){return $h.v()?new $h:new m2})())}createSyncEngine(e,t){return(function(i,s,l,m,o,d,a){const f=new q2(i,s,l,m,o,d);return a&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ce(t);ge(yr,"RemoteStore shutting down."),n.Ea.add(5),await ts(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}al.provider={build:()=>new al};class lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Jn="FirestoreClient";class cw{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async l=>{ge(Jn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(ge(Jn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function wa(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Jn,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Af(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Bh(r,e){r.asyncQueue.verifyOperationInProgress();const t=await uw(r);ge(Jn,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>Nh(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>Nh(e.remoteStore,i))),r._onlineComponents=e}async function uw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Jn,"Using user provided OfflineComponentProvider");try{await wa(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),await wa(r,new uo)}}else ge(Jn,"Using default OfflineComponentProvider"),await wa(r,new aw(void 0));return r._offlineComponents}async function Bf(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Jn,"Using user provided OnlineComponentProvider"),await Bh(r,r._uninitializedComponentsProvider._online)):(ge(Jn,"Using default OnlineComponentProvider"),await Bh(r,new al))),r._onlineComponents}function hw(r){return Bf(r).then((e=>e.syncEngine))}async function dw(r){const e=await Bf(r),t=e.eventManager;return t.onListen=K2.bind(null,e.syncEngine),t.onUnlisten=X2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J2.bind(null,e.syncEngine),t}function fw(r,e,t={}){const n=new jn;return r.asyncQueue.enqueueAndForget((async()=>(function(s,l,m,o,d){const a=new lw({next:u=>{a.Nu(),l.enqueueAndForget((()=>V2(s,f)));const h=u.docs.has(m);!h&&u.fromCache?d.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&u.fromCache&&o&&o.source==="server"?d.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(u)},error:u=>d.reject(u)}),f=new U2(zl(m.path),a,{includeMetadataChanges:!0,qa:!0});return z2(s,f)})(await dw(r),r.asyncQueue,e,t,n))),n.promise}function Hf(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Hh=new Map;const Uf="firestore.googleapis.com",Uh=!0;class Wh{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uf,this.ssl=Uh}else this.host=e.host,this.ssl=e.ssl??Uh;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sf;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B4)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ay("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hf(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rc{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new dy;switch(n.type){case"firstParty":return new gy(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Hh.get(t);n&&(ge("ComponentProvider","Removing Datastore"),Hh.delete(t),n.terminate())})(this),Promise.resolve()}}function pw(r,e,t,n={}){r=Pi(r,rc);const i=Kr(e),s=r._getSettings(),l={...s,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;i&&(H0(`https://${m}`),U0("Firestore",!0)),s.host!==Uf&&s.host!==m&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const o={...s,host:m,ssl:i,emulatorOptions:n};if(!Gn(o,l)&&(r._setSettings(o),n.mockUserToken)){let d,a;if(typeof n.mockUserToken=="string")d=n.mockUserToken,a=gt.MOCK_USER;else{d=Om(n.mockUserToken,r._app?.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new gt(f)}r._authCredentials=new fy(new $d(d,a))}}class ic{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class ht{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ji(t,ht._jsonSchema))return new ht(e,n||null,new be(Ge.fromString(t.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:nt("string",ht._jsonSchemaVersion),referencePath:nt("string")};class Ui extends ic{constructor(e,t,n){super(e,t,zl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new be(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Wf(r,e,...t){if(r=Ot(r),arguments.length===1&&(e=Ll.newId()),_y("doc","path",e),r instanceof rc){const n=Ge.fromString(e,...t);return ih(n),new ht(r,null,new be(n))}{if(!(r instanceof ht||r instanceof Ui))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Ge.fromString(e,...t));return ih(n),new ht(r.firestore,r instanceof Ui?r.converter:null,new be(n))}}const jh="AsyncQueue";class Gh{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ef(this,"async_queue_retry"),this._c=()=>{const n=ya();n&&ge(jh,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=ya();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ya();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new jn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zr(e))throw e;ge(jh,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,bn("INTERNAL UNHANDLED ERROR: ",qh(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Jl.createAndSchedule(this,e,t,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:qh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qh(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class sc extends rc{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Gh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gh(e),this._firestoreClient=void 0,await e}}}function mw(r,e){const t=typeof r=="object"?r:q0(),n=typeof r=="string"?r:to,i=bl(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Dm("firestore");s&&pw(i,...s)}return i}function jf(r){if(r._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gw(r),r._firestoreClient}function gw(r){const e=r._freezeSettings(),t=(function(i,s,l,m){return new Dy(i,s,l,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Hf(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cw(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(r._componentsProvider))}class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(pt.fromBase64String(e))}catch(t){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dt(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ji(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:nt("string",Dt._jsonSchemaVersion),bytes:nt("string")};class oc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._methodName=e}}class tn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tn._jsonSchemaVersion}}static fromJSON(e){if(Ji(e,tn._jsonSchema))return new tn(e.latitude,e.longitude)}}tn._jsonSchemaVersion="firestore/geoPoint/1.0",tn._jsonSchema={type:nt("string",tn._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};class nn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ji(e,nn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nn(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nn._jsonSchemaVersion="firestore/vectorValue/1.0",nn._jsonSchema={type:nt("string",nn._jsonSchemaVersion),vectorValues:nt("object")};const vw=/^__.*__$/;class yw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zi(e,this.data,t,this.fieldTransforms)}}function Gf(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Po{constructor(e,t,n,i,s,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Po({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ho(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gf(this.Ac)&&vw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ww{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Do(e)}Cc(e,t,n,i=!1){return new Po({Ac:e,methodName:t,Dc:n,path:ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bw(r){const e=r._freezeSettings(),t=Do(r._databaseId);return new ww(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Sw(r,e,t,n,i,s={}){const l=r.Cc(s.merge||s.mergeFields?2:0,e,t,i);Yf("Data must be an object, but it was:",l,n);const m=qf(n,l);let o,d;if(s.merge)o=new Ht(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const a=[];for(const f of s.mergeFields){const u=Aw(e,f,t);if(!l.contains(u))throw new ve(ae.INVALID_ARGUMENT,`Field '${u}' is specified in your field mask but missing from your input data.`);Ew(a,u)||a.push(u)}o=new Ht(a),d=l.fieldTransforms.filter((f=>o.covers(f.field)))}else o=null,d=l.fieldTransforms;return new yw(new $t(m),o,d)}function _w(r,e,t){return new Po({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lc extends ac{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=_w(this,e,!0),n=this.vc.map((s=>cc(s,t))),i=new Ur(n);return new a4(e.path,i)}isEqual(e){return e instanceof lc&&Gn(this.vc,e.vc)}}function cc(r,e){if(Kf(r=Ot(r)))return Yf("Unsupported field value:",e,r),qf(r,e);if(r instanceof ac)return(function(n,i){if(!Gf(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let l=0;for(const m of n){let o=cc(m,i.wc(l));o==null&&(o={nullValue:"NULL_VALUE"}),s.push(o),l++}return{arrayValue:{values:s}}})(r,e)}return(function(n,i){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return i4(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ue.fromDate(n);return{timestampValue:ao(i.serializer,s)}}if(n instanceof Ue){const s=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ao(i.serializer,s)}}if(n instanceof tn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dt)return{bytesValue:pf(i.serializer,n._byteString)};if(n instanceof ht){const s=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ul(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof nn)return(function(l,m){return{mapValue:{fields:{[Hd]:{stringValue:Ud},[no]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vl(m.serializer,d)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${$l(n)}`)})(r,e)}function qf(r,e){const t={};return Od(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(r,((n,i)=>{const s=cc(i,e.mc(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function Kf(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ue||r instanceof tn||r instanceof Dt||r instanceof ht||r instanceof ac||r instanceof nn)}function Yf(r,e,t){if(!Kf(t)||!Dd(t)){const n=$l(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Aw(r,e,t){if((e=Ot(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Qf(r,e);throw ho("Field path arguments must be of type string or ",r,!1,void 0,t)}const Tw=new RegExp("[~\\*/\\[\\]]");function Qf(r,e,t){if(e.search(Tw)>=0)throw ho(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new oc(...e.split("."))._internalPath}catch{throw ho(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ho(r,e,t,n,i){const s=n&&!n.isEmpty(),l=i!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let o="";return(s||l)&&(o+=" (found",s&&(o+=` in field ${n}`),l&&(o+=` in document ${i}`),o+=")"),new ve(ae.INVALID_ARGUMENT,m+r+o)}function Ew(r,e){return r.some((t=>t.isEqual(e)))}class Xf{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Cw extends Xf{data(){return super.data()}}function Jf(r,e){return typeof e=="string"?Qf(r,e):e instanceof oc?e._internalPath:e._delegate._internalPath}class xw{convertValue(e,t="none"){switch(Qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return wr(e,((i,s)=>{n[i]=this.convertValue(s,t)})),n}convertVectorValue(e){const t=e.fields?.[no].arrayValue?.values?.map((n=>Ze(n.doubleValue)));return new nn(t)}convertGeoPoint(e){return new tn(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xo(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zi(e));default:return null}}convertTimestamp(e){const t=Kn(e);return new Ue(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ge.fromString(e);Oe(bf(n),9688,{name:e});const i=new Vi(n.get(1),n.get(3)),s=new be(n.popFirst(5));return i.isEqual(t)||bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function kw(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Ai{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pr extends Xf{constructor(e,t,n,i,s,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Jf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",pr._jsonSchema={type:nt("string",pr._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};class Hs extends pr{data(e={}){return super.data(e)}}class $i{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ai(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Hs(this._firestore,this._userDataWriter,n.key,n,new Ai(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((m=>{const o=new Hs(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ai(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:o,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((m=>s||m.type!==3)).map((m=>{const o=new Hs(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Ai(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,a=-1;return m.type!==0&&(d=l.indexOf(m.doc.key),l=l.delete(m.doc.key)),m.type!==1&&(l=l.add(m.doc),a=l.indexOf(m.doc.key)),{type:Iw(m.type),doc:o,oldIndex:d,newIndex:a}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$i._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ll.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Iw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}function Mw(r){r=Pi(r,ht);const e=Pi(r.firestore,sc);return fw(jf(e),r._key).then((t=>Dw(e,r,t)))}$i._jsonSchemaVersion="firestore/querySnapshot/1.0",$i._jsonSchema={type:nt("string",$i._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};class Rw extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}}function Lw(r,e,t){r=Pi(r,ht);const n=Pi(r.firestore,sc),i=kw(r.converter,e,t);return $w(n,[Sw(bw(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,mn.none())])}function $w(r,e){return(function(n,i){const s=new jn;return n.asyncQueue.enqueueAndForget((async()=>Z2(await hw(n),i,s))),s.promise})(jf(r),e)}function Dw(r,e,t){const n=t.docs.get(e._key),i=new Rw(r);return new pr(r,i,e._key,n,new Ai(t.hasPendingWrites,t.fromCache),e.converter)}function Nw(...r){return new lc("arrayUnion",r)}(function(e,t=!0){(function(i){Xr=i})(Yr),Pr(new mr("firestore",((n,{instanceIdentifier:i,options:s})=>{const l=n.getProvider("app").getImmediate(),m=new sc(new py(n.getProvider("auth-internal")),new vy(l,n.getProvider("app-check-internal")),(function(d,a){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(d.options.projectId,a)})(l,i),l);return s={useFetchStreams:t,...s},m._setSettings(s),m}),"PUBLIC").setMultipleInstances(!0)),Un(eh,th,e),Un(eh,th,"esm2020")})();const Ow={apiKey:"AIzaSyBGzMQwqbE1yPgoMfxvhgIeX7Qo0wBVJc4",authDomain:"learnpython-1d8d0.firebaseapp.com",projectId:"learnpython-1d8d0",storageBucket:"learnpython-1d8d0.firebasestorage.app",messagingSenderId:"975177947496",appId:"1:975177947496:web:30410a3f24860816bc5edd"},Zf=G0(Ow),uc=uy(Zf),ep=mw(Zf),Pw=new dn;async function Fw(){try{return(await wv(uc,Pw)).user}catch(r){throw console.error("Erreur login:",r),r}}async function zw(){return Z1(uc)}function Vw(r){J1(uc,r)}async function Bw(r,e){const t=Wf(ep,"users",r);await Lw(t,{completed:Nw(e),lastUpdate:new Date},{merge:!0})}async function Hw(r){const e=Wf(ep,"users",r),t=await Mw(e);return t.exists()?t.data().completed||[]:[]}function Uw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ba={exports:{}},Kh;function Ww(){return Kh||(Kh=1,(function(r,e){(function(){var t="ace",n=(function(){return this})();!n&&typeof window<"u"&&(n=window);var i=function(a,f,u){if(typeof a!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(u=f),i.modules[a]||(i.payloads[a]=u,i.modules[a]=null)};i.modules={},i.payloads={};var s=function(a,f,u){if(typeof f=="string"){var h=o(a,f);if(h!=null)return u&&u(),h}else if(Object.prototype.toString.call(f)==="[object Array]"){for(var c=[],p=0,g=f.length;p<g;++p){var y=o(a,f[p]);if(y==null&&l.original)return;c.push(y)}return u&&u.apply(null,c)||!0}},l=function(a,f){var u=s("",a,f);return u==null&&l.original?l.original.apply(this,arguments):u},m=function(a,f){if(f.indexOf("!")!==-1){var u=f.split("!");return m(a,u[0])+"!"+m(a,u[1])}if(f.charAt(0)=="."){var h=a.split("/").slice(0,-1).join("/");for(f=h+"/"+f;f.indexOf(".")!==-1&&c!=f;){var c=f;f=f.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return f},o=function(a,f){f=m(a,f);var u=i.modules[f];if(!u){if(u=i.payloads[f],typeof u=="function"){var h={},c={id:f,uri:"",exports:h,packaged:!0},p=function(y,w){return s(f,y,w)},g=u(p,h,c);h=g||c.exports,i.modules[f]=h,delete i.payloads[f]}u=i.modules[f]=h||u}return u};function d(a){var f=n;n[a]||(n[a]={}),f=n[a],(!f.define||!f.define.packaged)&&(i.original=f.define,f.define=i,f.define.packaged=!0),(!f.require||!f.require.packaged)&&(l.original=f.require,f.require=l,f.require.packaged=!0)}d(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,n,i){function s(l,m,o){Object.defineProperty(l,m,{value:o,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||s(String.prototype,"startsWith",function(l,m){return m=m||0,this.lastIndexOf(l,m)===m}),String.prototype.endsWith||s(String.prototype,"endsWith",function(l,m){var o=this;(m===void 0||m>o.length)&&(m=o.length),m-=l.length;var d=o.indexOf(l,m);return d!==-1&&d===m}),String.prototype.repeat||s(String.prototype,"repeat",function(l){for(var m="",o=this;l>0;)l&1&&(m+=o),(l>>=1)&&(o+=o);return m}),String.prototype.includes||s(String.prototype,"includes",function(l,m){return this.indexOf(l,m)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(l),o=1;o<arguments.length;o++){var d=arguments[o];d!=null&&Object.keys(d).forEach(function(a){m[a]=d[a]})}return m}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(m){return l[m]})}),Array.prototype.find||s(Array.prototype,"find",function(l){for(var m=this.length,o=arguments[1],d=0;d<m;d++){var a=this[d];if(l.call(o,a,d,this))return a}}),Array.prototype.findIndex||s(Array.prototype,"findIndex",function(l){for(var m=this.length,o=arguments[1],d=0;d<m;d++){var a=this[d];if(l.call(o,a,d,this))return d}}),Array.prototype.includes||s(Array.prototype,"includes",function(l,m){return this.indexOf(l,m)!=-1}),Array.prototype.fill||s(Array.prototype,"fill",function(l){for(var m=this,o=m.length>>>0,d=arguments[1],a=d>>0,f=a<0?Math.max(o+a,0):Math.min(a,o),u=arguments[2],h=u===void 0?o:u>>0,c=h<0?Math.max(o+h,0):Math.min(h,o);f<c;)m[f]=l,f++;return m}),Array.of||s(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,n,i){t("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(t,n,i){n.deepCopy=function s(l){if(typeof l!="object"||!l)return l;var m;if(Array.isArray(l)){m=[];for(var o=0;o<l.length;o++)m[o]=s(l[o]);return m}if(Object.prototype.toString.call(l)!=="[object Object]")return l;m={};for(var o in l)m[o]=s(l[o]);return m}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(t,n,i){n.last=function(m){return m[m.length-1]},n.stringReverse=function(m){return m.split("").reverse().join("")},n.stringRepeat=function(m,o){for(var d="";o>0;)o&1&&(d+=m),(o>>=1)&&(m+=m);return d};var s=/^\s\s*/,l=/\s\s*$/;n.stringTrimLeft=function(m){return m.replace(s,"")},n.stringTrimRight=function(m){return m.replace(l,"")},n.copyObject=function(m){var o={};for(var d in m)o[d]=m[d];return o},n.copyArray=function(m){for(var o=[],d=0,a=m.length;d<a;d++)m[d]&&typeof m[d]=="object"?o[d]=this.copyObject(m[d]):o[d]=m[d];return o},n.deepCopy=t("./deep_copy").deepCopy,n.arrayToMap=function(m){for(var o={},d=0;d<m.length;d++)o[m[d]]=1;return o},n.createMap=function(m){var o=Object.create(null);for(var d in m)o[d]=m[d];return o},n.arrayRemove=function(m,o){for(var d=0;d<=m.length;d++)o===m[d]&&m.splice(d,1)},n.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},n.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},n.getMatchOffsets=function(m,o){var d=[];return m.replace(o,function(a){d.push({offset:arguments[arguments.length-2],length:a.length})}),d},n.deferredCall=function(m){var o=null,d=function(){o=null,m()},a=function(f){return a.cancel(),o=setTimeout(d,f||0),a};return a.schedule=a,a.call=function(){return this.cancel(),m(),a},a.cancel=function(){return clearTimeout(o),o=null,a},a.isPending=function(){return o},a},n.delayedCall=function(m,o){var d=null,a=function(){d=null,m()},f=function(u){d==null&&(d=setTimeout(a,u||o))};return f.delay=function(u){d&&clearTimeout(d),d=setTimeout(a,u||o)},f.schedule=f,f.call=function(){this.cancel(),m()},f.cancel=function(){d&&clearTimeout(d),d=null},f.isPending=function(){return d},f},n.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},n.skipEmptyMatch=function(m,o,d){return d&&m.codePointAt(o)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,n,i){n.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},n.getOS=function(){return n.isMac?n.OS.MAC:n.isLinux?n.OS.LINUX:n.OS.WINDOWS};var s=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),m=s.userAgent||"",o=s.appName||"";n.isWin=l=="win",n.isMac=l=="mac",n.isLinux=l=="linux",n.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),n.isOldIE=n.isIE&&n.isIE<9,n.isGecko=n.isMozilla=m.match(/ Gecko\/\d+/),n.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",n.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,n.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,n.isSafari=parseFloat(m.split(" Safari/")[1])&&!n.isChrome||void 0,n.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,n.isAIR=m.indexOf("AdobeAIR")>=0,n.isAndroid=m.indexOf("Android")>=0,n.isChromeOS=m.indexOf(" CrOS ")>=0,n.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,n.isIOS&&(n.isMac=!0),n.isMobile=n.isIOS||n.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,n,i){var s=t("./useragent"),l="http://www.w3.org/1999/xhtml";n.buildDom=function u(h,c,p){if(typeof h=="string"&&h){var g=document.createTextNode(h);return c&&c.appendChild(g),g}if(!Array.isArray(h))return h&&h.appendChild&&c&&c.appendChild(h),h;if(typeof h[0]!="string"||!h[0]){for(var y=[],w=0;w<h.length;w++){var M=u(h[w],c,p);M&&y.push(M)}return y}var R=document.createElement(h[0]),x=h[1],_=1;x&&typeof x=="object"&&!Array.isArray(x)&&(_=2);for(var w=_;w<h.length;w++)u(h[w],R,p);return _==2&&Object.keys(x).forEach(function(E){var k=x[E];E==="class"?R.className=Array.isArray(k)?k.join(" "):k:typeof k=="function"||E=="value"||E[0]=="$"?R[E]=k:E==="ref"?p&&(p[k]=R):E==="style"?typeof k=="string"&&(R.style.cssText=k):k!=null&&R.setAttribute(E,k)}),c&&c.appendChild(R),R},n.getDocumentHead=function(u){return u||(u=document),u.head||u.getElementsByTagName("head")[0]||u.documentElement},n.createElement=function(u,h){return document.createElementNS?document.createElementNS(h||l,u):document.createElement(u)},n.removeChildren=function(u){u.innerHTML=""},n.createTextNode=function(u,h){var c=h?h.ownerDocument:document;return c.createTextNode(u)},n.createFragment=function(u){var h=u?u.ownerDocument:document;return h.createDocumentFragment()},n.hasCssClass=function(u,h){var c=(u.className+"").split(/\s+/g);return c.indexOf(h)!==-1},n.addCssClass=function(u,h){n.hasCssClass(u,h)||(u.className+=" "+h)},n.removeCssClass=function(u,h){for(var c=u.className.split(/\s+/g);;){var p=c.indexOf(h);if(p==-1)break;c.splice(p,1)}u.className=c.join(" ")},n.toggleCssClass=function(u,h){for(var c=u.className.split(/\s+/g),p=!0;;){var g=c.indexOf(h);if(g==-1)break;p=!1,c.splice(g,1)}return p&&c.push(h),u.className=c.join(" "),p},n.setCssClass=function(u,h,c){c?n.addCssClass(u,h):n.removeCssClass(u,h)},n.hasCssString=function(u,h){var c=0,p;if(h=h||document,p=h.querySelectorAll("style")){for(;c<p.length;)if(p[c++].id===u)return!0}},n.removeElementById=function(u,h){h=h||document,h.getElementById(u)&&h.getElementById(u).remove()};var m,o=[];n.useStrictCSP=function(u){m=u,u==!1?d():o||(o=[])};function d(){var u=o;o=null,u&&u.forEach(function(h){a(h[0],h[1])})}function a(u,h,c){if(!(typeof document>"u")){if(o){if(c)d();else if(c===!1)return o.push([u,h])}if(!m){var p=c;!c||!c.getRootNode?p=document:(p=c.getRootNode(),(!p||p==c)&&(p=document));var g=p.ownerDocument||p;if(h&&n.hasCssString(h,p))return null;h&&(u+=`
/*# sourceURL=ace/css/`+h+" */");var y=n.createElement("style");y.appendChild(g.createTextNode(u)),h&&(y.id=h),p==g&&(p=n.getDocumentHead(g)),p.insertBefore(y,p.firstChild)}}}if(n.importCssString=a,n.importCssStylsheet=function(u,h){n.buildDom(["link",{rel:"stylesheet",href:u}],n.getDocumentHead(h))},n.$fixPositionBug=function(u){var h=u.getBoundingClientRect();if(u.style.left){var c=parseFloat(u.style.left),p=+h.left;Math.abs(c-p)>1&&(u.style.left=2*c-p+"px")}if(u.style.right){var c=parseFloat(u.style.right),p=window.innerWidth-h.right;Math.abs(c-p)>1&&(u.style.right=2*c-p+"px")}if(u.style.top){var c=parseFloat(u.style.top),p=+h.top;Math.abs(c-p)>1&&(u.style.top=2*c-p+"px")}if(u.style.bottom){var c=parseFloat(u.style.bottom),p=window.innerHeight-h.bottom;Math.abs(c-p)>1&&(u.style.bottom=2*c-p+"px")}},n.scrollbarWidth=function(u){var h=n.createElement("ace_inner");h.style.width="100%",h.style.minWidth="0px",h.style.height="200px",h.style.display="block";var c=n.createElement("ace_outer"),p=c.style;p.position="absolute",p.left="-10000px",p.overflow="hidden",p.width="200px",p.minWidth="0px",p.height="150px",p.display="block",c.appendChild(h);var g=u&&u.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(c);var y=h.offsetWidth;p.overflow="scroll";var w=h.offsetWidth;return y===w&&(w=c.clientWidth),g.removeChild(c),y-w},n.computedStyle=function(u,h){return window.getComputedStyle(u,"")||{}},n.setStyle=function(u,h,c){u[h]!==c&&(u[h]=c)},n.HAS_CSS_ANIMATION=!1,n.HAS_CSS_TRANSFORMS=!1,n.HI_DPI=s.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,s.isChromeOS&&(n.HI_DPI=!1),typeof document<"u"){var f=document.createElement("div");n.HI_DPI&&f.style.transform!==void 0&&(n.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&typeof f.style.animationName<"u"&&(n.HAS_CSS_ANIMATION=!0),f=null}n.HAS_CSS_TRANSFORMS?n.translate=function(u,h,c){u.style.transform="translate("+Math.round(h)+"px, "+Math.round(c)+"px)"}:n.translate=function(u,h,c){u.style.top=Math.round(c)+"px",u.style.left=Math.round(h)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,n,i){var s=t("./dom");n.get=function(l,m){var o=new XMLHttpRequest;o.open("GET",l,!0),o.onreadystatechange=function(){o.readyState===4&&m(o.responseText)},o.send(null)},n.loadScript=function(l,m){var o=s.getDocumentHead(),d=document.createElement("script");d.src=l,o.appendChild(d),d.onload=d.onreadystatechange=function(a,f){(f||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,f||m())}},n.qualifyURL=function(l){var m=document.createElement("a");return m.href=l,m.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,n,i){n.inherits=function(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(s,l){for(var m in l)s[m]=l[m];return s},n.implement=function(s,l){n.mixin(s,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,n,i){var s={},l=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(o,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var a=this._eventRegistry[o]||[],f=this._defaultHandlers[o];if(!(!a.length&&!f)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=o),d.stopPropagation||(d.stopPropagation=l),d.preventDefault||(d.preventDefault=m),a=a.slice();for(var u=0;u<a.length&&(a[u](d,this),!d.propagationStopped);u++);if(f&&!d.defaultPrevented)return f(d,this)}},s._signal=function(o,d){var a=(this._eventRegistry||{})[o];if(a){a=a.slice();for(var f=0;f<a.length;f++)a[f](d,this)}},s.once=function(o,d){var a=this;if(this.on(o,function f(){a.off(o,f),d.apply(null,arguments)}),!d)return new Promise(function(f){d=f})},s.setDefaultHandler=function(o,d){var a=this._defaultHandlers;if(a||(a=this._defaultHandlers={_disabled_:{}}),a[o]){var f=a[o],u=a._disabled_[o];u||(a._disabled_[o]=u=[]),u.push(f);var h=u.indexOf(d);h!=-1&&u.splice(h,1)}a[o]=d},s.removeDefaultHandler=function(o,d){var a=this._defaultHandlers;if(a){var f=a._disabled_[o];if(a[o]==d)f&&this.setDefaultHandler(o,f.pop());else if(f){var u=f.indexOf(d);u!=-1&&f.splice(u,1)}}},s.on=s.addEventListener=function(o,d,a){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[o];return f||(f=this._eventRegistry[o]=[]),f.indexOf(d)==-1&&f[a?"unshift":"push"](d),d},s.off=s.removeListener=s.removeEventListener=function(o,d){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[o];if(a){var f=a.indexOf(d);f!==-1&&a.splice(f,1)}},s.removeAllListeners=function(o){o||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[o]=void 0),this._defaultHandlers&&(this._defaultHandlers[o]=void 0)},n.EventEmitter=s}),ace.define("ace/lib/report_error",["require","exports","module"],function(t,n,i){n.reportError=function(l,m){var o=new Error(l);o.data=m,typeof console=="object"&&console.error&&console.error(o),setTimeout(function(){throw o})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(t,n,i){var s={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};n.defaultEnglishMessages=s}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(t,n,i){"no use strict";var s=t("./oop"),l=t("./event_emitter").EventEmitter,m=t("./report_error").reportError,o=t("./default_english_messages").defaultEnglishMessages,d={setOptions:function(c){Object.keys(c).forEach(function(p){this.setOption(p,c[p])},this)},getOptions:function(c){var p={};if(c)Array.isArray(c)||(c=Object.keys(c));else{var g=this.$options;c=Object.keys(g).filter(function(y){return!g[y].hidden})}return c.forEach(function(y){p[y]=this.getOption(y)},this),p},setOption:function(c,p){if(this["$"+c]!==p){var g=this.$options[c];if(!g)return a('misspelled option "'+c+'"');if(g.forwardTo)return this[g.forwardTo]&&this[g.forwardTo].setOption(c,p);g.handlesSet||(this["$"+c]=p),g&&g.set&&g.set.call(this,p)}},getOption:function(c){var p=this.$options[c];return p?p.forwardTo?this[p.forwardTo]&&this[p.forwardTo].getOption(c):p&&p.get?p.get.call(this):this["$"+c]:a('misspelled option "'+c+'"')}};function a(c){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var f,u,h=(function(){function c(){this.$defaultOptions={},f=o,u="dollarSigns"}return c.prototype.defineOptions=function(p,g,y){return p.$options||(this.$defaultOptions[g]=p.$options={}),Object.keys(y).forEach(function(w){var M=y[w];typeof M=="string"&&(M={forwardTo:M}),M.name||(M.name=w),p.$options[M.name]=M,"initialValue"in M&&(p["$"+M.name]=M.initialValue)}),s.implement(p,d),this},c.prototype.resetOptions=function(p){Object.keys(p.$options).forEach(function(g){var y=p.$options[g];"value"in y&&p.setOption(g,y.value)})},c.prototype.setDefaultValue=function(p,g,y){if(!p){for(p in this.$defaultOptions)if(this.$defaultOptions[p][g])break;if(!this.$defaultOptions[p][g])return!1}var w=this.$defaultOptions[p]||(this.$defaultOptions[p]={});w[g]&&(w.forwardTo?this.setDefaultValue(w.forwardTo,g,y):w[g].value=y)},c.prototype.setDefaultValues=function(p,g){Object.keys(g).forEach(function(y){this.setDefaultValue(p,y,g[y])},this)},c.prototype.setMessages=function(p,g){f=p,g&&g.placeholders&&(u=g.placeholders)},c.prototype.nls=function(p,g,y){f[p]||(a("No message found for the key '"+p+"' in messages with id "+f.$id+", trying to find a translation for the default string '"+g+"'."),f[g]||a("No message found for the default string '"+g+"' in the provided messages. Falling back to the default English message."));var w=f[p]||f[g]||g;return y&&(u==="dollarSigns"&&(w=w.replace(/\$(\$|[\d]+)/g,function(M,R){return R=="$"?"$":y[R]})),u==="curlyBrackets"&&(w=w.replace(/\{([^\}]+)\}/g,function(M,R){return y[R]}))),w},c})();h.prototype.warn=a,h.prototype.reportError=m,s.implement(h.prototype,l),n.AppConfig=h}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(t,n,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(t,n,i){n.isDark=!1,n.cssClass="ace-tm",n.cssText=t("./textmate-css"),n.$id="ace/theme/textmate";var s=t("../lib/dom");s.importCssString(n.cssText,n.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,n,i){"no use strict";var s=t("./lib/lang"),l=t("./lib/net"),m=t("./lib/dom"),o=t("./lib/app_config").AppConfig;i.exports=n=new o;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};n.get=function(h){if(!d.hasOwnProperty(h))throw new Error("Unknown config key: "+h);return d[h]},n.set=function(h,c){if(d.hasOwnProperty(h))d[h]=c;else if(this.setDefaultValue("",h,c)==!1)throw new Error("Unknown config key: "+h);h=="useStrictCSP"&&m.useStrictCSP(c)},n.all=function(){return s.copyObject(d)},n.$modes={},n.moduleUrl=function(h,c){if(d.$moduleUrls[h])return d.$moduleUrls[h];var p=h.split("/");c=c||p[p.length-2]||"";var g=c=="snippets"?"/":"-",y=p[p.length-1];if(c=="worker"&&g=="-"){var w=new RegExp("^"+c+"[\\-_]|[\\-_]"+c+"$","g");y=y.replace(w,"")}(!y||y==c)&&p.length>1&&(y=p[p.length-2]);var M=d[c+"Path"];return M==null?M=d.basePath:g=="/"&&(c=g=""),M&&M.slice(-1)!="/"&&(M+="/"),M+c+g+y+this.get("suffix")},n.setModuleUrl=function(h,c){return d.$moduleUrls[h]=c};var a=function(h,c){if(h==="ace/theme/textmate"||h==="./theme/textmate")return c(null,t("./theme/textmate"));if(f)return f(h,c);console.error("loader is not configured")},f;n.setLoader=function(h){f=h},n.dynamicModules=Object.create(null),n.$loading={},n.$loaded={},n.loadModule=function(h,c){var p;if(Array.isArray(h))var g=h[0],y=h[1];else if(typeof h=="string")var y=h;var w=function(M){if(M&&!n.$loading[y])return c&&c(M);if(n.$loading[y]||(n.$loading[y]=[]),n.$loading[y].push(c),!(n.$loading[y].length>1)){var R=function(){a(y,function(x,_){_&&(n.$loaded[y]=_),n._emit("load.module",{name:y,module:_});var E=n.$loading[y];n.$loading[y]=null,E.forEach(function(k){k&&k(_)})})};if(!n.get("packaged"))return R();l.loadScript(n.moduleUrl(y,g),R),u()}};if(n.dynamicModules[y])n.dynamicModules[y]().then(function(M){M.default?w(M.default):w(M)});else{try{p=this.$require(y)}catch{}w(p||n.$loaded[y])}},n.$require=function(h){if(typeof i.require=="function"){var c="require";return i[c](h)}},n.setModuleLoader=function(h,c){n.dynamicModules[h]=c};var u=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};n.version="1.43.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,n,i){t("./lib/fixoldbrowsers");var s=t("./config");s.setLoader(function(d,a){t([d],function(f){a(null,f)})});var l=(function(){return this||typeof window<"u"&&window})();i.exports=function(d){s.init=m,s.$require=t,d.require=t},m(!0);function m(d){if(!(!l||!l.document)){s.set("packaged",d||t.packaged||i.packaged||l.define&&(void 0).packaged);var a={},f="",u=document.currentScript||document._currentScript,h=u&&u.ownerDocument||document;u&&u.src&&(f=u.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var c=h.getElementsByTagName("script"),p=0;p<c.length;p++){var g=c[p],y=g.src||g.getAttribute("src");if(y){for(var w=g.attributes,M=0,R=w.length;M<R;M++){var x=w[M];x.name.indexOf("data-ace-")===0&&(a[o(x.name.replace(/^data-ace-/,""))]=x.value)}var _=y.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(f=_[1])}}f&&(a.base=a.base||f,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base;for(var E in a)typeof a[E]<"u"&&s.set(E,a[E])}}function o(d){return d.replace(/-(.)/g,function(a,f){return f.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(t,n,i){var s=(function(){function l(m,o,d,a){this.start={row:m,column:o},this.end={row:d,column:a}}return l.prototype.isEqual=function(m){return this.start.row===m.start.row&&this.end.row===m.end.row&&this.start.column===m.start.column&&this.end.column===m.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(m,o){return this.compare(m,o)==0},l.prototype.compareRange=function(m){var o,d=m.end,a=m.start;return o=this.compare(d.row,d.column),o==1?(o=this.compare(a.row,a.column),o==1?2:o==0?1:0):o==-1?-2:(o=this.compare(a.row,a.column),o==-1?-1:o==1?42:0)},l.prototype.comparePoint=function(m){return this.compare(m.row,m.column)},l.prototype.containsRange=function(m){return this.comparePoint(m.start)==0&&this.comparePoint(m.end)==0},l.prototype.intersects=function(m){var o=this.compareRange(m);return o==-1||o==0||o==1},l.prototype.isEnd=function(m,o){return this.end.row==m&&this.end.column==o},l.prototype.isStart=function(m,o){return this.start.row==m&&this.start.column==o},l.prototype.setStart=function(m,o){typeof m=="object"?(this.start.column=m.column,this.start.row=m.row):(this.start.row=m,this.start.column=o)},l.prototype.setEnd=function(m,o){typeof m=="object"?(this.end.column=m.column,this.end.row=m.row):(this.end.row=m,this.end.column=o)},l.prototype.inside=function(m,o){return this.compare(m,o)==0?!(this.isEnd(m,o)||this.isStart(m,o)):!1},l.prototype.insideStart=function(m,o){return this.compare(m,o)==0?!this.isEnd(m,o):!1},l.prototype.insideEnd=function(m,o){return this.compare(m,o)==0?!this.isStart(m,o):!1},l.prototype.compare=function(m,o){return!this.isMultiLine()&&m===this.start.row?o<this.start.column?-1:o>this.end.column?1:0:m<this.start.row?-1:m>this.end.row?1:this.start.row===m?o>=this.start.column?0:-1:this.end.row===m?o<=this.end.column?0:1:0},l.prototype.compareStart=function(m,o){return this.start.row==m&&this.start.column==o?-1:this.compare(m,o)},l.prototype.compareEnd=function(m,o){return this.end.row==m&&this.end.column==o?1:this.compare(m,o)},l.prototype.compareInside=function(m,o){return this.end.row==m&&this.end.column==o?1:this.start.row==m&&this.start.column==o?-1:this.compare(m,o)},l.prototype.clipRows=function(m,o){if(this.end.row>o)var d={row:o+1,column:0};else if(this.end.row<m)var d={row:m,column:0};if(this.start.row>o)var a={row:o+1,column:0};else if(this.start.row<m)var a={row:m,column:0};return l.fromPoints(a||this.start,d||this.end)},l.prototype.extend=function(m,o){var d=this.compare(m,o);if(d==0)return this;if(d==-1)var a={row:m,column:o};else var f={row:m,column:o};return l.fromPoints(a||this.start,f||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(m){var o=m.documentToScreenPosition(this.start),d=m.documentToScreenPosition(this.end);return new l(o.row,o.column,d.row,d.column)},l.prototype.moveBy=function(m,o){this.start.row+=m,this.start.column+=o,this.end.row+=m,this.end.column+=o},l})();s.fromPoints=function(l,m){return new s(l.row,l.column,m.row,m.column)},s.comparePoints=function(l,m){return l.row-m.row||l.column-m.column},n.Range=s}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,n,i){for(var s=t("./oop"),l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},m={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},o=0;o<10;o++)m["Digit"+o]=48+o,m["Numpad"+o]=96+o,l.PRINTABLE_KEYS[48+o]=""+o,l.FUNCTION_KEYS[96+o]="Numpad"+o;for(var o=65;o<91;o++){var d=String.fromCharCode(o+32);m["Key"+d.toUpperCase()]=o,l.PRINTABLE_KEYS[o]=d}for(var o=1;o<13;o++)m["F"+o]=111+o,l.FUNCTION_KEYS[111+o]="F"+o;var a={Shift:16,Control:17,Alt:18,Meta:224};for(var f in a)m[f]=m[f+"Left"]=m[f+"Right"]=a[f];n.$codeToKeyCode=m,l.PRINTABLE_KEYS[173]="-";for(var u in l.FUNCTION_KEYS){var h=l.FUNCTION_KEYS[u].toLowerCase();l[h]=parseInt(u,10)}for(var u in l.PRINTABLE_KEYS){var h=l.PRINTABLE_KEYS[u].toLowerCase();l[h]=parseInt(u,10)}s.mixin(l,l.MODIFIER_KEYS),s.mixin(l,l.PRINTABLE_KEYS),s.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,(function(){for(var c=["cmd","ctrl","alt","shift"],p=Math.pow(2,c.length);p--;)l.KEY_MODS[p]=c.filter(function(g){return p&l.KEY_MODS[g]}).join("-")+"-"})(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",s.mixin(n,l),n.default=n,n.keyCodeToString=function(c){var p=l[c];return typeof p!="string"&&(p=String.fromCharCode(c)),p.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,n,i){var s=t("./keys"),l=t("./useragent"),m=null,o=0,d;function a(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return d={passive:!1},!0}})}catch{}}function f(){return d==null&&a(),d}function u(M,R,x){this.elem=M,this.type=R,this.callback=x}u.prototype.destroy=function(){c(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=n.addListener=function(M,R,x,_){M.addEventListener(R,x,f()),_&&_.$toDestroy.push(new u(M,R,x))},c=n.removeListener=function(M,R,x){M.removeEventListener(R,x,f())};n.stopEvent=function(M){return n.stopPropagation(M),n.preventDefault(M),!1},n.stopPropagation=function(M){M.stopPropagation&&M.stopPropagation()},n.preventDefault=function(M){M.preventDefault&&M.preventDefault()},n.getButton=function(M){return M.type=="dblclick"?0:M.type=="contextmenu"||l.isMac&&M.ctrlKey&&!M.altKey&&!M.shiftKey?2:M.button},n.capture=function(M,R,x){var _=M&&M.ownerDocument||document;function E(k){R&&R(k),x&&x(k),c(_,"mousemove",R),c(_,"mouseup",E),c(_,"dragstart",E)}return h(_,"mousemove",R),h(_,"mouseup",E),h(_,"dragstart",E),E},n.addMouseWheelListener=function(M,R,x){h(M,"wheel",function(_){var E=.15,k=_.deltaX||0,T=_.deltaY||0;switch(_.deltaMode){case _.DOM_DELTA_PIXEL:_.wheelX=k*E,_.wheelY=T*E;break;case _.DOM_DELTA_LINE:var I=15;_.wheelX=k*I,_.wheelY=T*I;break;case _.DOM_DELTA_PAGE:var O=150;_.wheelX=k*O,_.wheelY=T*O;break}R(_)},x)},n.addMultiMouseDownListener=function(M,R,x,_,E){var k=0,T,I,O,C={2:"dblclick",3:"tripleclick",4:"quadclick"};function b(A){if(n.getButton(A)!==0?k=0:A.detail>1?(k++,k>4&&(k=1)):k=1,l.isIE){var S=Math.abs(A.clientX-T)>5||Math.abs(A.clientY-I)>5;(!O||S)&&(k=1),O&&clearTimeout(O),O=setTimeout(function(){O=null},R[k-1]||600),k==1&&(T=A.clientX,I=A.clientY)}if(A._clicks=k,x[_]("mousedown",A),k>4)k=0;else if(k>1)return x[_](C[k],A)}Array.isArray(M)||(M=[M]),M.forEach(function(A){h(A,"mousedown",b,E)})};function p(M){return 0|(M.ctrlKey?1:0)|(M.altKey?2:0)|(M.shiftKey?4:0)|(M.metaKey?8:0)}n.getModifierString=function(M){return s.KEY_MODS[p(M)]};function g(M,R,x){var _=p(R);if(!x&&R.code&&(x=s.$codeToKeyCode[R.code]||x),!l.isMac&&m){if(R.getModifierState&&(R.getModifierState("OS")||R.getModifierState("Win"))&&(_|=8),m.altGr)if((3&_)!=3)m.altGr=0;else return;if(x===18||x===17){var E=R.location;if(x===17&&E===1)m[x]==1&&(o=R.timeStamp);else if(x===18&&_===3&&E===2){var k=R.timeStamp-o;k<50&&(m.altGr=!0)}}}if(x in s.MODIFIER_KEYS&&(x=-1),!(!_&&x===13&&R.location===3&&(M(R,_,-x),R.defaultPrevented))){if(l.isChromeOS&&_&8){if(M(R,_,x),R.defaultPrevented)return;_&=-9}return!_&&!(x in s.FUNCTION_KEYS)&&!(x in s.PRINTABLE_KEYS)?!1:M(R,_,x)}}n.addCommandKeyListener=function(M,R,x){var _=null;h(M,"keydown",function(E){m[E.keyCode]=(m[E.keyCode]||0)+1;var k=g(R,E,E.keyCode);return _=E.defaultPrevented,k},x),h(M,"keypress",function(E){_&&(E.ctrlKey||E.altKey||E.shiftKey||E.metaKey)&&(n.stopEvent(E),_=null)},x),h(M,"keyup",function(E){m[E.keyCode]=null},x),m||(y(),h(window,"focus",y))};function y(){m=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var w=1;n.nextTick=function(M,R){R=R||window;var x="zero-timeout-message-"+w++,_=function(E){E.data==x&&(n.stopPropagation(E),c(R,"message",_),M())};h(R,"message",_),R.postMessage(x,"*")}}n.$idleBlocked=!1,n.onIdle=function(M,R){return setTimeout(function x(){n.$idleBlocked?setTimeout(x,100):M()},R)},n.$idleBlockId=null,n.blockIdle=function(M){n.$idleBlockId&&clearTimeout(n.$idleBlockId),n.$idleBlocked=!0,n.$idleBlockId=setTimeout(function(){n.$idleBlocked=!1},M||100)},n.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),n.nextFrame?n.nextFrame=n.nextFrame.bind(window):n.nextFrame=function(M){setTimeout(M,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(t,n,i){var s;i.exports={lineMode:!1,pasteCancelled:function(){return s&&s>Date.now()-50?!0:s=!1},cancel:function(){s=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,n,i){var s=t("../lib/event"),l=t("../config").nls,m=t("../lib/useragent"),o=t("../lib/dom"),d=t("../lib/lang"),a=t("../clipboard"),f=m.isChrome<18,u=m.isIE,h=m.isChrome>63,c=400,p=t("../lib/keys"),g=p.KEY_MODS,y=m.isIOS,w=y?/\s/:/\n/,M=m.isMobile,R=(function(){function x(_,E){var k=this;this.host=E,this.text=o.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",_.insertBefore(this.text,_.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",M||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),s.addListener(this.text,"blur",function(T){k.ignoreFocusEvents||(E.onBlur(T),k.$isFocused=!1)},E),s.addListener(this.text,"focus",function(T){if(!k.ignoreFocusEvents){if(k.$isFocused=!0,m.isEdge)try{if(!document.hasFocus())return}catch{}E.onFocus(T),m.isEdge?setTimeout(k.resetSelection.bind(k)):k.resetSelection()}},E),this.$focusScroll=!1,E.on("beforeEndOperation",function(){var T=E.curOp,I=T&&T.command&&T.command.name;if(I!="insertstring"){var O=I&&(T.docChanged||T.selectionChanged);k.inComposition&&O&&(k.lastValue=k.text.value="",k.onCompositionEnd()),k.resetSelection()}}),E.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=y?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&E.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,s.addCommandKeyListener(this.text,function(T,I,O){if(!k.inComposition)return E.onCommandKey(T,I,O)},E),s.addListener(this.text,"select",this.onSelect.bind(this),E),s.addListener(this.text,"input",this.onInput.bind(this),E),s.addListener(this.text,"cut",this.onCut.bind(this),E),s.addListener(this.text,"copy",this.onCopy.bind(this),E),s.addListener(this.text,"paste",this.onPaste.bind(this),E),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&s.addListener(_,"keydown",function(T){if(!(m.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:k.onCopy(T);break;case 86:k.onPaste(T);break;case 88:k.onCut(T);break}},E),this.syncComposition=d.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),s.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),E),s.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),E),s.addListener(this.text,"keyup",this.onKeyup.bind(this),E),s.addListener(this.text,"keydown",this.syncComposition.bind(this),E),s.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),E),this.closeTimeout,s.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),E),s.addListener(this.text,"mousedown",function(T){T.preventDefault(),k.onContextMenuClose()},E),s.addListener(E.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),E),s.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),E),y&&this.addIosSelectionHandler(_,E,this.text)}return x.prototype.addIosSelectionHandler=function(_,E,k){var T=this,I=null,O=!1;k.addEventListener("keydown",function(b){I&&clearTimeout(I),O=!0},!0),k.addEventListener("keyup",function(b){I=setTimeout(function(){O=!1},100)},!0);var C=function(b){if(document.activeElement===k&&!(O||T.inComposition||E.$mouseHandler.isMousePressed)&&!T.copied){var A=k.selectionStart,S=k.selectionEnd,L=null,P=0;if(A==0?L=p.up:A==1?L=p.home:S>T.lastSelectionEnd&&T.lastValue[S]==`
`?L=p.end:A<T.lastSelectionStart&&T.lastValue[A-1]==" "?(L=p.left,P=g.option):A<T.lastSelectionStart||A==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&A==S?L=p.left:S>T.lastSelectionEnd&&T.lastValue.slice(0,S).split(`
`).length>2?L=p.down:S>T.lastSelectionEnd&&T.lastValue[S-1]==" "?(L=p.right,P=g.option):(S>T.lastSelectionEnd||S==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&A==S)&&(L=p.right),A!==S&&(P|=g.shift),L){var V=E.onCommandKey({},P,L);if(!V&&E.commands){L=p.keyCodeToString(L);var B=E.commands.findKeyCommand(P,L);B&&E.execCommand(B)}T.lastSelectionStart=A,T.lastSelectionEnd=S,T.resetSelection("")}}};document.addEventListener("selectionchange",C),E.on("destroy",function(){document.removeEventListener("selectionchange",C)})},x.prototype.onContextMenuClose=function(){var _=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){_.tempStyle&&(_.text.style.cssText=_.tempStyle,_.tempStyle=""),_.host.renderer.$isMousePressed=!1,_.host.renderer.$keepTextAreaAtCursor&&_.host.renderer.$moveTextAreaToCursor()},0)},x.prototype.$onContextMenu=function(_){this.host.textInput.onContextMenu(_),this.onContextMenuClose()},x.prototype.onKeyup=function(_){_.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},x.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},x.prototype.onCompositionStart=function(_){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){_.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var E=this.host.getSelectionRange();E.end.row=E.start.row,E.end.column=E.start.column,this.inComposition.markerRange=E,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},x.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var _=this.text.value;this.sendText(_),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},x.prototype.onCompositionEnd=function(_){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),_&&this.onInput())},x.prototype.onCut=function(_){this.doCopy(_,!0)},x.prototype.onCopy=function(_){this.doCopy(_,!1)},x.prototype.onPaste=function(_){var E=this.handleClipboardData(_);a.pasteCancelled()||(typeof E=="string"?(E&&this.host.onPaste(E,_),m.isIE&&setTimeout(this.resetSelection),s.preventDefault(_)):(this.text.value="",this.pasted=!0))},x.prototype.doCopy=function(_,E){var k=this,T=this.host.getCopyText();if(!T)return s.preventDefault(_);this.handleClipboardData(_,T)?(y&&(this.resetSelection(T),this.copied=T,setTimeout(function(){k.copied=!1},10)),E?this.host.onCut():this.host.onCopy(),s.preventDefault(_)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){k.copied=!1,k.resetSelection(),E?k.host.onCut():k.host.onCopy()}))},x.prototype.handleClipboardData=function(_,E,k){var T=_.clipboardData||window.clipboardData;if(!(!T||f)){var I=u||k?"Text":"text/plain";try{return E?T.setData(I,E)!==!1:T.getData(I)}catch(O){if(!k)return this.handleClipboardData(O,E,!0)}}},x.prototype.onInput=function(_){if(this.inComposition)return this.onCompositionUpdate();if(_&&_.inputType){if(_.inputType=="historyUndo")return this.host.execCommand("undo");if(_.inputType=="historyRedo")return this.host.execCommand("redo")}var E=this.text.value,k=this.sendText(E,!0);(E.length>c+100||w.test(k)||M&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},x.prototype.sendText=function(_,E){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),_&&this.host.onPaste(_),this.pasted=!1,"";for(var k=this.text.selectionStart,T=this.text.selectionEnd,I=this.lastSelectionStart,O=this.lastValue.length-this.lastSelectionEnd,C=_,b=_.length-k,A=_.length-T,S=0;I>0&&this.lastValue[S]==_[S];)S++,I--;for(C=C.slice(S),S=1;O>0&&this.lastValue.length-S>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-S]==_[_.length-S];)S++,O--;b-=S-1,A-=S-1;var L=C.length-S+1;if(L<0&&(I=-L,L=0),C=C.slice(0,L),!E&&!C&&!b&&!I&&!O&&!A)return"";this.sendingText=!0;var P=!1;return m.isAndroid&&C==". "&&(C="  ",P=!0),C&&!I&&!O&&!b&&!A||this.commandMode?this.host.onTextInput(C):this.host.onTextInput(C,{extendLeft:I,extendRight:O,restoreStart:b,restoreEnd:A}),this.sendingText=!1,this.lastValue=_,this.lastSelectionStart=k,this.lastSelectionEnd=T,this.lastRestoreEnd=A,P?`
`:C},x.prototype.onSelect=function(_){var E=this;if(!this.inComposition){var k=function(T){return T.selectionStart===0&&T.selectionEnd>=E.lastValue.length&&T.value===E.lastValue&&E.lastValue&&T.selectionEnd!==E.lastSelectionEnd};this.copied?this.copied=!1:k(this.text)?(this.host.selectAll(),this.resetSelection()):M&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},x.prototype.$resetSelectionIOS=function(_){if(!(!this.$isFocused||this.copied&&!_||this.sendingText)){_||(_="");var E=`
 ab`+_+`cde fg
`;E!=this.text.value&&(this.text.value=this.lastValue=E);var k=4,T=4+(_.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=k||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(k,T),this.lastSelectionStart=k,this.lastSelectionEnd=T}},x.prototype.$resetSelection=function(){var _=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var E=0,k=0,T="",I=function(B,W){for(var G=W,J=1;J<=B-_.rowStart&&J<2*_.numberOfExtraLines+1;J++)G+=_.host.session.getLine(B-J).length+1;return G};if(this.host.session){var O=this.host.selection,C=O.getRange(),b=O.cursor.row;b===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):b===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(b<this.rowStart-1||b>this.rowEnd+1)&&(this.rowStart=b>this.numberOfExtraLines?b-this.numberOfExtraLines:0,this.rowEnd=b>this.numberOfExtraLines?b+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var A=[],S=this.rowStart;S<=this.rowEnd;S++)A.push(this.host.session.getLine(S));if(T=A.join(`
`),E=I(C.start.row,C.start.column),k=I(C.end.row,C.end.column),C.start.row<this.rowStart){var L=this.host.session.getLine(this.rowStart-1);E=C.start.row<this.rowStart-1?0:E,k+=L.length+1,T=L+`
`+T}else if(C.end.row>this.rowEnd){var P=this.host.session.getLine(this.rowEnd+1);k=C.end.row>this.rowEnd+1?P.length:C.end.column,k+=T.length+1,T=T+`
`+P}else M&&b>0&&(T=`
`+T,k+=1,E+=1);T.length>c&&(E<c&&k<c?T=T.slice(0,c):(T=`
`,E==k?E=k=0:(E=0,k=1)));var V=T+`

`;V!=this.lastValue&&(this.text.value=this.lastValue=V,this.lastSelectionStart=this.lastSelectionEnd=V.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=k||this.lastSelectionStart!=E||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(E,k),this.lastSelectionStart=E,this.lastSelectionEnd=k}catch{}this.inComposition=!1}},x.prototype.setHost=function(_){this.host=_},x.prototype.setNumberOfExtraLines=function(_){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,_<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=_},x.prototype.setAriaLabel=function(){var _="";if(this.host.$textInputAriaLabel&&(_+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var E=this.host.session.selection.cursor.row;_+=l("text-input.aria-label","Cursor at row $0",[E+1])}this.text.setAttribute("aria-label",_)},x.prototype.setAriaOptions=function(_){_.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",_.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",_.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),_.role&&this.text.setAttribute("role",_.role),_.setLabel&&(this.text.setAttribute("aria-roledescription",l("text-input.aria-roledescription","editor")),this.setAriaLabel())},x.prototype.focus=function(){var _=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||h||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var E=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var k=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(k)for(var I=this.text.parentElement;I&&I.nodeType==1;)T.push(I),I.setAttribute("ace_nocontext","true"),!I.parentElement&&I.getRootNode?I=I.getRootNode().host:I=I.parentElement;this.text.focus({preventScroll:!0}),k&&T.forEach(function(O){O.removeAttribute("ace_nocontext")}),setTimeout(function(){_.text.style.position="",_.text.style.top=="0px"&&(_.text.style.top=E)},0)},x.prototype.blur=function(){this.text.blur()},x.prototype.isFocused=function(){return this.$isFocused},x.prototype.setInputHandler=function(_){this.inputHandler=_},x.prototype.getInputHandler=function(){return this.inputHandler},x.prototype.getElement=function(){return this.text},x.prototype.setCommandMode=function(_){this.commandMode=_,this.text.readOnly=!1},x.prototype.setReadOnly=function(_){this.commandMode||(this.text.readOnly=_)},x.prototype.setCopyWithEmptySelection=function(_){},x.prototype.onContextMenu=function(_){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:_}),this.moveToMouse(_,!0)},x.prototype.moveToMouse=function(_,E){var k=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(E?"z-index:100000;":"")+(m.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),I=o.computedStyle(this.host.container),O=T.top+(parseInt(I.borderTopWidth)||0),C=T.left+(parseInt(I.borderLeftWidth)||0),b=T.bottom-O-this.text.clientHeight-2,A=function(S){o.translate(k.text,S.clientX-C-2,Math.min(S.clientY-O-2,b))};A(_),_.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),m.isWin&&s.capture(this.host.container,A,this.onContextMenuClose.bind(this)))},x.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},x})();n.TextInput=R,n.$setUserAgentForTests=function(x,_){M=x,y=_}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,n,i){var s=t("../lib/useragent"),l=0,m=550,o=(function(){function f(u){u.$clickSelection=null;var h=u.editor;h.setDefaultHandler("mousedown",this.onMouseDown.bind(u)),h.setDefaultHandler("dblclick",this.onDoubleClick.bind(u)),h.setDefaultHandler("tripleclick",this.onTripleClick.bind(u)),h.setDefaultHandler("quadclick",this.onQuadClick.bind(u)),h.setDefaultHandler("mousewheel",this.onMouseWheel.bind(u));var c=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];c.forEach(function(p){u[p]=this[p]},this),u.selectByLines=this.extendSelectionBy.bind(u,"getLineRange"),u.selectByWords=this.extendSelectionBy.bind(u,"getWordRange")}return f.prototype.onMouseDown=function(u){var h=u.inSelection(),c=u.getDocumentPosition();this.mousedownEvent=u;var p=this.editor,g=u.getButton();if(g!==0){var y=p.getSelectionRange(),w=y.isEmpty();(w||g==1)&&p.selection.moveToPosition(c),g==2&&(p.textInput.onContextMenu(u.domEvent),s.isMozilla||u.preventDefault());return}if(this.mousedownEvent.time=Date.now(),h&&!p.isFocused()&&(p.focus(),this.$focusTimeout&&!this.$clickSelection&&!p.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(u);return}return this.captureMouse(u),this.startSelect(c,u.domEvent._clicks>1),u.preventDefault()},f.prototype.startSelect=function(u,h){u=u||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var c=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?c.selection.selectToPosition(u):h||c.selection.moveToPosition(u),h||this.select(),c.setStyle("ace_selecting"),this.setState("select"))},f.prototype.select=function(){var u,h=this.editor,c=h.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var p=this.$clickSelection.comparePoint(c);if(p==-1)u=this.$clickSelection.end;else if(p==1)u=this.$clickSelection.start;else{var g=a(this.$clickSelection,c,h.session);c=g.cursor,u=g.anchor}h.selection.setSelectionAnchor(u.row,u.column)}h.selection.selectToPosition(c),h.renderer.scrollCursorIntoView()},f.prototype.extendSelectionBy=function(u){var h,c=this.editor,p=c.renderer.screenToTextCoordinates(this.x,this.y),g=c.selection[u](p.row,p.column);if(this.$clickSelection){var y=this.$clickSelection.comparePoint(g.start),w=this.$clickSelection.comparePoint(g.end);if(y==-1&&w<=0)h=this.$clickSelection.end,(g.end.row!=p.row||g.end.column!=p.column)&&(p=g.start);else if(w==1&&y>=0)h=this.$clickSelection.start,(g.start.row!=p.row||g.start.column!=p.column)&&(p=g.end);else if(y==-1&&w==1)p=g.end,h=g.start;else{var M=a(this.$clickSelection,p,c.session);p=M.cursor,h=M.anchor}c.selection.setSelectionAnchor(h.row,h.column)}c.selection.selectToPosition(p),c.renderer.scrollCursorIntoView()},f.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},f.prototype.focusWait=function(){var u=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),h=Date.now();(u>l||h-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},f.prototype.onDoubleClick=function(u){var h=u.getDocumentPosition(),c=this.editor,p=c.session,g=p.getBracketRange(h);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=c.selection.getWordRange(h.row,h.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},f.prototype.onTripleClick=function(u){var h=u.getDocumentPosition(),c=this.editor;this.setState("selectByLines");var p=c.getSelectionRange();p.isMultiLine()&&p.contains(h.row,h.column)?(this.$clickSelection=c.selection.getLineRange(p.start.row),this.$clickSelection.end=c.selection.getLineRange(p.end.row).end):this.$clickSelection=c.selection.getLineRange(h.row),this.select()},f.prototype.onQuadClick=function(u){var h=this.editor;h.selectAll(),this.$clickSelection=h.getSelectionRange(),this.setState("selectAll")},f.prototype.onMouseWheel=function(u){if(!u.getAccelKey()){u.getShiftKey()&&u.wheelY&&!u.wheelX&&(u.wheelX=u.wheelY,u.wheelY=0);var h=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var c=this.$lastScroll,p=u.domEvent.timeStamp,g=p-c.t,y=g?u.wheelX/g:c.vx,w=g?u.wheelY/g:c.vy;g<m&&(y=(y+c.vx)/2,w=(w+c.vy)/2);var M=Math.abs(y/w),R=!1;if(M>=1&&h.renderer.isScrollableBy(u.wheelX*u.speed,0)&&(R=!0),M<=1&&h.renderer.isScrollableBy(0,u.wheelY*u.speed)&&(R=!0),R)c.allowed=p;else if(p-c.allowed<m){var x=Math.abs(y)<=1.5*Math.abs(c.vx)&&Math.abs(w)<=1.5*Math.abs(c.vy);x?(R=!0,c.allowed=p):c.allowed=0}if(c.t=p,c.vx=y,c.vy=w,R)return h.renderer.scrollBy(u.wheelX*u.speed,u.wheelY*u.speed),u.stop()}},f})();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,n.DefaultHandlers=o;function d(f,u,h,c){return Math.sqrt(Math.pow(h-f,2)+Math.pow(c-u,2))}function a(f,u,h){if(f.start.row==f.end.row)var c=2*u.column-f.start.column-f.end.column;else if(f.start.row==f.end.row-1&&!f.start.column&&!f.end.column)var c=3*u.column-2*h.getLine(f.start.row).length;else var c=2*u.row-f.start.row-f.end.row;return c<0?{cursor:f.start,anchor:f.end}:{cursor:f.end,anchor:f.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,n,i){var s=t("../lib/event"),l=t("../lib/useragent"),m=(function(){function o(d,a){this.speed,this.wheelX,this.wheelY,this.domEvent=d,this.editor=a,this.x=this.clientX=d.clientX,this.y=this.clientY=d.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return o.prototype.stopPropagation=function(){s.stopPropagation(this.domEvent),this.propagationStopped=!0},o.prototype.preventDefault=function(){s.preventDefault(this.domEvent),this.defaultPrevented=!0},o.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},o.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},o.prototype.getGutterRow=function(){var d=this.getDocumentPosition().row,a=this.editor.session.documentToScreenRow(d,0),f=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return a-f},o.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var d=this.editor,a=d.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var f=this.getDocumentPosition();this.$inSelection=a.contains(f.row,f.column)}return this.$inSelection},o.prototype.getButton=function(){return s.getButton(this.domEvent)},o.prototype.getShiftKey=function(){return this.domEvent.shiftKey},o.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},o})();n.MouseEvent=m}),ace.define("ace/lib/scroll",["require","exports","module"],function(t,n,i){n.preventParentScroll=function(l){l.stopPropagation();var m=l.currentTarget,o=m.scrollHeight>m.clientHeight;o||l.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(t,n,i){var s=this&&this.__extends||(function(){var p=function(g,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,M){w.__proto__=M}||function(w,M){for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(w[R]=M[R])},p(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(g,y);function w(){this.constructor=g}g.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}})(),l=this&&this.__values||function(p){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&p[g],w=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&w>=p.length&&(p=void 0),{value:p&&p[w++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("./lib/dom");t("./lib/event");var o=t("./range").Range,d=t("./lib/scroll").preventParentScroll,a="ace_tooltip",f=(function(){function p(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return p.prototype.$init=function(){return this.$element=m.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},p.prototype.getElement=function(){return this.$element||this.$init()},p.prototype.setText=function(g){this.getElement().textContent=g},p.prototype.setHtml=function(g){this.getElement().innerHTML=g},p.prototype.setPosition=function(g,y){this.getElement().style.left=g+"px",this.getElement().style.top=y+"px"},p.prototype.setClassName=function(g){m.addCssClass(this.getElement(),g)},p.prototype.setTheme=function(g){this.theme&&(this.theme.isDark&&m.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&m.removeCssClass(this.getElement(),this.theme.cssClass)),g.isDark&&m.addCssClass(this.getElement(),"ace_dark"),g.cssClass&&m.addCssClass(this.getElement(),g.cssClass),this.theme={isDark:g.isDark,cssClass:g.cssClass}},p.prototype.show=function(g,y,w){g!=null&&this.setText(g),y!=null&&w!=null&&this.setPosition(y,w),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},p.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},p.prototype.getHeight=function(){return this.getElement().offsetHeight},p.prototype.getWidth=function(){return this.getElement().offsetWidth},p.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},p})(),u=(function(){function p(){this.popups=[]}return p.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},p.prototype.removePopup=function(g){var y=this.popups.indexOf(g);y!==-1&&(this.popups.splice(y,1),this.updatePopups())},p.prototype.updatePopups=function(){var g,y,w,M;this.popups.sort(function(C,b){return b.priority-C.priority});var R=[];try{for(var x=l(this.popups),_=x.next();!_.done;_=x.next()){var E=_.value,k=!0;try{for(var T=(w=void 0,l(R)),I=T.next();!I.done;I=T.next()){var O=I.value;if(this.doPopupsOverlap(O,E)){k=!1;break}}}catch(C){w={error:C}}finally{try{I&&!I.done&&(M=T.return)&&M.call(T)}finally{if(w)throw w.error}}k?R.push(E):E.hide()}}catch(C){g={error:C}}finally{try{_&&!_.done&&(y=x.return)&&y.call(x)}finally{if(g)throw g.error}}},p.prototype.doPopupsOverlap=function(g,y){var w=g.getElement().getBoundingClientRect(),M=y.getElement().getBoundingClientRect();return w.left<M.right&&w.right>M.left&&w.top<M.bottom&&w.bottom>M.top},p})(),h=new u;n.popupManager=h,n.Tooltip=f;var c=(function(p){s(g,p);function g(y){y===void 0&&(y=document.body);var w=p.call(this,y)||this;w.timeout=void 0,w.lastT=0,w.idleTime=350,w.lastEvent=void 0,w.onMouseOut=w.onMouseOut.bind(w),w.onMouseMove=w.onMouseMove.bind(w),w.waitForHover=w.waitForHover.bind(w),w.hide=w.hide.bind(w);var M=w.getElement();return M.style.whiteSpace="pre-wrap",M.style.pointerEvents="auto",M.addEventListener("mouseout",w.onMouseOut),M.tabIndex=-1,M.addEventListener("blur",function(){M.contains(document.activeElement)||this.hide()}.bind(w)),M.addEventListener("wheel",d),w}return g.prototype.addToEditor=function(y){y.on("mousemove",this.onMouseMove),y.on("mousedown",this.hide);var w=y.renderer.getMouseEventTarget();w&&typeof w.removeEventListener=="function"&&w.addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(y){y.off("mousemove",this.onMouseMove),y.off("mousedown",this.hide);var w=y.renderer.getMouseEventTarget();w&&typeof w.removeEventListener=="function"&&w.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(y,w){this.lastEvent=y,this.lastT=Date.now();var M=w.$mouseHandler.isMousePressed;if(this.isOpen){var R=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(R.row,R.column)||M||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||M||(this.lastEvent=y,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var y=Date.now()-this.lastT;if(this.idleTime-y>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-y);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(y){var w=y.editor,M=y.getDocumentPosition(),R=w.session.getLine(M.row);if(M.column==R.length){var x=w.renderer.pixelToScreenCoordinates(y.clientX,y.clientY),_=w.session.documentToScreenPosition(M.row,M.column);if(_.column!=x.column||_.row!=x.row)return!0}return!1},g.prototype.setDataProvider=function(y){this.$gatherData=y},g.prototype.showForRange=function(y,w,M,R){if(!(R&&R!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var x=y.renderer;this.isOpen||(h.addPopup(this),this.$registerCloseEvents(),this.setTheme(x.theme)),this.isOpen=!0,this.range=o.fromPoints(w.start,w.end);var _=x.textToScreenCoordinates(w.start.row,w.start.column),E=x.scroller.getBoundingClientRect();_.pageX<E.left&&(_.pageX=E.left);var k=this.getElement();k.innerHTML="",k.appendChild(M),k.style.maxHeight="",k.style.display="block",this.$setPosition(y,_,!0,w),m.$fixPositionBug(k)}},g.prototype.$setPosition=function(y,w,M,R){var x=10;M&&this.addMarker(R,y.session);var _=y.renderer,E=this.getElement(),k=E.offsetHeight,T=E.offsetWidth,I=w.pageY,O=w.pageX,C=window.innerHeight-I-_.lineHeight,b=this.$shouldPlaceAbove(k,I,C-x);E.style.maxHeight=(b?I:C)-x+"px",E.style.top=b?"":I+_.lineHeight+"px",E.style.bottom=b?window.innerHeight-I+"px":"",E.style.left=Math.min(O,window.innerWidth-T-x)+"px"},g.prototype.$shouldPlaceAbove=function(y,w,M){return!(w-y<0&&w<M)},g.prototype.addMarker=function(y,w){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=w,this.marker=w&&w.addMarker(y,"ace_highlight-marker","text")},g.prototype.hide=function(y){y&&this.$fromKeyboard&&y.type=="keydown"&&y.code=="Escape"||!y&&document.activeElement==this.getElement()||y&&y.target&&(y.type!="keydown"||y.ctrlKey||y.metaKey)&&this.$element.contains(y.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,h.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(y){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||y.relatedTarget.classList.contains("ace_content")||this.hide())},g})(f);n.HoverTooltip=c}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(t,n,i){var s=this&&this.__extends||(function(){var c=function(p,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&(y[M]=w[M])},c(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(p,g);function y(){this.constructor=p}p.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),l=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,g=p&&c[p],y=0;if(g)return g.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&y>=c.length&&(c=void 0),{value:c&&c[y++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("../lib/dom"),o=t("./mouse_event").MouseEvent,d=t("../tooltip").HoverTooltip,a=t("../config").nls,f=t("../range").Range;function u(c){var p=c.editor,g=p.renderer.$gutterLayer;c.$tooltip=new h(p),c.$tooltip.addToEditor(p),c.$tooltip.setDataProvider(function(y,w){var M=y.getDocumentPosition().row;c.$tooltip.showTooltip(M)}),c.editor.setDefaultHandler("guttermousedown",function(y){if(!(!p.isFocused()||y.getButton()!=0)){var w=g.getRegion(y);if(w!="foldWidgets"){var M=y.getDocumentPosition().row,R=p.session.selection;if(y.getShiftKey())R.selectTo(M,0);else{if(y.domEvent.detail==2)return p.selectAll(),y.preventDefault();c.$clickSelection=p.selection.getLineRange(M)}return c.setState("selectByLines"),c.captureMouse(y),y.preventDefault()}}})}n.GutterHandler=u;var h=(function(c){s(p,c);function p(g){var y=c.call(this,g.container)||this;y.id="gt"+ ++p.$uid,y.editor=g,y.visibleTooltipRow;var w=y.getElement();return w.setAttribute("role","tooltip"),w.setAttribute("id",y.id),w.style.pointerEvents="auto",y.idleTime=50,y.onDomMouseMove=y.onDomMouseMove.bind(y),y.onDomMouseOut=y.onDomMouseOut.bind(y),y.setClassName("ace_gutter-tooltip"),y}return p.prototype.onDomMouseMove=function(g){var y=new o(g,this.editor);this.onMouseMove(y,this.editor)},p.prototype.onDomMouseOut=function(g){var y=new o(g,this.editor);this.onMouseOut(y)},p.prototype.addToEditor=function(g){var y=g.renderer.$gutter;y.addEventListener("mousemove",this.onDomMouseMove),y.addEventListener("mouseout",this.onDomMouseOut),c.prototype.addToEditor.call(this,g)},p.prototype.removeFromEditor=function(g){var y=g.renderer.$gutter;y.removeEventListener("mousemove",this.onDomMouseMove),y.removeEventListener("mouseout",this.onDomMouseOut),c.prototype.removeFromEditor.call(this,g)},p.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),c.prototype.destroy.call(this)},Object.defineProperty(p,"annotationLabels",{get:function(){return{error:{singular:a("gutter-tooltip.aria-label.error.singular","error"),plural:a("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:a("gutter-tooltip.aria-label.security.singular","security finding"),plural:a("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:a("gutter-tooltip.aria-label.warning.singular","warning"),plural:a("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:a("gutter-tooltip.aria-label.info.singular","information message"),plural:a("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:a("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:a("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),p.prototype.showTooltip=function(g){var y,w=this.editor.renderer.$gutterLayer,M=w.$annotations[g],R;M?R={displayText:Array.from(M.displayText),type:Array.from(M.type)}:R={displayText:[],type:[]};var x=w.session.getFoldLine(g);if(x&&w.$showFoldedAnnotations){for(var _={error:[],security:[],warning:[],info:[],hint:[]},E={error:1,security:2,warning:3,info:4,hint:5},k,T=g+1;T<=x.end.row;T++)if(w.$annotations[T])for(var I=0;I<w.$annotations[T].text.length;I++){var O=w.$annotations[T].type[I];_[O].push(w.$annotations[T].text[I]),(!k||E[O]<E[k])&&(k=O)}if(["error","security","warning"].includes(k)){var C="".concat(p.annotationsToSummaryString(_)," in folded code.");R.displayText.push(C),R.type.push(k+"_fold")}}if(R.displayText.length===0)return this.hide();for(var b={error:[],security:[],warning:[],info:[],hint:[]},A=w.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",T=0;T<R.displayText.length;T++){var S=m.createElement("span"),L=m.createElement("span");(y=L.classList).add.apply(y,["ace_".concat(R.type[T]),A]),L.setAttribute("aria-label","".concat(p.annotationLabels[R.type[T].replace("_fold","")].singular)),L.setAttribute("role","img"),L.appendChild(m.createTextNode(" ")),S.appendChild(L),S.appendChild(m.createTextNode(R.displayText[T])),S.appendChild(m.createElement("br")),b[R.type[T].replace("_fold","")].push(S)}var P=m.createElement("span");b.error.forEach(function(W){return P.appendChild(W)}),b.security.forEach(function(W){return P.appendChild(W)}),b.warning.forEach(function(W){return P.appendChild(W)}),b.info.forEach(function(W){return P.appendChild(W)}),b.hint.forEach(function(W){return P.appendChild(W)}),P.setAttribute("aria-live","polite");var V=this.$findLinkedAnnotationNode(g);V&&V.setAttribute("aria-describedby",this.id);var B=f.fromPoints({row:g,column:0},{row:g,column:0});this.showForRange(this.editor,B,P),this.visibleTooltipRow=g,this.editor._signal("showGutterTooltip",this)},p.prototype.$setPosition=function(g,y,w,M){var R=this.$findCellByRow(M.start.row);if(R){var x=R&&R.element,_=x&&x.querySelector(".ace_gutter_annotation");if(_){var E=_.getBoundingClientRect();if(E){var k={pageX:E.right,pageY:E.top};return c.prototype.$setPosition.call(this,g,k,!1,M)}}}},p.prototype.$shouldPlaceAbove=function(g,y,w){return w<g},p.prototype.$findLinkedAnnotationNode=function(g){var y=this.$findCellByRow(g);if(y){var w=y.element;if(w.childNodes.length>2)return w.childNodes[2]}},p.prototype.$findCellByRow=function(g){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(y){return y.row===g})},p.prototype.hide=function(g){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var y=this.$findLinkedAnnotationNode(this.visibleTooltipRow);y&&y.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),c.prototype.hide.call(this,g)}},p.annotationsToSummaryString=function(g){var y,w,M=[],R=["error","security","warning","info","hint"];try{for(var x=l(R),_=x.next();!_.done;_=x.next()){var E=_.value;if(g[E].length){var k=g[E].length===1?p.annotationLabels[E].singular:p.annotationLabels[E].plural;M.push("".concat(g[E].length," ").concat(k))}}}catch(T){y={error:T}}finally{try{_&&!_.done&&(w=x.return)&&w.call(x)}finally{if(y)throw y.error}}return M.join(", ")},p.prototype.isOutsideOfText=function(g){var y=g.editor,w=y.renderer.$gutter.getBoundingClientRect();return!(g.clientX>=w.left&&g.clientX<=w.right&&g.clientY>=w.top&&g.clientY<=w.bottom)},p})(d);h.$uid=0,n.GutterTooltip=h}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,n,i){var s=t("../lib/dom"),l=t("../lib/event"),m=t("../lib/useragent"),o=200,d=200,a=5;function f(h){var c=h.editor,p=s.createElement("div");p.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",p.textContent="";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(K){h[K]=this[K]},this),c.on("mousedown",this.onMouseDown.bind(h));var y=c.container,w,M,R,x,_,E,k=0,T,I,O,C,b;this.onDragStart=function(K){if(this.cancelDrag||!y.draggable){var Q=this;return setTimeout(function(){Q.startSelect(),Q.captureMouse(K)},0),K.preventDefault()}_=c.getSelectionRange();var X=K.dataTransfer;X.effectAllowed=c.getReadOnly()?"copy":"copyMove",c.container.appendChild(p),X.setDragImage&&X.setDragImage(p,0,0),setTimeout(function(){c.container.removeChild(p)}),X.clearData(),X.setData("Text",c.session.getTextRange()),I=!0,this.setState("drag")},this.onDragEnd=function(K){if(y.draggable=!1,I=!1,this.setState(null),!c.getReadOnly()){var Q=K.dataTransfer.dropEffect;!T&&Q=="move"&&c.session.remove(c.getSelectionRange()),c.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(K){if(!(c.getReadOnly()||!G(K.dataTransfer)))return M=K.clientX,R=K.clientY,w||P(),k++,K.dataTransfer.dropEffect=T=J(K),l.preventDefault(K)},this.onDragOver=function(K){if(!(c.getReadOnly()||!G(K.dataTransfer)))return M=K.clientX,R=K.clientY,w||(P(),k++),B!==null&&(B=null),K.dataTransfer.dropEffect=T=J(K),l.preventDefault(K)},this.onDragLeave=function(K){if(k--,k<=0&&w)return V(),T=null,l.preventDefault(K)},this.onDrop=function(K){if(E){var Q=K.dataTransfer;if(I)switch(T){case"move":_.contains(E.row,E.column)?_={start:E,end:E}:_=c.moveText(_,E);break;case"copy":_=c.moveText(_,E,!0);break}else{var X=Q.getData("Text");_={start:E,end:c.session.insert(E,X)},c.focus(),T=null}return V(),l.preventDefault(K)}},l.addListener(y,"dragstart",this.onDragStart.bind(h),c),l.addListener(y,"dragend",this.onDragEnd.bind(h),c),l.addListener(y,"dragenter",this.onDragEnter.bind(h),c),l.addListener(y,"dragover",this.onDragOver.bind(h),c),l.addListener(y,"dragleave",this.onDragLeave.bind(h),c),l.addListener(y,"drop",this.onDrop.bind(h),c);function A(K,Q){var X=Date.now(),Z=!Q||K.row!=Q.row,re=!Q||K.column!=Q.column;if(!C||Z||re)c.moveCursorToPosition(K),C=X,b={x:M,y:R};else{var se=u(b.x,b.y,M,R);se>a?C=null:X-C>=d&&(c.renderer.scrollCursorIntoView(),C=null)}}function S(K,Q){var X=Date.now(),Z=c.renderer.layerConfig.lineHeight,re=c.renderer.layerConfig.characterWidth,se=c.renderer.scroller.getBoundingClientRect(),he={x:{left:M-se.left,right:se.right-M},y:{top:R-se.top,bottom:se.bottom-R}},ce=Math.min(he.x.left,he.x.right),_e=Math.min(he.y.top,he.y.bottom),Le={row:K.row,column:K.column};ce/re<=2&&(Le.column+=he.x.left<he.x.right?-3:2),_e/Z<=1&&(Le.row+=he.y.top<he.y.bottom?-1:1);var Be=K.row!=Le.row,Ye=K.column!=Le.column,ze=!Q||K.row!=Q.row;Be||Ye&&!ze?O?X-O>=o&&c.renderer.scrollCursorIntoView(Le):O=X:O=null}function L(){var K=E;E=c.renderer.screenToTextCoordinates(M,R),A(E,K),S(E,K)}function P(){_=c.selection.toOrientedRange(),w=c.session.addMarker(_,"ace_selection",c.getSelectionStyle()),c.clearSelection(),c.isFocused()&&c.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),L(),x=setInterval(L,20),k=0,l.addListener(document,"mousemove",W)}function V(){clearInterval(x),c.session.removeMarker(w),w=null,c.selection.fromOrientedRange(_),c.isFocused()&&!I&&c.$resetCursorStyle(),_=null,E=null,k=0,O=null,C=null,l.removeListener(document,"mousemove",W)}var B=null;function W(){B==null&&(B=setTimeout(function(){B!=null&&w&&V()},20))}function G(K){var Q=K.types;return!Q||Array.prototype.some.call(Q,function(X){return X=="text/plain"||X=="Text"})}function J(K){var Q=["copy","copymove","all","uninitialized"],X=["move","copymove","linkmove","all","uninitialized"],Z=m.isMac?K.altKey:K.ctrlKey,re="uninitialized";try{re=K.dataTransfer.effectAllowed.toLowerCase()}catch{}var se="none";return Z&&Q.indexOf(re)>=0?se="copy":X.indexOf(re)>=0?se="move":Q.indexOf(re)>=0&&(se="copy"),se}}(function(){this.dragWait=function(){var h=Date.now()-this.mousedownEvent.time;h>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var h=this.editor.container;h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(h){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var h=this.editor,c=h.container;c.draggable=!0,h.renderer.$cursorLayer.setBlinking(!1),h.setStyle("ace_dragging");var p=m.isWin?"default":"move";h.renderer.setCursorStyle(p),this.setState("dragReady")},this.onMouseDrag=function(h){var c=this.editor.container;if(m.isIE&&this.state=="dragReady"){var p=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);p>3&&c.dragDrop()}if(this.state==="dragWait"){var p=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);p>0&&(c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(h){if(this.$dragEnabled){this.mousedownEvent=h;var c=this.editor,p=h.inSelection(),g=h.getButton(),y=h.domEvent.detail||1;if(y===1&&g===0&&p){if(h.editor.inMultiSelectMode&&(h.getAccelKey()||h.getShiftKey()))return;this.mousedownEvent.time=Date.now();var w=h.domEvent.target||h.domEvent.srcElement;if("unselectable"in w&&(w.unselectable="on"),c.getDragDelay()){if(m.isWebKit){this.cancelDrag=!0;var M=c.container;M.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(h,this.onMouseDrag.bind(this)),h.defaultPrevented=!0}}}}).call(f.prototype);function u(h,c,p,g){return Math.sqrt(Math.pow(p-h,2)+Math.pow(g-c,2))}n.DragdropHandler=f}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,n,i){var s=t("./mouse_event").MouseEvent,l=t("../lib/event"),m=t("../lib/dom");n.addTouchListeners=function(o,d){var a="scroll",f,u,h,c,p,g,y=0,w,M=0,R=0,x=0,_,E;function k(){var A=window.navigator&&window.navigator.clipboard,S=!1,L=function(){var B=d.getCopyText(),W=d.session.getUndoManager().hasUndo();E.replaceChild(m.buildDom(S?["span",!B&&P("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],B&&P("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],B&&P("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],A&&P("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],W&&P("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],P("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],P("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),E.firstChild)},P=function(B){return d.commands.canExecute(B,d)},V=function(B){var W=B.target.getAttribute("action");if(W=="more"||!S)return S=!S,L();W=="paste"?A.readText().then(function(G){d.execCommand(W,G)}):W&&((W=="cut"||W=="copy")&&(A?A.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(W)),E.firstChild.style.display="none",S=!1,W!="openCommandPalette"&&d.focus()};E=m.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(B){a="menu",B.stopPropagation(),B.preventDefault(),d.textInput.focus()},ontouchend:function(B){B.stopPropagation(),B.preventDefault(),V(B)},onclick:V},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function T(){if(!d.getOption("enableMobileMenu")){E&&I();return}E||k();var A=d.selection.cursor,S=d.renderer.textToScreenCoordinates(A.row,A.column),L=d.renderer.textToScreenCoordinates(0,0).pageX,P=d.renderer.scrollLeft,V=d.container.getBoundingClientRect();E.style.top=S.pageY-V.top-3+"px",S.pageX-V.left<V.width-70?(E.style.left="",E.style.right="10px"):(E.style.right="",E.style.left=L+P-V.left+"px"),E.style.display="",E.firstChild.style.display="none",d.on("input",I)}function I(A){E&&(E.style.display="none"),d.off("input",I)}function O(){p=null,clearTimeout(p);var A=d.selection.getRange(),S=A.contains(w.row,w.column);(A.isEmpty()||!S)&&(d.selection.moveToPosition(w),d.selection.selectWord()),a="wait",T()}function C(){p=null,clearTimeout(p),d.selection.moveToPosition(w);var A=M>=2?d.selection.getLineRange(w.row):d.session.getBracketRange(w);A&&!A.isEmpty()?d.selection.setRange(A):d.selection.selectWord(),a="wait"}l.addListener(o,"contextmenu",function(A){if(_){var S=d.textInput.getElement();S.focus()}},d),l.addListener(o,"touchstart",function(A){var S=A.touches;if(p||S.length>1){clearTimeout(p),p=null,h=-1,a="zoom";return}_=d.$mouseHandler.isMousePressed=!0;var L=d.renderer.layerConfig.lineHeight,P=d.renderer.layerConfig.lineHeight,V=A.timeStamp;c=V;var B=S[0],W=B.clientX,G=B.clientY;Math.abs(f-W)+Math.abs(u-G)>L&&(h=-1),f=A.clientX=W,u=A.clientY=G,R=x=0;var J=new s(A,d);if(w=J.getDocumentPosition(),V-h<500&&S.length==1&&!y)M++,A.preventDefault(),A.button=0,C();else{M=0;var K=d.selection.cursor,Q=d.selection.isEmpty()?K:d.selection.anchor,X=d.renderer.$cursorLayer.getPixelPosition(K,!0),Z=d.renderer.$cursorLayer.getPixelPosition(Q,!0),re=d.renderer.scroller.getBoundingClientRect(),se=d.renderer.layerConfig.offset,he=d.renderer.scrollLeft,ce=function(Be,Ye){return Be=Be/P,Ye=Ye/L-.75,Be*Be+Ye*Ye};if(A.clientX<re.left){a="zoom";return}var _e=ce(A.clientX-re.left-X.left+he,A.clientY-re.top-X.top+se),Le=ce(A.clientX-re.left-Z.left+he,A.clientY-re.top-Z.top+se);_e<3.5&&Le<3.5&&(a=_e>Le?"cursor":"anchor"),Le<3.5?a="anchor":_e<3.5?a="cursor":a="scroll",p=setTimeout(O,450)}h=V},d),l.addListener(o,"touchend",function(A){_=d.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),a=="zoom"?(a="",y=0):p?(d.selection.moveToPosition(w),y=0,T()):a=="scroll"?(b(),I()):T(),clearTimeout(p),p=null},d),l.addListener(o,"touchmove",function(A){p&&(clearTimeout(p),p=null);var S=A.touches;if(!(S.length>1||a=="zoom")){var L=S[0],P=f-L.clientX,V=u-L.clientY;if(a=="wait")if(P*P+V*V>4)a="cursor";else return A.preventDefault();f=L.clientX,u=L.clientY,A.clientX=L.clientX,A.clientY=L.clientY;var B=A.timeStamp,W=B-c;if(c=B,a=="scroll"){var G=new s(A,d);G.speed=1,G.wheelX=P,G.wheelY=V,10*Math.abs(P)<Math.abs(V)&&(P=0),10*Math.abs(V)<Math.abs(P)&&(V=0),W!=0&&(R=P/W,x=V/W),d._emit("mousewheel",G),G.propagationStopped||(R=x=0)}else{var J=new s(A,d),K=J.getDocumentPosition();a=="cursor"?d.selection.moveCursorToPosition(K):a=="anchor"&&d.selection.setSelectionAnchor(K.row,K.column),d.renderer.scrollCursorIntoView(K),A.preventDefault()}}},d);function b(){y+=60,g=setInterval(function(){y--<=0&&(clearInterval(g),g=null),Math.abs(R)<.01&&(R=0),Math.abs(x)<.01&&(x=0),y<20&&(R=.9*R),y<20&&(x=.9*x);var A=d.session.getScrollTop();d.renderer.scrollBy(10*R,10*x),A==d.session.getScrollTop()&&(y=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,n,i){var s=t("../lib/event"),l=t("../lib/useragent"),m=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,d=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,f=t("./touch_handler").addTouchListeners,u=t("../config"),h=(function(){function c(p){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var g=this;this.editor=p,new m(this),new o(this),new a(this);var y=function(R){var x=!document.hasFocus||!document.hasFocus()||!p.isFocused()&&document.activeElement==(p.textInput&&p.textInput.getElement());x&&window.focus(),p.focus(),setTimeout(function(){p.isFocused()||p.focus()})},w=p.renderer.getMouseEventTarget();s.addListener(w,"click",this.onMouseEvent.bind(this,"click"),p),s.addListener(w,"mousemove",this.onMouseMove.bind(this,"mousemove"),p),s.addMultiMouseDownListener([w,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",p),s.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"),p),f(p.container,p);var M=p.renderer.$gutter;s.addListener(M,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),p),s.addListener(M,"click",this.onMouseEvent.bind(this,"gutterclick"),p),s.addListener(M,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),p),s.addListener(M,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),p),s.addListener(w,"mousedown",y,p),s.addListener(M,"mousedown",y,p),l.isIE&&p.renderer.scrollBarV&&(s.addListener(p.renderer.scrollBarV.element,"mousedown",y,p),s.addListener(p.renderer.scrollBarH.element,"mousedown",y,p)),p.on("mousemove",function(R){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var x=p.renderer.screenToTextCoordinates(R.x,R.y),_=p.session.selection.getRange(),E=p.renderer;!_.isEmpty()&&_.insideStart(x.row,x.column)?E.setCursorStyle("default"):E.setCursorStyle("")}},p)}return c.prototype.onMouseEvent=function(p,g){this.editor.session&&this.editor._emit(p,new d(g,this.editor))},c.prototype.onMouseMove=function(p,g){var y=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!y||!y.length||this.editor._emit(p,new d(g,this.editor))},c.prototype.onMouseWheel=function(p,g){var y=new d(g,this.editor);y.speed=this.$scrollSpeed*2,y.wheelX=g.wheelX,y.wheelY=g.wheelY,this.editor._emit(p,y)},c.prototype.setState=function(p){this.state=p},c.prototype.captureMouse=function(p,g){this.x=p.x,this.y=p.y,this.isMousePressed=!0;var y=this.editor,w=this.editor.renderer;w.$isMousePressed=!0;var M=this,R=!0,x=function(I){if(I){if(l.isWebKit&&!I.which&&M.releaseMouse)return M.releaseMouse();M.x=I.clientX,M.y=I.clientY,g&&g(I),M.mouseEvent=new d(I,M.editor),M.$mouseMoved=!0}},_=function(I){y.off("beforeEndOperation",T),R=!1,y.session&&E(),M[M.state+"End"]&&M[M.state+"End"](I),M.state="",M.isMousePressed=w.$isMousePressed=!1,w.$keepTextAreaAtCursor&&w.$moveTextAreaToCursor(),M.$onCaptureMouseMove=M.releaseMouse=null,I&&M.onMouseEvent("mouseup",I),y.endOperation()},E=function(){M[M.state]&&M[M.state](),M.$mouseMoved=!1},k=function(){R&&(E(),s.nextFrame(k))};if(l.isOldIE&&p.domEvent.type=="dblclick")return setTimeout(function(){_(p)});var T=function(I){M.releaseMouse&&y.curOp.command.name&&y.curOp.selectionChanged&&(M[M.state+"End"]&&M[M.state+"End"](),M.state="",M.releaseMouse())};y.on("beforeEndOperation",T),y.startOperation({command:{name:"mouse"}}),M.$onCaptureMouseMove=x,M.releaseMouse=s.capture(this.editor.container,x,_),k()},c.prototype.cancelContextMenu=function(){var p=function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",p),g&&g.domEvent&&s.stopEvent(g.domEvent))}.bind(this);setTimeout(p,10),this.editor.on("nativecontextmenu",p)},c.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},c})();h.prototype.releaseMouse=null,u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),n.MouseHandler=h}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,n,i){var s=t("../lib/dom"),l=(function(){function m(o){o.on("click",function(d){var a=d.getDocumentPosition(),f=o.session,u=f.getFoldAt(a.row,a.column,1);u&&(d.getAccelKey()?f.removeFold(u):f.expandFold(u),d.stop());var h=d.domEvent&&d.domEvent.target;h&&s.hasCssClass(h,"ace_inline_button")&&s.hasCssClass(h,"ace_toggle_wrap")&&(f.setOption("wrap",!f.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(d){var a=o.renderer.$gutterLayer.getRegion(d);if(a=="foldWidgets"){var f=d.getDocumentPosition().row,u=o.session;u.foldWidgets&&u.foldWidgets[f]&&o.session.onFoldWidgetClick(f,d),o.isFocused()||o.focus(),d.stop()}}),o.on("gutterdblclick",function(d){var a=o.renderer.$gutterLayer.getRegion(d);if(a=="foldWidgets"){var f=d.getDocumentPosition().row,u=o.session,h=u.getParentFoldRangeData(f,!0),c=h.range||h.firstRange;if(c){f=c.start.row;var p=u.getFoldAt(f,u.getLine(f).length,1);p?u.removeFold(p):(u.addFold("...",c),o.renderer.scrollCursorIntoView({row:c.start.row,column:0}))}d.stop()}})}return m})();n.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,n,i){var s=t("../lib/keys"),l=t("../lib/event"),m=(function(){function o(d){this.$editor=d,this.$data={editor:d},this.$handlers=[],this.setDefaultHandler(d.commands)}return o.prototype.setDefaultHandler=function(d){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=d,this.addKeyboardHandler(d,0)},o.prototype.setKeyboardHandler=function(d){var a=this.$handlers;if(a[a.length-1]!=d){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(d,1)}},o.prototype.addKeyboardHandler=function(d,a){if(d){typeof d=="function"&&!d.handleKeyboard&&(d.handleKeyboard=d);var f=this.$handlers.indexOf(d);f!=-1&&this.$handlers.splice(f,1),a==null?this.$handlers.push(d):this.$handlers.splice(a,0,d),f==-1&&d.attach&&d.attach(this.$editor)}},o.prototype.removeKeyboardHandler=function(d){var a=this.$handlers.indexOf(d);return a==-1?!1:(this.$handlers.splice(a,1),d.detach&&d.detach(this.$editor),!0)},o.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},o.prototype.getStatusText=function(){var d=this.$data,a=d.editor;return this.$handlers.map(function(f){return f.getStatusText&&f.getStatusText(a,d)||""}).filter(Boolean).join(" ")},o.prototype.$callKeyboardHandlers=function(d,a,f,u){for(var h,c=!1,p=this.$editor.commands,g=this.$handlers.length;g--&&(h=this.$handlers[g].handleKeyboard(this.$data,d,a,f,u),!(!(!h||!h.command)&&(h.command=="null"?c=!0:c=p.exec(h.command,this.$editor,h.args,u),c&&u&&d!=-1&&h.passEvent!=!0&&h.command.passEvent!=!0&&l.stopEvent(u),c))););return!c&&d==-1&&(h={command:"insertstring"},c=p.exec("insertstring",this.$editor,a)),c&&this.$editor._signal&&this.$editor._signal("keyboardActivity",h),c},o.prototype.onCommandKey=function(d,a,f){var u=s.keyCodeToString(f);return this.$callKeyboardHandlers(a,u,f,d)},o.prototype.onTextInput=function(d){return this.$callKeyboardHandlers(-1,d)},o})();n.KeyBinding=m}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,n,i){var s=0,l=0,m=!1,o=!1,d=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,h=1,c=0,p=1,g=2,y=3,w=4,M=5,R=6,x=7,_=8,E=9,k=10,T=11,I=12,O=13,C=14,b=15,A=16,S=17,L=18,P=[L,L,L,L,L,L,L,L,L,R,M,R,_,M,L,L,L,L,L,L,L,L,L,L,L,L,L,L,M,M,M,R,_,w,w,T,T,T,w,w,w,w,w,k,E,k,E,E,g,g,g,g,g,g,g,g,g,g,E,w,w,w,w,w,w,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,w,w,w,w,w,w,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,w,w,w,w,L,L,L,L,L,L,M,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,E,w,T,T,T,T,w,w,w,w,c,w,w,L,w,w,T,T,g,g,w,c,w,w,w,g,c,w,w,w,w,w],V=[_,_,_,_,_,_,_,_,_,_,_,L,L,L,c,p,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,_,M,O,C,b,A,S,E,T,T,T,T,T,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,E,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,_];function B(K,Q,X,Z){var re=s?f:a,se=null,he=null,ce=null,_e=0,Le=null,Be=null,Ye=-1,ze=null,lt=null,Wt=[];if(!Z)for(ze=0,Z=[];ze<X;ze++)Z[ze]=J(K[ze]);for(l=s,m=!1,o=!1,d=!1,lt=0;lt<X;lt++){if(se=_e,Wt[lt]=he=G(K,Z,Wt,lt),_e=re[se][he],Le=_e&240,_e&=15,Q[lt]=ce=re[_e][5],Le>0)if(Le==16){for(ze=Ye;ze<lt;ze++)Q[ze]=1;Ye=-1}else Ye=-1;if(Be=re[_e][6],Be)Ye==-1&&(Ye=lt);else if(Ye>-1){for(ze=Ye;ze<lt;ze++)Q[ze]=ce;Ye=-1}Z[lt]==M&&(Q[lt]=0),l|=ce}if(d){for(ze=0;ze<X;ze++)if(Z[ze]==R){Q[ze]=s;for(var Lt=ze-1;Lt>=0&&Z[Lt]==_;Lt--)Q[Lt]=s}}}function W(K,Q,X){if(!(l<K)){if(K==1&&s==h&&!o){X.reverse();return}for(var Z=X.length,re=0,se,he,ce,_e;re<Z;){if(Q[re]>=K){for(se=re+1;se<Z&&Q[se]>=K;)se++;for(he=re,ce=se-1;he<ce;he++,ce--)_e=X[he],X[he]=X[ce],X[ce]=_e;re=se}re++}}}function G(K,Q,X,Z){var re=Q[Z],se,he,ce,_e;switch(re){case c:case p:m=!1;case w:case y:return re;case g:return m?y:g;case x:return m=!0,p;case _:return w;case E:return Z<1||Z+1>=Q.length||(se=X[Z-1])!=g&&se!=y||(he=Q[Z+1])!=g&&he!=y?w:(m&&(he=y),he==se?he:w);case k:return se=Z>0?X[Z-1]:M,se==g&&Z+1<Q.length&&Q[Z+1]==g?g:w;case T:if(Z>0&&X[Z-1]==g)return g;if(m)return w;for(_e=Z+1,ce=Q.length;_e<ce&&Q[_e]==T;)_e++;return _e<ce&&Q[_e]==g?g:w;case I:for(ce=Q.length,_e=Z+1;_e<ce&&Q[_e]==I;)_e++;if(_e<ce){var Le=K[Z],Be=Le>=1425&&Le<=2303||Le==64286;if(se=Q[_e],Be&&(se==p||se==x))return p}return Z<1||(se=Q[Z-1])==M?w:X[Z-1];case M:return m=!1,o=!0,s;case R:return d=!0,w;case O:case C:case A:case S:case b:m=!1;case L:return w}}function J(K){var Q=K.charCodeAt(0),X=Q>>8;return X==0?Q>191?c:P[Q]:X==5?/[\u0591-\u05f4]/.test(K)?p:c:X==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(K)?I:/[\u0660-\u0669\u066b-\u066c]/.test(K)?y:Q==1642?T:/[\u06f0-\u06f9]/.test(K)?g:x:X==32&&Q<=8287?V[Q&255]:X==254&&Q>=65136?x:w}n.L=c,n.R=p,n.EN=g,n.ON_R=3,n.AN=4,n.R_H=5,n.B=6,n.RLE=7,n.DOT="",n.doBidiReorder=function(K,Q,X){if(K.length<2)return{};var Z=K.split(""),re=new Array(Z.length),se=new Array(Z.length),he=[];s=X?h:u,B(Z,he,Z.length,Q);for(var ce=0;ce<re.length;re[ce]=ce,ce++);W(2,he,re),W(1,he,re);for(var ce=0;ce<re.length-1;ce++)Q[ce]===y?he[ce]=n.AN:he[ce]===p&&(Q[ce]>x&&Q[ce]<O||Q[ce]===w||Q[ce]===L)?he[ce]=n.ON_R:ce>0&&Z[ce-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Z[ce])&&(he[ce-1]=he[ce]=n.R_H,ce++);Z[Z.length-1]===n.DOT&&(he[Z.length-1]=n.B),Z[0]===""&&(he[0]=n.RLE);for(var ce=0;ce<re.length;ce++)se[ce]=he[re[ce]];return{logicalFromVisual:re,bidiLevels:se}},n.hasBidiCharacters=function(K,Q){for(var X=!1,Z=0;Z<K.length;Z++)Q[Z]=J(K.charAt(Z)),!X&&(Q[Z]==p||Q[Z]==x||Q[Z]==y)&&(X=!0);return X},n.getVisualFromLogicalIdx=function(K,Q){for(var X=0;X<Q.logicalFromVisual.length;X++)if(Q.logicalFromVisual[X]==K)return X;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,n,i){var s=t("./lib/bidiutil"),l=t("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=(function(){function d(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=s,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(a.getValue())}return d.prototype.isBidiRow=function(a,f,u){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(f,u),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},d.prototype.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&m.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},d.prototype.getDocumentRow=function(){var a=0,f=this.session.$screenRowCache;if(f.length){var u=this.session.$getRowCacheIndex(f,this.currentRow);u>=0&&(a=this.session.$docRowCache[u])}return a},d.prototype.getSplitIndex=function(){var a=0,f=this.session.$screenRowCache;if(f.length)for(var u,h=this.session.$getRowCacheIndex(f,this.currentRow);this.currentRow-a>0&&(u=this.session.$getRowCacheIndex(f,this.currentRow-a-1),u===h);)h=u,a++;else a=this.currentRow;return a},d.prototype.updateRowLine=function(a,f){a===void 0&&(a=this.getDocumentRow());var u=a===this.session.getLength()-1,h=u?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var c=this.session.$wrapData[a];c&&(f===void 0&&(f=this.getSplitIndex()),f>0&&c.length?(this.wrapIndent=c.indent,this.wrapOffset=this.wrapIndent*this.charWidths[s.L],this.line=f<c.length?this.line.substring(c[f-1],c[f]):this.line.substring(c[c.length-1])):this.line=this.line.substring(0,c[f]),f==c.length&&(this.line+=this.showInvisibles?h:s.DOT))}else this.line+=this.showInvisibles?h:s.DOT;var p=this.session,g=0,y;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(w,M){return w==="	"||p.isFullWidth(w.charCodeAt(0))?(y=w==="	"?p.getScreenTabSize(M+g):2,g+=y-1,l.stringRepeat(s.DOT,y)):w}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==s.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},d.prototype.updateBidiMap=function(){var a=[];s.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=s.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},d.prototype.markAsDirty=function(){this.currentRow=null},d.prototype.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var f=this.characterWidth=a.$characterSize.width,u=a.$measureCharWidth("");this.charWidths[s.L]=this.charWidths[s.EN]=this.charWidths[s.ON_R]=f,this.charWidths[s.R]=this.charWidths[s.AN]=u,this.charWidths[s.R_H]=u*.45,this.charWidths[s.B]=this.charWidths[s.RLE]=0,this.currentRow=null}},d.prototype.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},d.prototype.setEolChar=function(a){this.EOL=a},d.prototype.setContentWidth=function(a){this.contentWidth=a},d.prototype.isRtlLine=function(a){return this.$isRtl?!0:a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir},d.prototype.setRtlDirection=function(a,f){for(var u=a.getCursorPosition(),h=a.selection.getSelectionAnchor().row;h<=u.row;h++)!f&&a.session.getLine(h).charAt(0)===a.session.$bidiHandler.RLE?a.session.doc.removeInLine(h,0,1):f&&a.session.getLine(h).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:h},a.session.$bidiHandler.RLE)},d.prototype.getPosLeft=function(a){a-=this.wrapIndent;var f=this.line.charAt(0)===this.RLE?1:0,u=a>f?this.session.getOverwrite()?a:a-1:f,h=s.getVisualFromLogicalIdx(u,this.bidiMap),c=this.bidiMap.bidiLevels,p=0;!this.session.getOverwrite()&&a<=f&&c[h]%2!==0&&h++;for(var g=0;g<h;g++)p+=this.charWidths[c[g]];return!this.session.getOverwrite()&&a>f&&c[h]%2===0&&(p+=this.charWidths[c[h]]),this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(p+=this.rtlLineOffset),p},d.prototype.getSelections=function(a,f){var u=this.bidiMap,h=u.bidiLevels,c,p=[],g=0,y=Math.min(a,f)-this.wrapIndent,w=Math.max(a,f)-this.wrapIndent,M=!1,R=!1,x=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var _,E=0;E<h.length;E++)_=u.logicalFromVisual[E],c=h[E],M=_>=y&&_<w,M&&!R?x=g:!M&&R&&p.push({left:x,width:g-x}),g+=this.charWidths[c],R=M;if(M&&E===h.length&&p.push({left:x,width:g-x}),this.isRtlDir)for(var k=0;k<p.length;k++)p[k].left+=this.rtlLineOffset;return p},d.prototype.offsetToCol=function(u){this.isRtlDir&&(u-=this.rtlLineOffset);var f=0,u=Math.max(u,0),h=0,c=0,p=this.bidiMap.bidiLevels,g=this.charWidths[p[c]];for(this.wrapIndent&&(u-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);u>h+g/2;){if(h+=g,c===p.length-1){g=0;break}g=this.charWidths[p[++c]]}return c>0&&p[c-1]%2!==0&&p[c]%2===0?(u<h&&c--,f=this.bidiMap.logicalFromVisual[c]):c>0&&p[c-1]%2===0&&p[c]%2!==0?f=1+(u>h?this.bidiMap.logicalFromVisual[c]:this.bidiMap.logicalFromVisual[c-1]):this.isRtlDir&&c===p.length-1&&g===0&&p[c-1]%2===0||!this.isRtlDir&&c===0&&p[c]%2!==0?f=1+this.bidiMap.logicalFromVisual[c]:(c>0&&p[c-1]%2!==0&&g!==0&&c--,f=this.bidiMap.logicalFromVisual[c]),f===0&&this.isRtlDir&&f++,f+this.wrapIndent},d})();n.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,n,i){var s=t("./lib/oop"),l=t("./lib/lang"),m=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,d=(function(){function a(f){this.session=f,this.doc=f.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var u=this;this.cursor.on("change",function(h){u.$cursorChanged=!0,u.$silent||u._emit("changeCursor"),!u.$isEmpty&&!u.$silent&&u._emit("changeSelection"),!u.$keepDesiredColumnOnChange&&h.old.column!=h.value.column&&(u.$desiredColumn=null)}),this.anchor.on("change",function(){u.$anchorChanged=!0,!u.$isEmpty&&!u.$silent&&u._emit("changeSelection")})}return a.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},a.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},a.prototype.getCursor=function(){return this.lead.getPosition()},a.prototype.setAnchor=function(f,u){this.$isEmpty=!1,this.anchor.setPosition(f,u)},a.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},a.prototype.getSelectionLead=function(){return this.lead.getPosition()},a.prototype.isBackwards=function(){var f=this.anchor,u=this.lead;return f.row>u.row||f.row==u.row&&f.column>u.column},a.prototype.getRange=function(){var f=this.anchor,u=this.lead;return this.$isEmpty?o.fromPoints(u,u):this.isBackwards()?o.fromPoints(u,f):o.fromPoints(f,u)},a.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},a.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},a.prototype.setRange=function(f,u){var h=u?f.end:f.start,c=u?f.start:f.end;this.$setSelection(h.row,h.column,c.row,c.column)},a.prototype.$setSelection=function(f,u,h,c){if(!this.$silent){var p=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(f,u),this.cursor.setPosition(h,c),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||p!=this.$isEmpty||g)&&this._emit("changeSelection")}},a.prototype.$moveSelection=function(f){var u=this.lead;this.$isEmpty&&this.setSelectionAnchor(u.row,u.column),f.call(this)},a.prototype.selectTo=function(f,u){this.$moveSelection(function(){this.moveCursorTo(f,u)})},a.prototype.selectToPosition=function(f){this.$moveSelection(function(){this.moveCursorToPosition(f)})},a.prototype.moveTo=function(f,u){this.clearSelection(),this.moveCursorTo(f,u)},a.prototype.moveToPosition=function(f){this.clearSelection(),this.moveCursorToPosition(f)},a.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},a.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},a.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},a.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},a.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},a.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},a.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},a.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},a.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},a.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},a.prototype.getWordRange=function(f,u){if(typeof u>"u"){var h=f||this.lead;f=h.row,u=h.column}return this.session.getWordRange(f,u)},a.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},a.prototype.selectAWord=function(){var f=this.getCursor(),u=this.session.getAWordRange(f.row,f.column);this.setSelectionRange(u)},a.prototype.getLineRange=function(f,u){var h=typeof f=="number"?f:this.lead.row,c,p=this.session.getFoldLine(h);return p?(h=p.start.row,c=p.end.row):c=h,u===!0?new o(h,0,c,this.session.getLine(c).length):new o(h,0,c+1,0)},a.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},a.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},a.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},a.prototype.wouldMoveIntoSoftTab=function(f,u,h){var c=f.column,p=f.column+u;return h<0&&(c=f.column-u,p=f.column),this.session.isTabStop(f)&&this.doc.getLine(f.row).slice(c,p).split(" ").length-1==u},a.prototype.moveCursorLeft=function(){var f=this.lead.getPosition(),u;if(u=this.session.getFoldAt(f.row,f.column,-1))this.moveCursorTo(u.start.row,u.start.column);else if(f.column===0)f.row>0&&this.moveCursorTo(f.row-1,this.doc.getLine(f.row-1).length);else{var h=this.session.getTabSize();this.wouldMoveIntoSoftTab(f,h,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-h):this.moveCursorBy(0,-1)}},a.prototype.moveCursorRight=function(){var f=this.lead.getPosition(),u;if(u=this.session.getFoldAt(f.row,f.column,1))this.moveCursorTo(u.end.row,u.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var h=this.session.getTabSize(),f=this.lead;this.wouldMoveIntoSoftTab(f,h,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,h):this.moveCursorBy(0,1)}},a.prototype.moveCursorLineStart=function(){var f=this.lead.row,u=this.lead.column,h=this.session.documentToScreenRow(f,u),c=this.session.screenToDocumentPosition(h,0),p=this.session.getDisplayLine(f,null,c.row,c.column),g=p.match(/^\s*/);g[0].length!=u&&!this.session.$useEmacsStyleLineStart&&(c.column+=g[0].length),this.moveCursorToPosition(c)},a.prototype.moveCursorLineEnd=function(){var f=this.lead,u=this.session.getDocumentLastRowColumnPosition(f.row,f.column);if(this.lead.column==u.column){var h=this.session.getLine(u.row);if(u.column==h.length){var c=h.search(/\s+$/);c>0&&(u.column=c)}}this.moveCursorTo(u.row,u.column)},a.prototype.moveCursorFileEnd=function(){var f=this.doc.getLength()-1,u=this.doc.getLine(f).length;this.moveCursorTo(f,u)},a.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},a.prototype.moveCursorLongWordRight=function(){var f=this.lead.row,u=this.lead.column,h=this.doc.getLine(f),c=h.substring(u);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var p=this.session.getFoldAt(f,u,1);if(p){this.moveCursorTo(p.end.row,p.end.column);return}if(this.session.nonTokenRe.exec(c)&&(u+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,c=h.substring(u)),u>=h.length){this.moveCursorTo(f,h.length),this.moveCursorRight(),f<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(c)&&(u+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(f,u)},a.prototype.moveCursorLongWordLeft=function(){var f=this.lead.row,u=this.lead.column,h;if(h=this.session.getFoldAt(f,u,-1)){this.moveCursorTo(h.start.row,h.start.column);return}var c=this.session.getFoldStringAt(f,u,-1);c==null&&(c=this.doc.getLine(f).substring(0,u));var p=l.stringReverse(c);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(u-=this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),u<=0){this.moveCursorTo(f,0),this.moveCursorLeft(),f>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(p)&&(u-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(f,u)},a.prototype.$shortWordEndIndex=function(f){var u=0,h,c=/\s/,p=this.session.tokenRe;if(p.lastIndex=0,this.session.tokenRe.exec(f))u=this.session.tokenRe.lastIndex;else{for(;(h=f[u])&&c.test(h);)u++;if(u<1){for(p.lastIndex=0;(h=f[u])&&!p.test(h);)if(p.lastIndex=0,u++,c.test(h))if(u>2){u--;break}else{for(;(h=f[u])&&c.test(h);)u++;if(u>2)break}}}return p.lastIndex=0,u},a.prototype.moveCursorShortWordRight=function(){var f=this.lead.row,u=this.lead.column,h=this.doc.getLine(f),c=h.substring(u),p=this.session.getFoldAt(f,u,1);if(p)return this.moveCursorTo(p.end.row,p.end.column);if(u==h.length){var g=this.doc.getLength();do f++,c=this.doc.getLine(f);while(f<g&&/^\s*$/.test(c));/^\s+/.test(c)||(c=""),u=0}var y=this.$shortWordEndIndex(c);this.moveCursorTo(f,u+y)},a.prototype.moveCursorShortWordLeft=function(){var f=this.lead.row,u=this.lead.column,h;if(h=this.session.getFoldAt(f,u,-1))return this.moveCursorTo(h.start.row,h.start.column);var c=this.session.getLine(f).substring(0,u);if(u===0){do f--,c=this.doc.getLine(f);while(f>0&&/^\s*$/.test(c));u=c.length,/\s+$/.test(c)||(c="")}var p=l.stringReverse(c),g=this.$shortWordEndIndex(p);return this.moveCursorTo(f,u-g)},a.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},a.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},a.prototype.moveCursorBy=function(f,u){var h=this.session.documentToScreenPosition(this.lead.row,this.lead.column),c;if(u===0&&(f!==0&&(this.session.$bidiHandler.isBidiRow(h.row,this.lead.row)?(c=this.session.$bidiHandler.getPosLeft(h.column),h.column=Math.round(c/this.session.$bidiHandler.charWidths[0])):c=h.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?h.column=this.$desiredColumn:this.$desiredColumn=h.column),f!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var p=this.session.lineWidgets[this.lead.row];f<0?f-=p.rowsAbove||0:f>0&&(f+=p.rowCount-(p.rowsAbove||0))}var g=this.session.screenToDocumentPosition(h.row+f,h.column,c);f!==0&&u===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+u,u===0)},a.prototype.moveCursorToPosition=function(f){this.moveCursorTo(f.row,f.column)},a.prototype.moveCursorTo=function(f,u,h){var c=this.session.getFoldAt(f,u,1);c&&(f=c.start.row,u=c.start.column),this.$keepDesiredColumnOnChange=!0;var p=this.session.getLine(f);/[\uDC00-\uDFFF]/.test(p.charAt(u))&&p.charAt(u-1)&&(this.lead.row==f&&this.lead.column==u+1?u=u-1:u=u+1),this.lead.setPosition(f,u),this.$keepDesiredColumnOnChange=!1,h||(this.$desiredColumn=null)},a.prototype.moveCursorToScreen=function(f,u,h){var c=this.session.screenToDocumentPosition(f,u);this.moveCursorTo(c.row,c.column,h)},a.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},a.prototype.fromOrientedRange=function(f){this.setSelectionRange(f,f.cursor==f.start),this.$desiredColumn=f.desiredColumn||this.$desiredColumn},a.prototype.toOrientedRange=function(f){var u=this.getRange();return f?(f.start.column=u.start.column,f.start.row=u.start.row,f.end.column=u.end.column,f.end.row=u.end.row):f=u,f.cursor=this.isBackwards()?f.start:f.end,f.desiredColumn=this.$desiredColumn,f},a.prototype.getRangeOfMovements=function(f){var u=this.getCursor();try{f(this);var h=this.getCursor();return o.fromPoints(u,h)}catch{return o.fromPoints(u,u)}finally{this.moveCursorToPosition(u)}},a.prototype.toJSON=function(){if(this.rangeCount)var f=this.ranges.map(function(u){var h=u.clone();return h.isBackwards=u.cursor==u.start,h});else{var f=this.getRange();f.isBackwards=this.isBackwards()}return f},a.prototype.fromJSON=function(f){if(f.start==null)if(this.rangeList&&f.length>1){this.toSingleRange(f[0]);for(var u=f.length;u--;){var h=o.fromPoints(f[u].start,f[u].end);f[u].isBackwards&&(h.cursor=h.start),this.addRange(h,!0)}return}else f=f[0];this.rangeList&&this.toSingleRange(f),this.setSelectionRange(f,f.isBackwards)},a.prototype.isEqual=function(f){if((f.length||this.rangeCount)&&f.length!=this.rangeCount)return!1;if(!f.length||!this.ranges)return this.getRange().isEqual(f);for(var u=this.ranges.length;u--;)if(!this.ranges[u].isEqual(f[u]))return!1;return!0},a})();d.prototype.setSelectionAnchor=d.prototype.setAnchor,d.prototype.getSelectionAnchor=d.prototype.getAnchor,d.prototype.setSelectionRange=d.prototype.setRange,s.implement(d.prototype,m),n.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(t,n,i){var s=t("./lib/report_error").reportError,l=2e3,m=(function(){function o(d){this.splitRegex,this.states=d,this.regExps={},this.matchMappings={};for(var a in this.states){for(var f=this.states[a],u=[],h=0,c=this.matchMappings[a]={defaultToken:"text"},p="g",g=[],y=0;y<f.length;y++){var w=f[y];if(w.defaultToken&&(c.defaultToken=w.defaultToken),w.caseInsensitive&&p.indexOf("i")===-1&&(p+="i"),w.unicode&&p.indexOf("u")===-1&&(p+="u"),w.regex!=null){w.regex instanceof RegExp&&(w.regex=w.regex.toString().slice(1,-1));var M=w.regex,R=new RegExp("(?:("+M+")|(.))").exec("a").length-2;Array.isArray(w.token)?w.token.length==1||R==1?w.token=w.token[0]:R-1!=w.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:w,groupCount:R-1}),w.token=w.token[0]):(w.tokenArray=w.token,w.token=null,w.onMatch=this.$arrayTokens):typeof w.token=="function"&&!w.onMatch&&(R>1?w.onMatch=this.$applyToken:w.onMatch=w.token),R>1&&(/\\\d/.test(w.regex)?M=w.regex.replace(/\\([0-9]+)/g,function(x,_){return"\\"+(parseInt(_,10)+h+1)}):(R=1,M=this.removeCapturingGroups(w.regex)),!w.splitRegex&&typeof w.token!="string"&&g.push(w)),c[h]=y,h+=R,u.push(M),w.onMatch||(w.onMatch=null)}}u.length||(c[0]=0,u.push("$")),g.forEach(function(x){x.splitRegex=this.createSplitterRegexp(x.regex,p)},this),this.regExps[a]=new RegExp("("+u.join(")|(")+")|($)",p)}}return o.prototype.$setMaxTokenCount=function(d){l=d|0},o.prototype.$applyToken=function(d){var a=this.splitRegex.exec(d).slice(1),f=this.token.apply(this,a);if(typeof f=="string")return[{type:f,value:d}];for(var u=[],h=0,c=f.length;h<c;h++)a[h]&&(u[u.length]={type:f[h],value:a[h]});return u},o.prototype.$arrayTokens=function(d){if(!d)return[];var a=this.splitRegex.exec(d);if(!a)return"text";for(var f=[],u=this.tokenArray,h=0,c=u.length;h<c;h++)a[h+1]&&(f[f.length]={type:u[h],value:a[h+1]});return f},o.prototype.removeCapturingGroups=function(d){var a=d.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(f,u){return u?"(?:":f});return a},o.prototype.createSplitterRegexp=function(d,a){if(d.indexOf("(?=")!=-1){var f=0,u=!1,h={};d.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(c,p,g,y,w,M){return u?u=w!="]":w?u=!0:y?(f==h.stack&&(h.end=M+1,h.stack=-1),f--):g&&(f++,g.length!=1&&(h.stack=f,h.start=M)),c}),h.end!=null&&/^\)*$/.test(d.substr(h.end))&&(d=d.substring(0,h.start)+d.substr(h.end))}return d.charAt(0)!="^"&&(d="^"+d),d.charAt(d.length-1)!="$"&&(d+="$"),new RegExp(d,(a||"").replace("g",""))},o.prototype.getLineTokens=function(d,a){if(a&&typeof a!="string"){var f=a.slice(0);a=f[0],a==="#tmp"&&(f.shift(),a=f.shift())}else var f=[];var u=a||"start",h=this.states[u];h||(u="start",h=this.states[u]);var c=this.matchMappings[u],p=this.regExps[u];p.lastIndex=0;for(var g,y=[],w=0,M=0,R={type:null,value:""};g=p.exec(d);){var x=c.defaultToken,_=null,E=g[0],k=p.lastIndex;if(k-E.length>w){var T=d.substring(w,k-E.length);R.type==x?R.value+=T:(R.type&&y.push(R),R={type:x,value:T})}for(var I=0;I<g.length-2;I++)if(g[I+1]!==void 0){_=h[c[I]],_.onMatch?x=_.onMatch(E,u,f,d):x=_.token,_.next&&(typeof _.next=="string"?u=_.next:u=_.next(u,f),h=this.states[u],h||(this.reportError("state doesn't exist",u),u="start",h=this.states[u]),c=this.matchMappings[u],w=k,p=this.regExps[u],p.lastIndex=k),_.consumeLineEnd&&(w=k);break}if(E){if(typeof x=="string")(!_||_.merge!==!1)&&R.type===x?R.value+=E:(R.type&&y.push(R),R={type:x,value:E});else if(x){R.type&&y.push(R),R={type:null,value:""};for(var I=0;I<x.length;I++)y.push(x[I])}}if(w==d.length)break;if(w=k,M++>l){for(M>2*d.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:d});w<d.length;)R.type&&y.push(R),R={value:d.substring(w,w+=500),type:"overflow"};u="start",f=[];break}}return R.type&&y.push(R),f.length>1&&f[0]!==u&&f.unshift("#tmp",u),{tokens:y,state:f.length?f:u}},o})();m.prototype.reportError=s,n.Tokenizer=m}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(t,n,i){var s=t("../lib/deep_copy").deepCopy,l;l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(d,a){if(!a){for(var f in d)this.$rules[f]=d[f];return}for(var f in d){for(var u=d[f],h=0;h<u.length;h++){var c=u[h];(c.next||c.onMatch)&&(typeof c.next=="string"&&c.next.indexOf(a)!==0&&(c.next=a+c.next),c.nextState&&c.nextState.indexOf(a)!==0&&(c.nextState=a+c.nextState))}this.$rules[a+f]=u}},this.getRules=function(){return this.$rules},this.embedRules=function(d,a,f,u,h){var c=typeof d=="function"?new d().getRules():d;if(u)for(var p=0;p<u.length;p++)u[p]=a+u[p];else{u=[];for(var g in c)u.push(a+g)}if(this.addRules(c,a),f)for(var y=Array.prototype[h?"push":"unshift"],p=0;p<u.length;p++)y.apply(this.$rules[u[p]],s(f));this.$embeds||(this.$embeds=[]),this.$embeds.push(a)},this.getEmbeds=function(){return this.$embeds};var m=function(d,a){return(d!="start"||a.length)&&a.unshift(this.nextState,d),this.nextState},o=function(d,a){return a.shift(),a.shift()||"start"};this.normalizeRules=function(){var d=0,a=this.$rules;function f(u){var h=a[u];h.processed=!0;for(var c=0;c<h.length;c++){var p=h[c],g=null;Array.isArray(p)&&(g=p,p={}),!p.regex&&p.start&&(p.regex=p.start,p.next||(p.next=[]),p.next.push({defaultToken:p.token},{token:p.token+".end",regex:p.end||p.start,next:"pop"}),p.token=p.token+".start",p.push=!0);var y=p.next||p.push;if(y&&Array.isArray(y)){var w=p.stateName;w||(w=p.token,typeof w!="string"&&(w=w[0]||""),a[w]&&(w+=d++)),a[w]=y,p.next=w,f(w)}else y=="pop"&&(p.next=o);if(p.push&&(p.nextState=p.next||p.push,p.next=m,delete p.push),p.rules)for(var M in p.rules)a[M]?a[M].push&&a[M].push.apply(a[M],p.rules[M]):a[M]=p.rules[M];var R=typeof p=="string"?p:p.include;if(R&&(R==="$self"&&(R="start"),Array.isArray(R)?g=R.map(function(_){return a[_]}):g=a[R]),g){var x=[c,1].concat(g);p.noEscape&&(x=x.filter(function(_){return!_.next})),h.splice.apply(h,x),c--}p.keywordMap&&(p.token=this.createKeywordMapper(p.keywordMap,p.defaultToken||"text",p.caseInsensitive),delete p.defaultToken)}}Object.keys(a).forEach(f,this)},this.createKeywordMapper=function(d,a,f,u){var h=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(c){for(var p=d[c],g=p.split(u||"|"),y=g.length;y--;){var w=g[y];this.$keywordList.push(w),f&&(w=w.toLowerCase()),h[w]=c}},this),d=null,f?function(c){return h[c.toLowerCase()]||a}:function(c){return h[c]||a}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),n.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,n,i){var s;s=function(){this.$behaviours={}},(function(){this.add=function(l,m,o){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][m]=o},this.addBehaviours=function(l){for(var m in l)for(var o in l[m])this.add(m,o,l[m][o])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,m){if(typeof l=="function")var o=new l().getBehaviours(m);else var o=l.getBehaviours(m);this.addBehaviours(o)},this.getBehaviours=function(l){if(l){for(var m={},o=0;o<l.length;o++)this.$behaviours[l[o]]&&(m[l[o]]=this.$behaviours[l[o]]);return m}else return this.$behaviours}}).call(s.prototype),n.Behaviour=s}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,n,i){var s=t("./range").Range,l=(function(){function m(o,d,a){this.$session=o,this.$row=d,this.$rowTokens=o.getTokens(d);var f=o.getTokenAt(d,a);this.$tokenIndex=f?f.index:-1}return m.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},m.prototype.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentTokenRow=function(){return this.$row},m.prototype.getCurrentTokenColumn=function(){var o=this.$rowTokens,d=this.$tokenIndex,a=o[d].start;if(a!==void 0)return a;for(a=0;d>0;)d-=1,a+=o[d].value.length;return a},m.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},m.prototype.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],d=this.getCurrentTokenColumn();return new s(this.$row,d,this.$row,d+o.value.length)},m})();n.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,n,i){var s=t("../../lib/oop"),l=t("../behaviour").Behaviour,m=t("../../token_iterator").TokenIterator,o=t("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],f,u={},h={'"':'"',"'":"'"},c=function(y){var w=-1;if(y.multiSelect&&(w=y.selection.index,u.rangeCount!=y.multiSelect.rangeCount&&(u={rangeCount:y.multiSelect.rangeCount})),u[w])return f=u[w];f=u[w]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(y,w,M,R){var x=y.end.row-y.start.row;return{text:M+w+R,selection:[0,y.start.column+1,x,y.end.column+(x?0:1)]}},g;g=function(y){y=y||{},this.add("braces","insertion",function(w,M,R,x,_){var E=R.getCursorPosition(),k=x.doc.getLine(E.row);if(_=="{"){c(R);var T=R.getSelectionRange(),I=x.doc.getTextRange(T),O=x.getTokenAt(E.row,E.column);if(I!==""&&I!=="{"&&R.getWrapBehavioursEnabled())return p(T,I,"{","}");if(O&&/(?:string)\.quasi|\.xml/.test(O.type)){var C=[/tag\-(?:open|name)/,/attribute\-name/];return C.some(function(B){return B.test(O.type)})||/(string)\.quasi/.test(O.type)&&O.value[E.column-O.start-1]!=="$"?void 0:(g.recordAutoInsert(R,x,"}"),{text:"{}",selection:[1,1]})}else if(g.isSaneInsertion(R,x))return/[\]\}\)]/.test(k[E.column])||R.inMultiSelectMode||y.braces?(g.recordAutoInsert(R,x,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(R,x,"{"),{text:"{",selection:[1,1]})}else if(_=="}"){c(R);var b=k.substring(E.column,E.column+1);if(b=="}"){var A=x.$findOpeningBracket("}",{column:E.column+1,row:E.row});if(A!==null&&g.isAutoInsertedClosing(E,k,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(_==`
`||_==`\r
`){c(R);var S="";g.isMaybeInsertedClosing(E,k)&&(S=o.stringRepeat("}",f.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var b=k.substring(E.column,E.column+1);if(b==="}"){var L=x.findMatchingBracket({row:E.row,column:E.column+1},"}");if(!L)return null;var P=this.$getIndent(x.getLine(L.row))}else if(S)var P=this.$getIndent(k);else{g.clearMaybeInsertedClosing();return}var V=P+x.getTabString();return{text:`
`+V+`
`+P+S,selection:[1,V.length,1,V.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(w,M,R,x,_){var E=x.doc.getTextRange(_);if(!_.isMultiLine()&&E=="{"){c(R);var k=x.doc.getLine(_.start.row),T=k.substring(_.end.column,_.end.column+1);if(T=="}")return _.end.column++,_;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(w,M,R,x,_){if(_=="("){c(R);var E=R.getSelectionRange(),k=x.doc.getTextRange(E);if(k!==""&&R.getWrapBehavioursEnabled())return p(E,k,"(",")");if(g.isSaneInsertion(R,x))return g.recordAutoInsert(R,x,")"),{text:"()",selection:[1,1]}}else if(_==")"){c(R);var T=R.getCursorPosition(),I=x.doc.getLine(T.row),O=I.substring(T.column,T.column+1);if(O==")"){var C=x.$findOpeningBracket(")",{column:T.column+1,row:T.row});if(C!==null&&g.isAutoInsertedClosing(T,I,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(w,M,R,x,_){var E=x.doc.getTextRange(_);if(!_.isMultiLine()&&E=="("){c(R);var k=x.doc.getLine(_.start.row),T=k.substring(_.start.column+1,_.start.column+2);if(T==")")return _.end.column++,_}}),this.add("brackets","insertion",function(w,M,R,x,_){if(_=="["){c(R);var E=R.getSelectionRange(),k=x.doc.getTextRange(E);if(k!==""&&R.getWrapBehavioursEnabled())return p(E,k,"[","]");if(g.isSaneInsertion(R,x))return g.recordAutoInsert(R,x,"]"),{text:"[]",selection:[1,1]}}else if(_=="]"){c(R);var T=R.getCursorPosition(),I=x.doc.getLine(T.row),O=I.substring(T.column,T.column+1);if(O=="]"){var C=x.$findOpeningBracket("]",{column:T.column+1,row:T.row});if(C!==null&&g.isAutoInsertedClosing(T,I,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(w,M,R,x,_){var E=x.doc.getTextRange(_);if(!_.isMultiLine()&&E=="["){c(R);var k=x.doc.getLine(_.start.row),T=k.substring(_.start.column+1,_.start.column+2);if(T=="]")return _.end.column++,_}}),this.add("string_dquotes","insertion",function(w,M,R,x,_){var E=x.$mode.$quotes||h;if(_.length==1&&E[_]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(_)!=-1)return;c(R);var k=_,T=R.getSelectionRange(),I=x.doc.getTextRange(T);if(I!==""&&(I.length!=1||!E[I])&&R.getWrapBehavioursEnabled())return p(T,I,k,k);if(!I){var O=R.getCursorPosition(),C=x.doc.getLine(O.row),b=C.substring(O.column-1,O.column),A=C.substring(O.column,O.column+1),S=x.getTokenAt(O.row,O.column),L=x.getTokenAt(O.row,O.column+1);if(b=="\\"&&S&&/escape/.test(S.type))return null;var P=S&&/string|escape/.test(S.type),V=!L||/string|escape/.test(L.type),B;if(A==k)B=P!==V,B&&/string\.end/.test(L.type)&&(B=!1);else{if(P&&!V||P&&V)return null;var W=x.$mode.tokenRe;W.lastIndex=0;var G=W.test(b);W.lastIndex=0;var J=W.test(A),K=x.$mode.$pairQuotesAfter,Q=K&&K[k]&&K[k].test(b);if(!Q&&G||J||A&&!/[\s;,.})\]\\]/.test(A))return null;var X=C[O.column-2];if(b==k&&(X==k||W.test(X)))return null;B=!0}return{text:B?k+k:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(w,M,R,x,_){var E=x.$mode.$quotes||h,k=x.doc.getTextRange(_);if(!_.isMultiLine()&&E.hasOwnProperty(k)){c(R);var T=x.doc.getLine(_.start.row),I=T.substring(_.start.column+1,_.start.column+2);if(I==k)return _.end.column++,_}}),y.closeDocComment!==!1&&this.add("doc comment end","insertion",function(w,M,R,x,_){if(w==="doc-start"&&(_===`
`||_===`\r
`)&&R.selection.isEmpty()){var E=R.getCursorPosition();if(E.column===0)return;for(var k=x.doc.getLine(E.row),T=x.doc.getLine(E.row+1),I=x.getTokens(E.row),O=0,C=0;C<I.length;C++){O+=I[C].value.length;var b=I[C];if(O>=E.column){if(O===E.column){if(!/\.doc/.test(b.type))return;if(/\*\//.test(b.value)){var A=I[C+1];if(!A||!/\.doc/.test(A.type))return}}var S=E.column-(O-b.value.length),L=b.value.indexOf("*/"),P=b.value.indexOf("/**",L>-1?L+2:0);if(P!==-1&&S>P&&S<P+3||L!==-1&&P!==-1&&S>=L&&S<=P||!/\.doc/.test(b.type))return;break}}var V=this.$getIndent(k);if(/\s*\*/.test(T))return/^\s*\*/.test(k)?{text:_+V+"* ",selection:[1,2+V.length,1,2+V.length]}:{text:_+V+" * ",selection:[1,3+V.length,1,3+V.length]};if(/\/\*\*/.test(k.substring(0,E.column)))return{text:_+V+" * "+_+" "+V+"*/",selection:[1,4+V.length,1,4+V.length]}}})},g.isSaneInsertion=function(y,w){var M=y.getCursorPosition(),R=new m(w,M.row,M.column);if(!this.$matchTokenType(R.getCurrentToken()||"text",d)){if(/[)}\]]/.test(y.session.getLine(M.row)[M.column]))return!0;var x=new m(w,M.row,M.column+1);if(!this.$matchTokenType(x.getCurrentToken()||"text",d))return!1}return R.stepForward(),R.getCurrentTokenRow()!==M.row||this.$matchTokenType(R.getCurrentToken()||"text",a)},g.$matchTokenType=function(y,w){return w.indexOf(y.type||y)>-1},g.recordAutoInsert=function(y,w,M){var R=y.getCursorPosition(),x=w.doc.getLine(R.row);this.isAutoInsertedClosing(R,x,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=R.row,f.autoInsertedLineEnd=M+x.substr(R.column),f.autoInsertedBrackets++},g.recordMaybeInsert=function(y,w,M){var R=y.getCursorPosition(),x=w.doc.getLine(R.row);this.isMaybeInsertedClosing(R,x)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=R.row,f.maybeInsertedLineStart=x.substr(0,R.column)+M,f.maybeInsertedLineEnd=x.substr(R.column),f.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(y,w,M){return f.autoInsertedBrackets>0&&y.row===f.autoInsertedRow&&M===f.autoInsertedLineEnd[0]&&w.substr(y.column)===f.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(y,w){return f.maybeInsertedBrackets>0&&y.row===f.maybeInsertedRow&&w.substr(y.column)===f.maybeInsertedLineEnd&&w.substr(0,y.column)==f.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},s.inherits(g,l),n.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(t,n,i){for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,m=[],o=0;o<s.length;o+=2)m.push(l+=s[o]),s[o+1]&&m.push(45,l+=s[o+1]);n.wordChars=String.fromCharCode.apply(null,m)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,n,i){var s=t("../config"),l=t("../tokenizer").Tokenizer,m=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,d=t("../unicode"),a=t("../lib/lang"),f=t("../token_iterator").TokenIterator,u=t("../range").Range,h;h=function(){this.HighlightRules=m},(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(c,p,g,y){var w=p.doc,M=!0,R=!0,x=1/0,_=p.getTabSize(),E=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var I=this.lineCommentStart.map(a.escapeRegExp).join("|"),k=this.lineCommentStart[0];else var I=a.escapeRegExp(this.lineCommentStart),k=this.lineCommentStart;I=new RegExp("^(\\s*)(?:"+I+") ?"),E=p.getUseSoftTabs();var b=function(J,K){var Q=J.match(I);if(Q){var X=Q[1].length,Z=Q[0].length;!L(J,X,Z)&&Q[0][Z-1]==" "&&Z--,w.removeInLine(K,X,Z)}},S=k+" ",C=function(J,K){(!M||/\S/.test(J))&&(L(J,x,x)?w.insertInLine({row:K,column:x},S):w.insertInLine({row:K,column:x},k))},A=function(J,K){return I.test(J)},L=function(J,K,Q){for(var X=0;K--&&J.charAt(K)==" ";)X++;if(X%_!=0)return!1;for(var X=0;J.charAt(Q++)==" ";)X++;return _>2?X%_!=_-1:X%_==0}}else{if(!this.blockComment)return!1;var k=this.blockComment.start,T=this.blockComment.end,I=new RegExp("^(\\s*)(?:"+a.escapeRegExp(k)+")"),O=new RegExp("(?:"+a.escapeRegExp(T)+")\\s*$"),C=function(B,W){A(B,W)||(!M||/\S/.test(B))&&(w.insertInLine({row:W,column:B.length},T),w.insertInLine({row:W,column:x},k))},b=function(B,W){var G;(G=B.match(O))&&w.removeInLine(W,B.length-G[0].length,B.length),(G=B.match(I))&&w.removeInLine(W,G[1].length,G[0].length)},A=function(B,W){if(I.test(B))return!0;for(var G=p.getTokens(W),J=0;J<G.length;J++)if(G[J].type==="comment")return!0}}function P(B){for(var W=g;W<=y;W++)B(w.getLine(W),W)}var V=1/0;P(function(B,W){var G=B.search(/\S/);G!==-1?(G<x&&(x=G),R&&!A(B,W)&&(R=!1)):V>B.length&&(V=B.length)}),x==1/0&&(x=V,M=!1,R=!1),E&&x%_!=0&&(x=Math.floor(x/_)*_),P(R?b:C)},this.toggleBlockComment=function(c,p,g,y){var w=this.blockComment;if(w){!w.start&&w[0]&&(w=w[0]);var M=new f(p,y.row,y.column),R=M.getCurrentToken();p.selection;var x=p.selection.toOrientedRange(),_,E;if(R&&/comment/.test(R.type)){for(var k,T;R&&/comment/.test(R.type);){var I=R.value.indexOf(w.start);if(I!=-1){var O=M.getCurrentTokenRow(),C=M.getCurrentTokenColumn()+I;k=new u(O,C,O,C+w.start.length);break}R=M.stepBackward()}for(var M=new f(p,y.row,y.column),R=M.getCurrentToken();R&&/comment/.test(R.type);){var I=R.value.indexOf(w.end);if(I!=-1){var O=M.getCurrentTokenRow(),C=M.getCurrentTokenColumn()+I;T=new u(O,C,O,C+w.end.length);break}R=M.stepForward()}T&&p.remove(T),k&&(p.remove(k),_=k.start.row,E=-w.start.length)}else E=w.start.length,_=g.start.row,p.insert(g.end,w.end),p.insert(g.start,w.start);x.start.row==_&&(x.start.column+=E),x.end.row==_&&(x.end.column+=E),p.selection.fromOrientedRange(x)}},this.getNextLineIndent=function(c,p,g){return this.$getIndent(p)},this.checkOutdent=function(c,p,g){return!1},this.autoOutdent=function(c,p,g){},this.$getIndent=function(c){return c.match(/^\s*/)[0]},this.createWorker=function(c){return null},this.createModeDelegates=function(c){this.$embeds=[],this.$modes={};for(var p in c)if(c[p]){var g=c[p],y=g.prototype.$id,w=s.$modes[y];w||(s.$modes[y]=w=new g),s.$modes[p]||(s.$modes[p]=w),this.$embeds.push(p),this.$modes[p]=w}for(var M=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],R=function(_){(function(E){var k=M[_],T=E[k];E[M[_]]=function(){return this.$delegator(k,arguments,T)}})(x)},x=this,p=0;p<M.length;p++)R(p)},this.$delegator=function(c,p,g){var y=p[0]||"start";if(typeof y!="string"){if(Array.isArray(y[2])){var w=y[2][y[2].length-1],M=this.$modes[w];if(M)return M[c].apply(M,[y[1]].concat([].slice.call(p,1)))}y=y[0]||"start"}for(var R=0;R<this.$embeds.length;R++)if(this.$modes[this.$embeds[R]]){var x=y.split(this.$embeds[R]);if(!x[0]&&x[1]){p[0]=x[1];var M=this.$modes[this.$embeds[R]];return M[c].apply(M,p)}}var _=g.apply(this,p);return g?_:void 0},this.transformAction=function(c,p,g,y,w){if(this.$behaviour){var M=this.$behaviour.getBehaviours();for(var R in M)if(M[R][p]){var x=M[R][p].apply(this,arguments);if(x)return x}}},this.getKeywords=function(c){if(!this.completionKeywords){var p=this.$tokenizer.rules,g=[];for(var y in p)for(var w=p[y],M=0,R=w.length;M<R;M++)if(typeof w[M].token=="string")/keyword|support|storage/.test(w[M].token)&&g.push(w[M].regex);else if(typeof w[M].token=="object"){for(var x=0,_=w[M].token.length;x<_;x++)if(/keyword|support|storage/.test(w[M].token[x])){var y=w[M].regex.match(/\(.+?\)/g)[x];g.push(y.substr(1,y.length-2))}}this.completionKeywords=g}return c?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(c,p,g,y){var w=this.$keywordList||this.$createKeywordList();return w.map(function(M){return{name:M,value:M,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(h.prototype),n.Mode=h}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,n,i){var s=t("./lib/dom"),l=(function(){function m(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return m.prototype.getRowLength=function(o){var d;return this.lineWidgets?d=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:d=0,!this.$useWrapMode||!this.$wrapData[o]?1+d:this.$wrapData[o].length+1+d},m.prototype.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(d){d&&d.rowCount&&!d.hidden&&(o+=d.rowCount)}),o},m.prototype.$onChangeEditor=function(o){this.attach(o.editor)},m.prototype.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},m.prototype.detach=function(o){var d=this.editor;if(d){this.editor=null,d.widgetManager=null,d.renderer.off("beforeRender",this.measureWidgets),d.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(f){f&&f.el&&f.el.parentNode&&(f._inDocument=!1,f.el.parentNode.removeChild(f.el))})}},m.prototype.updateOnFold=function(o,d){var a=d.lineWidgets;if(!(!a||!o.action)){for(var f=o.data,u=f.start.row,h=f.end.row,c=o.action=="add",p=u+1;p<h;p++)a[p]&&(a[p].hidden=c);a[h]&&(c?a[u]?a[h].hidden=c:a[u]=a[h]:(a[u]==a[h]&&(a[u]=void 0),a[h].hidden=c))}},m.prototype.updateOnChange=function(o){var d=this.session.lineWidgets;if(d){var a=o.start.row,f=o.end.row-a;if(f!==0)if(o.action=="remove"){var u=d.splice(a+1,f);!d[a]&&u[u.length-1]&&(d[a]=u.pop()),u.forEach(function(c){c&&this.removeLineWidget(c)},this),this.$updateRows()}else{var h=new Array(f);d[a]&&d[a].column!=null&&o.start.column>d[a].column&&a++,h.unshift(a,0),d.splice.apply(d,h),this.$updateRows()}}},m.prototype.$updateRows=function(){var o=this.session.lineWidgets;if(o){var d=!0;o.forEach(function(a,f){if(a)for(d=!1,a.row=f;a.$oldWidget;)a.$oldWidget.row=f,a=a.$oldWidget}),d&&(this.session.lineWidgets=null)}},m.prototype.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var d=this.session.lineWidgets[o.row];return d&&(o.$oldWidget=d,d.el&&d.el.parentNode&&(d.el.parentNode.removeChild(d.el),d._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},m.prototype.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var d=this.editor.renderer;o.html&&!o.el&&(o.el=s.createElement("div"),o.el.innerHTML=o.html),o.text&&!o.el&&(o.el=s.createElement("div"),o.el.textContent=o.text),o.el&&(s.addCssClass(o.el,"ace_lineWidgetContainer"),o.className&&s.addCssClass(o.el,o.className),o.el.style.position="absolute",o.el.style.zIndex="5",d.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex="3"),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/d.layerConfig.lineHeight);var a=this.session.getFoldAt(o.row,0);if(o.$fold=a,a){var f=this.session.lineWidgets;o.row==a.end.row&&!f[a.start.row]?f[a.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,d),this.onWidgetChanged(o),o},m.prototype.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch{}if(this.session.lineWidgets){var d=this.session.lineWidgets[o.row];if(d==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;d;){if(d.$oldWidget==o){d.$oldWidget=o.$oldWidget;break}d=d.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},m.prototype.getWidgetsAtRow=function(o){for(var d=this.session.lineWidgets,a=d&&d[o],f=[];a;)f.push(a),a=a.$oldWidget;return f},m.prototype.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},m.prototype.measureWidgets=function(o,d){var a=this.session._changedWidgets,f=d.layerConfig;if(!(!a||!a.length)){for(var u=1/0,h=0;h<a.length;h++){var c=a[h];if(!(!c||!c.el)&&c.session==this.session){if(!c._inDocument){if(this.session.lineWidgets[c.row]!=c)continue;c._inDocument=!0,d.container.appendChild(c.el)}c.h=c.el.offsetHeight,c.fixedWidth||(c.w=c.el.offsetWidth,c.screenWidth=Math.ceil(c.w/f.characterWidth));var p=c.h/f.lineHeight;c.coverLine&&(p-=this.session.getRowLineCount(c.row),p<0&&(p=0)),c.rowCount!=p&&(c.rowCount=p,c.row<u&&(u=c.row))}}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},m.prototype.renderWidgets=function(o,d){var a=d.layerConfig,f=this.session.lineWidgets;if(f){for(var u=Math.min(this.firstRow,a.firstRow),h=Math.max(this.lastRow,a.lastRow,f.length);u>0&&!f[u];)u--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,d.$cursorLayer.config=a;for(var c=u;c<=h;c++){var p=f[c];if(!(!p||!p.el)){if(p.hidden){p.el.style.top=-100-(p.pixelHeight||0)+"px";continue}p._inDocument||(p._inDocument=!0,d.container.appendChild(p.el));var g=d.$cursorLayer.getPixelPosition({row:c,column:0},!0).top;p.coverLine||(g+=a.lineHeight*this.session.getRowLineCount(p.row)),p.el.style.top=g-a.offset+"px";var y=p.coverGutter?0:d.gutterWidth;p.fixedWidth||(y-=d.scrollLeft),p.el.style.left=y+"px",p.fullWidth&&p.screenWidth&&(p.el.style.minWidth=a.width+2*a.padding+"px"),p.fixedWidth?p.el.style.right=d.scrollBar.getWidth()+"px":p.el.style.right=""}}}},m})();n.LineWidgets=l}),ace.define("ace/apply_delta",["require","exports","module"],function(t,n,i){n.applyDelta=function(s,l,m){var o=l.start.row,d=l.start.column,a=s[o]||"";switch(l.action){case"insert":var f=l.lines;if(f.length===1)s[o]=a.substring(0,d)+l.lines[0]+a.substring(d);else{var u=[o,1].concat(l.lines);s.splice.apply(s,u),s[o]=a.substring(0,d)+s[o],s[o+l.lines.length-1]+=a.substring(d)}break;case"remove":var h=l.end.column,c=l.end.row;o===c?s[o]=a.substring(0,d)+a.substring(h):s.splice(o,c-o+1,a.substring(0,d)+s[c].substring(h));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,n,i){var s=t("./lib/oop"),l=t("./lib/event_emitter").EventEmitter,m=(function(){function a(f,u,h){this.$onChange=this.onChange.bind(this),this.attach(f),typeof u!="number"?this.setPosition(u.row,u.column):this.setPosition(u,h)}return a.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},a.prototype.getDocument=function(){return this.document},a.prototype.onChange=function(f){if(!(f.start.row==f.end.row&&f.start.row!=this.row)&&!(f.start.row>this.row)){var u=d(f,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},a.prototype.setPosition=function(f,u,h){var c;if(h?c={row:f,column:u}:c=this.$clipPositionToDocument(f,u),!(this.row==c.row&&this.column==c.column)){var p={row:this.row,column:this.column};this.row=c.row,this.column=c.column,this._signal("change",{old:p,value:c})}},a.prototype.detach=function(){this.document.off("change",this.$onChange)},a.prototype.attach=function(f){this.document=f||this.document,this.document.on("change",this.$onChange)},a.prototype.$clipPositionToDocument=function(f,u){var h={};return f>=this.document.getLength()?(h.row=Math.max(0,this.document.getLength()-1),h.column=this.document.getLine(h.row).length):f<0?(h.row=0,h.column=0):(h.row=f,h.column=Math.min(this.document.getLine(h.row).length,Math.max(0,u))),u<0&&(h.column=0),h},a})();m.prototype.$insertRight=!1,s.implement(m.prototype,l);function o(a,f,u){var h=u?a.column<=f.column:a.column<f.column;return a.row<f.row||a.row==f.row&&h}function d(a,f,u){var h=a.action=="insert",c=(h?1:-1)*(a.end.row-a.start.row),p=(h?1:-1)*(a.end.column-a.start.column),g=a.start,y=h?g:a.end;return o(f,g,u)?{row:f.row,column:f.column}:o(y,f,!u)?{row:f.row+c,column:f.column+(f.row==y.row?p:0)}:{row:g.row,column:g.column}}n.Anchor=m}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,n,i){var s=t("./lib/oop"),l=t("./apply_delta").applyDelta,m=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,d=t("./anchor").Anchor,a=(function(){function f(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)}return f.prototype.setValue=function(u){var h=this.getLength()-1;this.remove(new o(0,0,h,this.getLine(h).length)),this.insert({row:0,column:0},u||"")},f.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},f.prototype.createAnchor=function(u,h){return new d(this,u,h)},f.prototype.$detectNewLine=function(u){var h=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=h?h[1]:`
`,this._signal("changeNewLineMode")},f.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},f.prototype.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},f.prototype.getNewLineMode=function(){return this.$newLineMode},f.prototype.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},f.prototype.getLine=function(u){return this.$lines[u]||""},f.prototype.getLines=function(u,h){return this.$lines.slice(u,h+1)},f.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},f.prototype.getLength=function(){return this.$lines.length},f.prototype.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},f.prototype.getLinesForRange=function(u){var h;if(u.start.row===u.end.row)h=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{h=this.getLines(u.start.row,u.end.row),h[0]=(h[0]||"").substring(u.start.column);var c=h.length-1;u.end.row-u.start.row==c&&(h[c]=h[c].substring(0,u.end.column))}return h},f.prototype.insertLines=function(u,h){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,h)},f.prototype.removeLines=function(u,h){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,h)},f.prototype.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},f.prototype.insert=function(u,h){return this.getLength()<=1&&this.$detectNewLine(h),this.insertMergedLines(u,this.$split(h))},f.prototype.insertInLine=function(u,h){var c=this.clippedPos(u.row,u.column),p=this.pos(u.row,u.column+h.length);return this.applyDelta({start:c,end:p,action:"insert",lines:[h]},!0),this.clonePos(p)},f.prototype.clippedPos=function(u,h){var c=this.getLength();u===void 0?u=c:u<0?u=0:u>=c&&(u=c-1,h=void 0);var p=this.getLine(u);return h==null&&(h=p.length),h=Math.min(Math.max(h,0),p.length),{row:u,column:h}},f.prototype.clonePos=function(u){return{row:u.row,column:u.column}},f.prototype.pos=function(u,h){return{row:u,column:h}},f.prototype.$clipPosition=function(u){var h=this.getLength();return u.row>=h?(u.row=Math.max(0,h-1),u.column=this.getLine(h-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},f.prototype.insertFullLines=function(u,h){u=Math.min(Math.max(u,0),this.getLength());var c=0;u<this.getLength()?(h=h.concat([""]),c=0):(h=[""].concat(h),u--,c=this.$lines[u].length),this.insertMergedLines({row:u,column:c},h)},f.prototype.insertMergedLines=function(u,h){var c=this.clippedPos(u.row,u.column),p={row:c.row+h.length-1,column:(h.length==1?c.column:0)+h[h.length-1].length};return this.applyDelta({start:c,end:p,action:"insert",lines:h}),this.clonePos(p)},f.prototype.remove=function(u){var h=this.clippedPos(u.start.row,u.start.column),c=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:h,end:c,action:"remove",lines:this.getLinesForRange({start:h,end:c})}),this.clonePos(h)},f.prototype.removeInLine=function(u,h,c){var p=this.clippedPos(u,h),g=this.clippedPos(u,c);return this.applyDelta({start:p,end:g,action:"remove",lines:this.getLinesForRange({start:p,end:g})},!0),this.clonePos(p)},f.prototype.removeFullLines=function(u,h){u=Math.min(Math.max(0,u),this.getLength()-1),h=Math.min(Math.max(0,h),this.getLength()-1);var c=h==this.getLength()-1&&u>0,p=h<this.getLength()-1,g=c?u-1:u,y=c?this.getLine(g).length:0,w=p?h+1:h,M=p?0:this.getLine(w).length,R=new o(g,y,w,M),x=this.$lines.slice(u,h+1);return this.applyDelta({start:R.start,end:R.end,action:"remove",lines:this.getLinesForRange(R)}),x},f.prototype.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},f.prototype.replace=function(u,h){if(u instanceof o||(u=o.fromPoints(u.start,u.end)),h.length===0&&u.isEmpty())return u.start;if(h==this.getTextRange(u))return u.end;this.remove(u);var c;return h?c=this.insert(u.start,h):c=u.start,c},f.prototype.applyDeltas=function(u){for(var h=0;h<u.length;h++)this.applyDelta(u[h])},f.prototype.revertDeltas=function(u){for(var h=u.length-1;h>=0;h--)this.revertDelta(u[h])},f.prototype.applyDelta=function(u,h){var c=u.action=="insert";(c?u.lines.length<=1&&!u.lines[0]:!o.comparePoints(u.start,u.end))||(c&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(l(this.$lines,u,h),this._signal("change",u)))},f.prototype.$safeApplyDelta=function(u){var h=this.$lines.length;(u.action=="remove"&&u.start.row<h&&u.end.row<h||u.action=="insert"&&u.start.row<=h)&&this.applyDelta(u)},f.prototype.$splitAndapplyLargeDelta=function(u,h){for(var c=u.lines,p=c.length-h+1,g=u.start.row,y=u.start.column,w=0,M=0;w<p;w=M){M+=h-1;var R=c.slice(w,M);R.push(""),this.applyDelta({start:this.pos(g+w,y),end:this.pos(g+M,y=0),action:u.action,lines:R},!0)}u.lines=c.slice(w),u.start.row=g+w,u.start.column=y,this.applyDelta(u,!0)},f.prototype.revertDelta=function(u){this.$safeApplyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},f.prototype.indexToPosition=function(u,h){for(var c=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,g=h||0,y=c.length;g<y;g++)if(u-=c[g].length+p,u<0)return{row:g,column:u+c[g].length+p};return{row:y-1,column:u+c[y-1].length+p}},f.prototype.positionToIndex=function(u,h){for(var c=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,g=0,y=Math.min(u.row,c.length),w=h||0;w<y;++w)g+=c[w].length+p;return g+u.column},f.prototype.$split=function(u){return u.split(/\r\n|\r|\n/)},f})();a.prototype.$autoNewLine="",a.prototype.$newLineMode="auto",s.implement(a.prototype,m),n.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,n,i){var s=t("./lib/oop"),l=t("./lib/event_emitter").EventEmitter,m=(function(){function o(d,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=d;var f=this;this.$worker=function(){if(f.running){for(var u=new Date,h=f.currentLine,c=-1,p=f.doc,g=h;f.lines[h];)h++;var y=p.getLength(),w=0;for(f.running=!1;h<y;){f.$tokenizeRow(h),c=h;do h++;while(f.lines[h]);if(w++,w%5===0&&new Date-u>20){f.running=setTimeout(f.$worker,20);break}}f.currentLine=h,c==-1&&(c=h),g<=c&&f.fireUpdateEvent(g,c)}}}return o.prototype.setTokenizer=function(d){this.tokenizer=d,this.lines=[],this.states=[],this.start(0)},o.prototype.setDocument=function(d){this.doc=d,this.lines=[],this.states=[],this.stop()},o.prototype.fireUpdateEvent=function(d,a){var f={first:d,last:a};this._signal("update",{data:f})},o.prototype.start=function(d){this.currentLine=Math.min(d||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},o.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},o.prototype.$updateOnChange=function(d){var a=d.start.row,f=d.end.row-a;if(f===0)this.lines[a]=null;else if(d.action=="remove")this.lines.splice(a,f+1,null),this.states.splice(a,f+1,null);else{var u=Array(f+1);u.unshift(a,1),this.lines.splice.apply(this.lines,u),this.states.splice.apply(this.states,u)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},o.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},o.prototype.getTokens=function(d){return this.lines[d]||this.$tokenizeRow(d)},o.prototype.getState=function(d){return this.currentLine==d&&this.$tokenizeRow(d),this.states[d]||"start"},o.prototype.$tokenizeRow=function(d){var a=this.doc.getLine(d),f=this.states[d-1],u=this.tokenizer.getLineTokens(a,f,d);return this.states[d]+""!=u.state+""?(this.states[d]=u.state,this.lines[d+1]=null,this.currentLine>d+1&&(this.currentLine=d+1)):this.currentLine==d&&(this.currentLine=d+1),this.lines[d]=u.tokens},o.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},o})();s.implement(m.prototype,l),n.BackgroundTokenizer=m}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(t,n,i){var s=t("./lib/lang"),l=t("./range").Range,m=(function(){function o(d,a,f){f===void 0&&(f="text"),this.setRegexp(d),this.clazz=a,this.type=f,this.docLen=0}return o.prototype.setRegexp=function(d){this.regExp+""!=d+""&&(this.regExp=d,this.cache=[])},o.prototype.update=function(d,a,f,u){if(this.regExp){for(var h=u.firstRow,c=u.lastRow,p={},g=f.$editor&&f.$editor.$search,y=g&&g.$isMultilineSearch(f.$editor.getLastSearchOptions()),w=h;w<=c;w++){var M=this.cache[w];if(M==null||f.getValue().length!=this.docLen){if(y){M=[];var R=g.$multiLineForward(f,this.regExp,w,c);if(R){var x=R.endRow<=c?R.endRow-1:c;x>w&&(w=x),M.push(new l(R.startRow,R.startCol,R.endRow,R.endCol))}M.length>this.MAX_RANGES&&(M=M.slice(0,this.MAX_RANGES))}else M=s.getMatchOffsets(f.getLine(w),this.regExp),M.length>this.MAX_RANGES&&(M=M.slice(0,this.MAX_RANGES)),M=M.map(function(T){return new l(w,T.offset,w,T.offset+T.length)});this.cache[w]=M.length?M:""}if(M.length!==0)for(var _=M.length;_--;){var E=M[_].toScreenRange(f),k=E.toString();p[k]||(p[k]=!0,a.drawSingleLineMarker(d,E,this.clazz,u))}}this.docLen=f.getValue().length}},o})();m.prototype.MAX_RANGES=500,n.SearchHighlight=m}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,n,i){var s=(function(){function x(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return x.prototype.addSession=function(_){this.$session=_},x.prototype.add=function(_,E,k){if(!this.$fromUndo&&_!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),E===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),_.id=this.$rev=++this.$maxRev}(_.action=="remove"||_.action=="insert")&&(this.$lastDelta=_),this.lastDeltas.push(_)}},x.prototype.addSelection=function(_,E){this.selections.push({value:_,rev:E||this.$rev})},x.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},x.prototype.markIgnored=function(_,E){E==null&&(E=this.$rev+1);for(var k=this.$undoStack,T=k.length;T--;){var I=k[T][0];if(I.id<=_)break;I.id<E&&(I.ignore=!0)}this.lastDeltas=null},x.prototype.getSelection=function(_,E){for(var k=this.selections,T=k.length;T--;){var I=k[T];if(I.rev<_)return E&&(I=k[T+1]),I}},x.prototype.getRevision=function(){return this.$rev},x.prototype.getDeltas=function(_,E){E==null&&(E=this.$rev+1);for(var k=this.$undoStack,T=null,I=0,O=k.length;O--;){var C=k[O][0];if(C.id<E&&!T&&(T=O+1),C.id<=_){I=O+1;break}}return k.slice(I,T)},x.prototype.getChangedRanges=function(_,E){E==null&&(E=this.$rev+1)},x.prototype.getChangedLines=function(_,E){E==null&&(E=this.$rev+1)},x.prototype.undo=function(_,E){this.lastDeltas=null;var k=this.$undoStack;if(l(k,k.length)){_||(_=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=k.pop(),I=null;return T&&(I=_.undoChanges(T,E),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,I}},x.prototype.redo=function(_,E){if(this.lastDeltas=null,_||(_=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var k=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);R(this.$redoStack,k),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(O){O[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),I=null;return T&&(I=_.redoChanges(T,E),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,I},x.prototype.$syncRev=function(){var _=this.$undoStack,E=_[_.length-1],k=E&&E[0].id||0;this.$redoStackBaseRev=k,this.$rev=k},x.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},x.prototype.canUndo=function(){return this.$undoStack.length>0},x.prototype.canRedo=function(){return this.$redoStack.length>0},x.prototype.bookmark=function(_){_==null&&(_=this.$rev),this.mark=_},x.prototype.isAtBookmark=function(){return this.$rev===this.mark},x.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},x.prototype.fromJSON=function(_){this.reset(),this.$undoStack=_.$undoStack,this.$redoStack=_.$redoStack},x.prototype.$prettyPrint=function(_){return _?f(_):f(this.$undoStack)+`
---
`+f(this.$redoStack)},x})();s.prototype.hasUndo=s.prototype.canUndo,s.prototype.hasRedo=s.prototype.canRedo,s.prototype.isClean=s.prototype.isAtBookmark,s.prototype.markClean=s.prototype.bookmark;function l(x,_){for(var E=_;E--;){var k=x[E];if(k&&!k[0].ignore){for(;E<_-1;){var T=c(x[E],x[E+1]);x[E]=T[0],x[E+1]=T[1],E++}return!0}}}var m=t("./range").Range,o=m.comparePoints;m.comparePoints;function d(x){return{row:x.row,column:x.column}}function a(x){return{start:d(x.start),end:d(x.end),action:x.action,lines:x.lines.slice()}}function f(x){if(x=x||this,Array.isArray(x))return x.map(f).join(`
`);var _="";return x.action?(_=x.action=="insert"?"+":"-",_+="["+x.lines+"]"):x.value&&(Array.isArray(x.value)?_=x.value.map(u).join(`
`):_=u(x.value)),x.start&&(_+=u(x)),(x.id||x.rev)&&(_+="	("+(x.id||x.rev)+")"),_}function u(x){return x.start.row+":"+x.start.column+"=>"+x.end.row+":"+x.end.column}function h(x,_){var E=x.action=="insert",k=_.action=="insert";if(E&&k)if(o(_.start,x.end)>=0)g(_,x,-1);else if(o(_.start,x.start)<=0)g(x,_,1);else return null;else if(E&&!k)if(o(_.start,x.end)>=0)g(_,x,-1);else if(o(_.end,x.start)<=0)g(x,_,-1);else return null;else if(!E&&k)if(o(_.start,x.start)>=0)g(_,x,1);else if(o(_.start,x.start)<=0)g(x,_,1);else return null;else if(!E&&!k)if(o(_.start,x.start)>=0)g(_,x,1);else if(o(_.end,x.start)<=0)g(x,_,-1);else return null;return[_,x]}function c(x,_){for(var E=x.length;E--;)for(var k=0;k<_.length;k++)if(!h(x[E],_[k])){for(;E<x.length;){for(;k--;)h(_[k],x[E]);k=_.length,E++}return[x,_]}return x.selectionBefore=_.selectionBefore=x.selectionAfter=_.selectionAfter=null,[_,x]}function p(x,_){var E=x.action=="insert",k=_.action=="insert";if(E&&k)o(x.start,_.start)<0?g(_,x,1):g(x,_,1);else if(E&&!k)o(x.start,_.end)>=0?g(x,_,-1):(o(x.start,_.start)<=0||g(x,m.fromPoints(_.start,x.start),-1),g(_,x,1));else if(!E&&k)o(_.start,x.end)>=0?g(_,x,-1):(o(_.start,x.start)<=0||g(_,m.fromPoints(x.start,_.start),-1),g(x,_,1));else if(!E&&!k)if(o(_.start,x.end)>=0)g(_,x,-1);else if(o(_.end,x.start)<=0)g(x,_,-1);else{var T,I;return o(x.start,_.start)<0&&(T=x,x=w(x,_.start)),o(x.end,_.end)>0&&(I=w(x,_.end)),y(_.end,x.start,x.end,-1),I&&!T&&(x.lines=I.lines,x.start=I.start,x.end=I.end,I=x),[_,T,I].filter(Boolean)}return[_,x]}function g(x,_,E){y(x.start,_.start,_.end,E),y(x.end,_.start,_.end,E)}function y(x,_,E,k){x.row==(k==1?_:E).row&&(x.column+=k*(E.column-_.column)),x.row+=k*(E.row-_.row)}function w(x,_){var E=x.lines,k=x.end;x.end=d(_);var T=x.end.row-x.start.row,I=E.splice(T,E.length),O=T?_.column:_.column-x.start.column;E.push(I[0].substring(0,O)),I[0]=I[0].substr(O);var C={start:d(_),end:k,lines:I,action:x.action};return C}function M(x,_){_=a(_);for(var E=x.length;E--;){for(var k=x[E],T=0;T<k.length;T++){var I=k[T],O=p(I,_);_=O[0],O.length!=2&&(O[2]?(k.splice(T+1,1,O[1],O[2]),T++):O[1]||(k.splice(T,1),T--))}k.length||x.splice(E,1)}return x}function R(x,_){for(var E=0;E<_.length;E++)for(var k=_[E],T=0;T<k.length;T++)M(x,k[T])}n.UndoManager=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,n,i){var s=t("../range").Range,l=(function(){function m(o,d){this.foldData=o,Array.isArray(d)?this.folds=d:d=this.folds=[d];var a=d[d.length-1];this.range=new s(d[0].start.row,d[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(f){f.setFoldLine(this)},this)}return m.prototype.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(d){d.start.row+=o,d.end.row+=o})},m.prototype.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(d,a){return-d.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},m.prototype.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},m.prototype.walk=function(o,d,a){var f=0,u=this.folds,h,c,p,g=!0;d==null&&(d=this.end.row,a=this.end.column);for(var y=0;y<u.length;y++){if(h=u[y],c=h.range.compareStart(d,a),c==-1){o(null,d,a,f,g);return}if(p=o(null,h.start.row,h.start.column,f,g),p=!p&&o(h.placeholder,h.start.row,h.start.column,f),p||c===0)return;g=!h.sameRow,f=h.end.column}o(null,d,a,f,g)},m.prototype.getNextFoldTo=function(o,d){for(var a,f,u=0;u<this.folds.length;u++){if(a=this.folds[u],f=a.range.compareEnd(o,d),f==-1)return{fold:a,kind:"after"};if(f===0)return{fold:a,kind:"inside"}}return null},m.prototype.addRemoveChars=function(o,d,a){var f=this.getNextFoldTo(o,d),u,h;if(f){if(u=f.fold,f.kind=="inside"&&u.start.column!=d&&u.start.row!=o)window.console&&window.console.log(o,d,u);else if(u.start.row==o){h=this.folds;var c=h.indexOf(u);for(c===0&&(this.start.column+=a),c;c<h.length;c++){if(u=h[c],u.start.column+=a,!u.sameRow)return;u.end.column+=a}this.end.column+=a}}},m.prototype.split=function(o,d){var a=this.getNextFoldTo(o,d);if(!a||a.kind=="inside")return null;var f=a.fold,u=this.folds,h=this.foldData,c=u.indexOf(f),p=u[c-1];this.end.row=p.end.row,this.end.column=p.end.column,u=u.splice(c,u.length-c);var g=new m(h,u);return h.splice(h.indexOf(this)+1,0,g),g},m.prototype.merge=function(o){for(var d=o.folds,a=0;a<d.length;a++)this.addFold(d[a]);var f=this.foldData;f.splice(f.indexOf(o),1)},m.prototype.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(d){o.push("  "+d.toString())}),o.push("]"),o.join(`
`)},m.prototype.idxToPosition=function(o){for(var d=0,a=0;a<this.folds.length;a++){var f=this.folds[a];if(o-=f.start.column-d,o<0)return{row:f.start.row,column:f.start.column+o};if(o-=f.placeholder.length,o<0)return f.start;d=f.end.column}return{row:this.end.row,column:this.end.column+o}},m})();n.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,n,i){var s=t("./range").Range,l=s.comparePoints,m=(function(){function o(){this.ranges=[],this.$bias=1}return o.prototype.pointIndex=function(d,a,f){for(var u=this.ranges,h=f||0;h<u.length;h++){var c=u[h],p=l(d,c.end);if(!(p>0)){var g=l(d,c.start);return p===0?a&&g!==0?-h-2:h:g>0||g===0&&!a?h:-h-1}}return-h-1},o.prototype.add=function(d){var a=!d.isEmpty(),f=this.pointIndex(d.start,a);f<0&&(f=-f-1);var u=this.pointIndex(d.end,a,f);return u<0?u=-u-1:u++,this.ranges.splice(f,u-f,d)},o.prototype.addList=function(d){for(var a=[],f=d.length;f--;)a.push.apply(a,this.add(d[f]));return a},o.prototype.substractPoint=function(d){var a=this.pointIndex(d);if(a>=0)return this.ranges.splice(a,1)},o.prototype.merge=function(){var d=[],a=this.ranges;a=a.sort(function(p,g){return l(p.start,g.start)});for(var f=a[0],u,h=1;h<a.length;h++){u=f,f=a[h];var c=l(u.end,f.start);c<0||c==0&&!u.isEmpty()&&!f.isEmpty()||(l(u.end,f.end)<0&&(u.end.row=f.end.row,u.end.column=f.end.column),a.splice(h,1),d.push(f),f=u,h--)}return this.ranges=a,d},o.prototype.contains=function(d,a){return this.pointIndex({row:d,column:a})>=0},o.prototype.containsPoint=function(d){return this.pointIndex(d)>=0},o.prototype.rangeAtPoint=function(d){var a=this.pointIndex(d);if(a>=0)return this.ranges[a]},o.prototype.clipRows=function(d,a){var f=this.ranges;if(f[0].start.row>a||f[f.length-1].start.row<d)return[];var u=this.pointIndex({row:d,column:0});u<0&&(u=-u-1);var h=this.pointIndex({row:a,column:0},u);h<0&&(h=-h-1);for(var c=[],p=u;p<h;p++)c.push(f[p]);return c},o.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},o.prototype.attach=function(d){this.session&&this.detach(),this.session=d,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},o.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},o.prototype.$onChange=function(d){for(var a=d.start,f=d.end,u=a.row,h=f.row,c=this.ranges,p=0,g=c.length;p<g;p++){var y=c[p];if(y.end.row>=u)break}if(d.action=="insert")for(var w=h-u,M=-a.column+f.column;p<g;p++){var y=c[p];if(y.start.row>u)break;if(y.start.row==u&&y.start.column>=a.column&&(y.start.column==a.column&&this.$bias<=0||(y.start.column+=M,y.start.row+=w)),y.end.row==u&&y.end.column>=a.column){if(y.end.column==a.column&&this.$bias<0)continue;y.end.column==a.column&&M>0&&p<g-1&&y.end.column>y.start.column&&y.end.column==c[p+1].start.column&&(y.end.column-=M),y.end.column+=M,y.end.row+=w}}else for(var w=u-h,M=a.column-f.column;p<g;p++){var y=c[p];if(y.start.row>h)break;y.end.row<h&&(u<y.end.row||u==y.end.row&&a.column<y.end.column)?(y.end.row=u,y.end.column=a.column):y.end.row==h?y.end.column<=f.column?(w||y.end.column>a.column)&&(y.end.column=a.column,y.end.row=a.row):(y.end.column+=M,y.end.row+=w):y.end.row>h&&(y.end.row+=w),y.start.row<h&&(u<y.start.row||u==y.start.row&&a.column<y.start.column)?(y.start.row=u,y.start.column=a.column):y.start.row==h?y.start.column<=f.column?(w||y.start.column>a.column)&&(y.start.column=a.column,y.start.row=a.row):(y.start.column+=M,y.start.row+=w):y.start.row>h&&(y.start.row+=w)}if(w!=0&&p<g)for(;p<g;p++){var y=c[p];y.start.row+=w,y.end.row+=w}},o})();m.prototype.comparePoints=l,n.RangeList=m}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(t,n,i){var s=this&&this.__extends||(function(){var u=function(h,c){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])},u(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");u(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}})(),l=t("../range_list").RangeList,m=(function(u){s(h,u);function h(c,p){var g=u.call(this)||this;return g.foldLine=null,g.placeholder=p,g.range=c,g.start=c.start,g.end=c.end,g.sameRow=c.start.row==c.end.row,g.subFolds=g.ranges=[],g}return h.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},h.prototype.setFoldLine=function(c){this.foldLine=c,this.subFolds.forEach(function(p){p.setFoldLine(c)})},h.prototype.clone=function(){var c=this.range.clone(),p=new h(c,this.placeholder);return this.subFolds.forEach(function(g){p.subFolds.push(g.clone())}),p.collapseChildren=this.collapseChildren,p},h.prototype.addSubFold=function(c){if(!this.range.isEqual(c)){d(c,this.start);for(var M=c.start.row,R=c.start.column,p=0,g=-1;p<this.subFolds.length&&(g=this.subFolds[p].range.compare(M,R),g==1);p++);var y=this.subFolds[p],w=0;if(g==0){if(y.range.containsRange(c))return y.addSubFold(c);w=1}for(var M=c.range.end.row,R=c.range.end.column,x=p,g=-1;x<this.subFolds.length&&(g=this.subFolds[x].range.compare(M,R),g==1);x++);g==0&&x++;for(var _=this.subFolds.splice(p,x-p,c),E=g==0?_.length-1:_.length,k=w;k<E;k++)c.addSubFold(_[k]);return c.setFoldLine(this.foldLine),c}},h.prototype.restoreRange=function(c){return f(c,this.start)},h})(l);function o(u,h){u.row-=h.row,u.row==0&&(u.column-=h.column)}function d(u,h){o(u.start,h),o(u.end,h)}function a(u,h){u.row==0&&(u.column+=h.column),u.row+=h.row}function f(u,h){a(u.start,h),a(u.end,h)}n.Fold=m}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(t,n,i){var s=t("../range").Range,l=t("./fold_line").FoldLine,m=t("./fold").Fold,o=t("../token_iterator").TokenIterator,d=t("../mouse/mouse_event").MouseEvent;function a(){this.getFoldAt=function(f,u,h){var c=this.getFoldLine(f);if(!c)return null;for(var p=c.folds,g=0;g<p.length;g++){var y=p[g].range;if(y.contains(f,u)){if(h==1&&y.isEnd(f,u)&&!y.isEmpty())continue;if(h==-1&&y.isStart(f,u)&&!y.isEmpty())continue;return p[g]}}},this.getFoldsInRange=function(f){var u=f.start,h=f.end,c=this.$foldData,p=[];u.column+=1,h.column-=1;for(var g=0;g<c.length;g++){var y=c[g].range.compareRange(f);if(y!=2){if(y==-2)break;for(var w=c[g].folds,M=0;M<w.length;M++){var R=w[M];if(y=R.range.compareRange(f),y==-2)break;if(y==2)continue;if(y==42)break;p.push(R)}}}return u.column-=1,h.column+=1,p},this.getFoldsInRangeList=function(f){if(Array.isArray(f)){var u=[];f.forEach(function(h){u=u.concat(this.getFoldsInRange(h))},this)}else var u=this.getFoldsInRange(f);return u},this.getAllFolds=function(){for(var f=[],u=this.$foldData,h=0;h<u.length;h++)for(var c=0;c<u[h].folds.length;c++)f.push(u[h].folds[c]);return f},this.getFoldStringAt=function(f,u,h,c){if(c=c||this.getFoldLine(f),!c)return null;for(var p={end:{column:0}},g,y,w=0;w<c.folds.length;w++){y=c.folds[w];var M=y.range.compareEnd(f,u);if(M==-1){g=this.getLine(y.start.row).substring(p.end.column,y.start.column);break}else if(M===0)return null;p=y}return g||(g=this.getLine(y.start.row).substring(p.end.column)),h==-1?g.substring(0,u-p.end.column):h==1?g.substring(u-p.end.column):g},this.getFoldLine=function(f,u){var h=this.$foldData,c=0;for(u&&(c=h.indexOf(u)),c==-1&&(c=0),c;c<h.length;c++){var p=h[c];if(p.start.row<=f&&p.end.row>=f)return p;if(p.end.row>f)return null}return null},this.getNextFoldLine=function(f,u){var h=this.$foldData,c=0;for(u&&(c=h.indexOf(u)),c==-1&&(c=0),c;c<h.length;c++){var p=h[c];if(p.end.row>=f)return p}return null},this.getFoldedRowCount=function(f,u){for(var h=this.$foldData,c=u-f+1,p=0;p<h.length;p++){var g=h[p],y=g.end.row,w=g.start.row;if(y>=u){w<u&&(w>=f?c-=u-w:c=0);break}else y>=f&&(w>=f?c-=y-w:c-=y-f+1)}return c},this.$addFoldLine=function(f){return this.$foldData.push(f),this.$foldData.sort(function(u,h){return u.start.row-h.start.row}),f},this.addFold=function(f,u){var h=this.$foldData,c=!1,p;f instanceof m?p=f:(p=new m(u,f),p.collapseChildren=u.collapseChildren),this.$clipRangeToDocument(p.range);var g=p.start.row,y=p.start.column,w=p.end.row,M=p.end.column,R=this.getFoldAt(g,y,1),x=this.getFoldAt(w,M,-1);if(R&&x==R)return R.addSubFold(p);R&&!R.range.isStart(g,y)&&this.removeFold(R),x&&!x.range.isEnd(w,M)&&this.removeFold(x);var _=this.getFoldsInRange(p.range);_.length>0&&(this.removeFolds(_),p.collapseChildren||_.forEach(function(I){p.addSubFold(I)}));for(var E=0;E<h.length;E++){var k=h[E];if(w==k.start.row){k.addFold(p),c=!0;break}else if(g==k.end.row){if(k.addFold(p),c=!0,!p.sameRow){var T=h[E+1];if(T&&T.start.row==w){k.merge(T);break}}break}else if(w<=k.start.row)break}return c||(k=this.$addFoldLine(new l(this.$foldData,p))),this.$useWrapMode?this.$updateWrapData(k.start.row,k.start.row):this.$updateRowLengthCache(k.start.row,k.start.row),this.$modified=!0,this._signal("changeFold",{data:p,action:"add"}),p},this.addFolds=function(f){f.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(f){var u=f.foldLine,h=u.start.row,c=u.end.row,p=this.$foldData,g=u.folds;if(g.length==1)p.splice(p.indexOf(u),1);else if(u.range.isEnd(f.end.row,f.end.column))g.pop(),u.end.row=g[g.length-1].end.row,u.end.column=g[g.length-1].end.column;else if(u.range.isStart(f.start.row,f.start.column))g.shift(),u.start.row=g[0].start.row,u.start.column=g[0].start.column;else if(f.sameRow)g.splice(g.indexOf(f),1);else{var y=u.split(f.start.row,f.start.column);g=y.folds,g.shift(),y.start.row=g[0].start.row,y.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(h,c):this.$updateRowLengthCache(h,c)),this.$modified=!0,this._signal("changeFold",{data:f,action:"remove"})},this.removeFolds=function(f){for(var u=[],h=0;h<f.length;h++)u.push(f[h]);u.forEach(function(c){this.removeFold(c)},this),this.$modified=!0},this.expandFold=function(f){this.removeFold(f),f.subFolds.forEach(function(u){f.restoreRange(u),this.addFold(u)},this),f.collapseChildren>0&&this.foldAll(f.start.row+1,f.end.row,f.collapseChildren-1),f.subFolds=[]},this.expandFolds=function(f){f.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(f,u){var h,c;if(f==null)h=new s(0,0,this.getLength(),0),u==null&&(u=!0);else if(typeof f=="number")h=new s(f,0,f,this.getLine(f).length);else if("row"in f)h=s.fromPoints(f,f);else{if(Array.isArray(f))return c=[],f.forEach(function(g){c=c.concat(this.unfold(g))},this),c;h=f}c=this.getFoldsInRangeList(h);for(var p=c;c.length==1&&s.comparePoints(c[0].start,h.start)<0&&s.comparePoints(c[0].end,h.end)>0;)this.expandFolds(c),c=this.getFoldsInRangeList(h);if(u!=!1?this.removeFolds(c):this.expandFolds(c),p.length)return p},this.isRowFolded=function(f,u){return!!this.getFoldLine(f,u)},this.getRowFoldEnd=function(f,u){var h=this.getFoldLine(f,u);return h?h.end.row:f},this.getRowFoldStart=function(f,u){var h=this.getFoldLine(f,u);return h?h.start.row:f},this.getFoldDisplayLine=function(f,u,h,c,p){c==null&&(c=f.start.row),p==null&&(p=0),u==null&&(u=f.end.row),h==null&&(h=this.getLine(u).length);var g=this.doc,y="";return f.walk(function(w,M,R,x){if(!(M<c)){if(M==c){if(R<p)return;x=Math.max(p,x)}w!=null?y+=w:y+=g.getLine(M).substring(x,R)}},u,h),y},this.getDisplayLine=function(f,u,h,c){var p=this.getFoldLine(f);if(p)return this.getFoldDisplayLine(p,f,u,h,c);var g;return g=this.doc.getLine(f),g.substring(c||0,u||g.length)},this.$cloneFoldData=function(){var f=[];return f=this.$foldData.map(function(u){var h=u.folds.map(function(c){return c.clone()});return new l(f,h)}),f},this.toggleFold=function(f){var u=this.selection,h=u.getRange(),c,p;if(h.isEmpty()){var g=h.start;if(c=this.getFoldAt(g.row,g.column),c){this.expandFold(c);return}else if(f){var y=this.getFoldLine(g.row);y&&this.expandFolds(y.folds);return}else(p=this.findMatchingBracket(g))?h.comparePoint(p)==1?h.end=p:(h.start=p,h.start.column++,h.end.column--):(p=this.findMatchingBracket({row:g.row,column:g.column+1}))?(h.comparePoint(p)==1?h.end=p:h.start=p,h.start.column++):h=this.getCommentFoldRange(g.row,g.column)||h}else{var w=this.getFoldsInRange(h);if(f&&w.length){this.expandFolds(w);return}else w.length==1&&(c=w[0])}if(c||(c=this.getFoldAt(h.start.row,h.start.column)),c&&c.range.toString()==h.toString()){this.expandFold(c);return}var M="...";if(!h.isMultiLine()){if(M=this.getTextRange(h),M.length<4)return;M=M.trim().substring(0,2)+".."}this.addFold(M,h)},this.getCommentFoldRange=function(f,u,h){var c=new o(this,f,u),p=c.getCurrentToken(),g=p&&p.type;if(p&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var y=new RegExp(g),w=new s;if(h!=1){do p=c.stepBackward();while(p&&y.test(p.type));p=c.stepForward()}w.start.row=c.getCurrentTokenRow(),w.start.column=c.getCurrentTokenColumn()+p.value.length,c=new o(this,f,u);var M=this.getState(c.$row);if(h!=-1){var R=-1;do if(p=c.stepForward(),R==-1){var x=this.getState(c.$row);M.toString()!==x.toString()&&(R=c.$row)}else if(c.$row>R)break;while(p&&y.test(p.type));p=c.stepBackward()}else p=c.getCurrentToken();return w.end.row=c.getCurrentTokenRow(),w.end.column=c.getCurrentTokenColumn(),w.start.row==w.end.row&&w.start.column>w.end.column?void 0:w}},this.foldAll=function(f,u,h,c){h==null&&(h=1e5);var p=this.foldWidgets;if(p){u=u||this.getLength(),f=f||0;for(var g=f;g<u;g++)if(p[g]==null&&(p[g]=this.getFoldWidget(g)),p[g]=="start"&&!(c&&!c(g))){var y=this.getFoldWidgetRange(g);y&&y.isMultiLine()&&y.end.row<=u&&y.start.row>=f&&(g=y.end.row,y.collapseChildren=h,this.addFold("...",y))}}},this.foldToLevel=function(f){for(this.foldAll();f-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var f=this;this.foldAll(null,null,null,function(u){for(var h=f.getTokens(u),c=0;c<h.length;c++){var p=h[c];if(!(p.type=="text"&&/^\s+$/.test(p.value)))return!!/comment/.test(p.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(f){if(!this.$foldStyles[f])throw new Error("invalid fold style: "+f+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=f){this.$foldStyle=f,f=="manual"&&this.unfold();var u=this.$foldMode;this.$setFolding(null),this.$setFolding(u)}},this.$setFolding=function(f){if(this.$foldMode!=f){if(this.$foldMode=f,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!f||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=f.getFoldWidget.bind(f,this,this.$foldStyle),this.getFoldWidgetRange=f.getFoldWidgetRange.bind(f,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(f,u){var h=this.foldWidgets;if(!h||u&&h[f])return{};for(var c=f-1,p;c>=0;){var g=h[c];if(g==null&&(g=h[c]=this.getFoldWidget(c)),g=="start"){var y=this.getFoldWidgetRange(c);if(p||(p=y),y&&y.end.row>=f)break}c--}return{range:c!==-1&&y,firstRange:p}},this.onFoldWidgetClick=function(f,u){u instanceof d&&(u=u.domEvent);var h={children:u.shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey},c=this.$toggleFoldWidget(f,h);if(!c){var p=u.target||u.srcElement;p&&/ace_fold-widget/.test(p.className)&&(p.className+=" ace_invalid")}},this.$toggleFoldWidget=function(f,u){if(this.getFoldWidget){var h=this.getFoldWidget(f),c=this.getLine(f),p=h==="end"?-1:1,g=this.getFoldAt(f,p===-1?0:c.length,p);if(g)return u.children||u.all?this.removeFold(g):this.expandFold(g),g;var y=this.getFoldWidgetRange(f,!0);if(y&&!y.isMultiLine()&&(g=this.getFoldAt(y.start.row,y.start.column,1),g&&y.isEqual(g.range)))return this.removeFold(g),g;if(u.siblings){var w=this.getParentFoldRangeData(f);if(w.range)var M=w.range.start.row+1,R=w.range.end.row;this.foldAll(M,R,u.all?1e4:0)}else u.children?(R=y?y.end.row:this.getLength(),this.foldAll(f+1,R,u.all?1e4:0)):y&&(u.all&&(y.collapseChildren=1e4),this.addFold("...",y));return y}},this.toggleFoldWidget=function(f){var u=this.selection.getCursor().row;u=this.getRowFoldStart(u);var h=this.$toggleFoldWidget(u,{});if(!h){var c=this.getParentFoldRangeData(u,!0);if(h=c.range||c.firstRange,h){u=h.start.row;var p=this.getFoldAt(u,this.getLine(u).length,1);p?this.removeFold(p):this.addFold("...",h)}}},this.updateFoldWidgets=function(f){var u=f.start.row,h=f.end.row-u;if(h===0)this.foldWidgets[u]=null;else if(f.action=="remove")this.foldWidgets.splice(u,h+1,null);else{var c=Array(h+1);c.unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,c)}},this.tokenizerUpdateFoldWidgets=function(f){var u=f.data;u.first!=u.last&&this.foldWidgets.length>u.first&&this.foldWidgets.splice(u.first,this.foldWidgets.length)}}n.Folding=a}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,n,i){var s=t("../token_iterator").TokenIterator,l=t("../range").Range;function m(){this.findMatchingBracket=function(o,d){if(o.column==0)return null;var a=d||this.getLine(o.row).charAt(o.column-1);if(a=="")return null;var f=a.match(/([\(\[\{])|([\)\]\}])/);return f?f[1]?this.$findClosingBracket(f[1],o):this.$findOpeningBracket(f[2],o):null},this.getBracketRange=function(o){var d=this.getLine(o.row),a=!0,f,u=d.charAt(o.column-1),h=u&&u.match(/([\(\[\{])|([\)\]\}])/);if(h||(u=d.charAt(o.column),o={row:o.row,column:o.column+1},h=u&&u.match(/([\(\[\{])|([\)\]\}])/),a=!1),!h)return null;if(h[1]){var c=this.$findClosingBracket(h[1],o);if(!c)return null;f=l.fromPoints(o,c),a||(f.end.column++,f.start.column--),f.cursor=f.end}else{var c=this.$findOpeningBracket(h[2],o);if(!c)return null;f=l.fromPoints(c,o),a||(f.start.column++,f.end.column--),f.cursor=f.start}return f},this.getMatchingBracketRanges=function(o,d){var a=this.getLine(o.row),f=/([\(\[\{])|([\)\]\}])/,u=!d&&a.charAt(o.column-1),h=u&&u.match(f);if(h||(u=(d===void 0||d)&&a.charAt(o.column),o={row:o.row,column:o.column+1},h=u&&u.match(f)),!h)return null;var c=new l(o.row,o.column-1,o.row,o.column),p=h[1]?this.$findClosingBracket(h[1],o):this.$findOpeningBracket(h[2],o);if(!p)return[c];var g=new l(p.row,p.column,p.row,p.column+1);return[c,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(o,d,a){var f=this.$brackets[o],u=1,h=new s(this,d.row,d.column),c=h.getCurrentToken();if(c||(c=h.stepForward()),!!c){a||(a=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var p=d.column-h.getCurrentTokenColumn()-2,g=c.value;;){for(;p>=0;){var y=g.charAt(p);if(y==f){if(u-=1,u==0)return{row:h.getCurrentTokenRow(),column:p+h.getCurrentTokenColumn()}}else y==o&&(u+=1);p-=1}do c=h.stepBackward();while(c&&!a.test(c.type));if(c==null)break;g=c.value,p=g.length-1}return null}},this.$findClosingBracket=function(o,d,a){var f=this.$brackets[o],u=1,h=new s(this,d.row,d.column),c=h.getCurrentToken();if(c||(c=h.stepForward()),!!c){a||(a=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var p=d.column-h.getCurrentTokenColumn();;){for(var g=c.value,y=g.length;p<y;){var w=g.charAt(p);if(w==f){if(u-=1,u==0)return{row:h.getCurrentTokenRow(),column:p+h.getCurrentTokenColumn()}}else w==o&&(u+=1);p+=1}do c=h.stepForward();while(c&&!a.test(c.type));if(c==null)break;p=0}return null}},this.getMatchingTags=function(o){var d=new s(this,o.row,o.column),a=this.$findTagName(d);if(a){var f=d.stepBackward();return f.value==="<"?this.$findClosingTag(d,a):this.$findOpeningTag(d,a)}},this.$findTagName=function(o){var d=o.getCurrentToken(),a=!1,f=!1;if(d&&d.type.indexOf("tag-name")===-1)do f?d=o.stepBackward():d=o.stepForward(),d&&(d.value==="/>"?f=!0:d.type.indexOf("tag-name")!==-1&&(a=!0));while(d&&!a);return d},this.$findClosingTag=function(o,d){var a,f=d.value,u=d.value,h=0,c=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);d=o.stepForward();var p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+d.value.length),g=!1;do{if(a=d,a.type.indexOf("tag-close")!==-1&&!g){var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);g=!0}if(d=o.stepForward(),d){if(d.value===">"&&!g){var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);g=!0}if(d.type.indexOf("tag-name")!==-1){if(f=d.value,u===f){if(a.value==="<")h++;else if(a.value==="</"&&(h--,h<0)){o.stepBackward();var w=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2);d=o.stepForward();var M=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=o.stepForward()),d&&d.value===">")var R=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);else return}}}else if(u===f&&d.value==="/>"&&(h--,h<0))var w=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2),M=w,R=M,y=new l(p.end.row,p.end.column,p.end.row,p.end.column+1)}}while(d&&h>=0);if(c&&y&&w&&R&&p&&M)return{openTag:new l(c.start.row,c.start.column,y.end.row,y.end.column),closeTag:new l(w.start.row,w.start.column,R.end.row,R.end.column),openTagName:p,closeTagName:M}},this.$findOpeningTag=function(o,d){var a=o.getCurrentToken(),f=d.value,u=0,h=o.getCurrentTokenRow(),c=o.getCurrentTokenColumn(),p=c+2,g=new l(h,c,h,p);o.stepForward();var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=o.stepForward()),!(!d||d.value!==">")){var w=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);o.stepBackward(),o.stepBackward();do if(d=a,h=o.getCurrentTokenRow(),c=o.getCurrentTokenColumn(),p=c+d.value.length,a=o.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(f===d.value)if(a.value==="<"){if(u++,u>0){var M=new l(h,c,h,p),R=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);do d=o.stepForward();while(d&&d.value!==">");var x=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1)}}else a.value==="</"&&u--}else if(d.value==="/>"){for(var _=0,E=a;E;){if(E.type.indexOf("tag-name")!==-1&&E.value===f){u--;break}else if(E.value==="<")break;E=o.stepBackward(),_++}for(var k=0;k<_;k++)o.stepForward()}}while(a&&u<=0);if(R&&x&&g&&w&&M&&y)return{openTag:new l(R.start.row,R.start.column,x.end.row,x.end.column),closeTag:new l(g.start.row,g.start.column,w.end.row,w.end.column),openTagName:M,closeTagName:y}}}}n.BracketMatch=m}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,n,i){var s=t("./lib/oop"),l=t("./lib/lang"),m=t("./bidihandler").BidiHandler,o=t("./config"),d=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,f=t("./mode/text").Mode,u=t("./range").Range,h=t("./line_widgets").LineWidgets,c=t("./document").Document,p=t("./background_tokenizer").BackgroundTokenizer,g=t("./search_highlight").SearchHighlight,y=t("./undomanager").UndoManager,w=(function(){function C(b,A){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++C.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new p(new f().getTokenizer(),this);var S=this;this.bgTokenizer.on("update",function(L){S._signal("tokenizerUpdate",L)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof b!="object"||!b.getLine)&&(b=new c(b)),this.setDocument(b),this.selection=new a(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new m(this),o.resetOptions(this),this.setMode(A),o._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return C.prototype.$initOperationListeners=function(){var b=this;this.curOp=null,this.on("change",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.docChanged=!0},!0),this.on("changeSelection",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.selectionChanged=!0},!0),this.$operationResetTimer=l.delayedCall(this.endOperation.bind(this,!0))},C.prototype.startOperation=function(b){if(this.curOp){if(!b||this.curOp.command)return;this.prevOp=this.curOp}b||(b={}),this.$operationResetTimer.schedule(),this.curOp={command:b.command||{},args:b.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",b)},C.prototype.endOperation=function(b){if(this.curOp){if(b&&b.returnValue===!1){this.curOp=null,this._signal("endOperation",b);return}if(b==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var A=this.selection.toJSON();this.curOp.selectionAfter=A,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(A),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",b)}},C.prototype.setDocument=function(b){this.doc&&this.doc.off("change",this.$onChange),this.doc=b,b.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},C.prototype.getDocument=function(){return this.doc},Object.defineProperty(C.prototype,"widgetManager",{get:function(){var b=new h(this);return this.widgetManager=b,this.$editor&&b.attach(this.$editor),b},set:function(b){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:b})},enumerable:!1,configurable:!0}),C.prototype.$resetRowCache=function(b){if(!b){this.$docRowCache=[],this.$screenRowCache=[];return}var A=this.$docRowCache.length,S=this.$getRowCacheIndex(this.$docRowCache,b)+1;A>S&&(this.$docRowCache.splice(S,A),this.$screenRowCache.splice(S,A))},C.prototype.$getRowCacheIndex=function(b,A){for(var S=0,L=b.length-1;S<=L;){var P=S+L>>1,V=b[P];if(A>V)S=P+1;else if(A<V)L=P-1;else return P}return S-1},C.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},C.prototype.onChangeFold=function(b){var A=b.data;this.$resetRowCache(A.start.row)},C.prototype.onChange=function(b){this.$modified=!0,this.$bidiHandler.onChange(b),this.$resetRowCache(b.start.row);var A=this.$updateInternalDataOnChange(b);!this.$fromUndo&&this.$undoManager&&(A&&A.length&&(this.$undoManager.add({action:"removeFolds",folds:A},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(b,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(b),this._signal("change",b)},C.prototype.onSelectionChange=function(){this._signal("changeSelection")},C.prototype.setValue=function(b){this.doc.setValue(b),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},C.fromJSON=function(b){typeof b=="string"&&(b=JSON.parse(b));var A=new y;A.$undoStack=b.history.undo,A.$redoStack=b.history.redo,A.mark=b.history.mark,A.$rev=b.history.rev;var S=new C(b.value);return b.folds.forEach(function(L){S.addFold("...",u.fromPoints(L.start,L.end))}),S.setAnnotations(b.annotations),S.setBreakpoints(b.breakpoints),S.setMode(b.mode),S.setScrollLeft(b.scrollLeft),S.setScrollTop(b.scrollTop),S.setUndoManager(A),S.selection.fromJSON(b.selection),S},C.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(b){return b.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},C.prototype.toString=function(){return this.doc.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.getState=function(b){return this.bgTokenizer.getState(b)},C.prototype.getTokens=function(b){return this.bgTokenizer.getTokens(b)},C.prototype.getTokenAt=function(b,A){var S=this.bgTokenizer.getTokens(b),L,P=0;if(A==null){var V=S.length-1;P=this.getLine(b).length}else for(var V=0;V<S.length&&(P+=S[V].value.length,!(P>=A));V++);return L=S[V],L?(L.index=V,L.start=P-L.value.length,L):null},C.prototype.setUndoManager=function(b){if(this.$undoManager=b,this.$informUndoManager&&this.$informUndoManager.cancel(),b){var A=this;b.addSession(this),this.$syncInformUndoManager=function(){A.$informUndoManager.cancel(),A.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},C.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},C.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},C.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},C.prototype.setUseSoftTabs=function(b){this.setOption("useSoftTabs",b)},C.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},C.prototype.setTabSize=function(b){this.setOption("tabSize",b)},C.prototype.getTabSize=function(){return this.$tabSize},C.prototype.isTabStop=function(b){return this.$useSoftTabs&&b.column%this.$tabSize===0},C.prototype.setNavigateWithinSoftTabs=function(b){this.setOption("navigateWithinSoftTabs",b)},C.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},C.prototype.setOverwrite=function(b){this.setOption("overwrite",b)},C.prototype.getOverwrite=function(){return this.$overwrite},C.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},C.prototype.addGutterDecoration=function(b,A){this.$decorations[b]||(this.$decorations[b]=""),this.$decorations[b]+=" "+A,this._signal("changeBreakpoint",{})},C.prototype.removeGutterCustomWidget=function(b){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(b)},C.prototype.addGutterCustomWidget=function(b,A){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(b,A)},C.prototype.removeGutterDecoration=function(b,A){this.$decorations[b]=(this.$decorations[b]||"").replace(" "+A,""),this._signal("changeBreakpoint",{})},C.prototype.getBreakpoints=function(){return this.$breakpoints},C.prototype.setBreakpoints=function(b){this.$breakpoints=[];for(var A=0;A<b.length;A++)this.$breakpoints[b[A]]="ace_breakpoint";this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},C.prototype.setBreakpoint=function(b,A){A===void 0&&(A="ace_breakpoint"),A?this.$breakpoints[b]=A:delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},C.prototype.clearBreakpoint=function(b){delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},C.prototype.addMarker=function(b,A,S,L){var P=this.$markerId++,V={range:b,type:S||"line",renderer:typeof S=="function"?S:null,clazz:A,inFront:!!L,id:P};return L?(this.$frontMarkers[P]=V,this._signal("changeFrontMarker")):(this.$backMarkers[P]=V,this._signal("changeBackMarker")),P},C.prototype.addDynamicMarker=function(b,A){if(b.update){var S=this.$markerId++;return b.id=S,b.inFront=!!A,A?(this.$frontMarkers[S]=b,this._signal("changeFrontMarker")):(this.$backMarkers[S]=b,this._signal("changeBackMarker")),b}},C.prototype.removeMarker=function(b){var A=this.$frontMarkers[b]||this.$backMarkers[b];if(A){var S=A.inFront?this.$frontMarkers:this.$backMarkers;delete S[b],this._signal(A.inFront?"changeFrontMarker":"changeBackMarker")}},C.prototype.getMarkers=function(b){return b?this.$frontMarkers:this.$backMarkers},C.prototype.highlight=function(b){if(!this.$searchHighlight){var A=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(A)}this.$searchHighlight.setRegexp(b)},C.prototype.highlightLines=function(b,A,S,L){typeof A!="number"&&(S=A,A=b),S||(S="ace_step");var P=new u(b,0,A,1/0);return P.id=this.addMarker(P,S,"fullLine",L),P},C.prototype.setAnnotations=function(b){this.$annotations=b,this._signal("changeAnnotation",{})},C.prototype.getAnnotations=function(){return this.$annotations||[]},C.prototype.clearAnnotations=function(){this.setAnnotations([])},C.prototype.$detectNewLine=function(b){var A=b.match(/^.*?(\r?\n)/m);A?this.$autoNewLine=A[1]:this.$autoNewLine=`
`},C.prototype.getWordRange=function(b,A){var S=this.getLine(b),L=!1;if(A>0&&(L=!!S.charAt(A-1).match(this.tokenRe)),L||(L=!!S.charAt(A).match(this.tokenRe)),L)var P=this.tokenRe;else if(/^\s+$/.test(S.slice(A-1,A+1)))var P=/\s/;else var P=this.nonTokenRe;var V=A;if(V>0){do V--;while(V>=0&&S.charAt(V).match(P));V++}for(var B=A;B<S.length&&S.charAt(B).match(P);)B++;return new u(b,V,b,B)},C.prototype.getAWordRange=function(b,A){for(var S=this.getWordRange(b,A),L=this.getLine(S.end.row);L.charAt(S.end.column).match(/[ \t]/);)S.end.column+=1;return S},C.prototype.setNewLineMode=function(b){this.doc.setNewLineMode(b)},C.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},C.prototype.setUseWorker=function(b){this.setOption("useWorker",b)},C.prototype.getUseWorker=function(){return this.$useWorker},C.prototype.onReloadTokenizer=function(b){var A=b.data;this.bgTokenizer.start(A.first),this._signal("tokenizerUpdate",b)},C.prototype.setMode=function(b,A){if(b&&typeof b=="object"){if(b.getTokenizer)return this.$onChangeMode(b);var S=b,L=S.path}else L=b||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new f),this.$modes[L]&&!S){this.$onChangeMode(this.$modes[L]),A&&A();return}this.$modeId=L,o.loadModule(["mode",L],function(P){if(!this.destroyed){if(this.$modeId!==L)return A&&A();this.$modes[L]&&!S?this.$onChangeMode(this.$modes[L]):P&&P.Mode&&(P=new P.Mode(S),S||(this.$modes[L]=P,P.$id=L),this.$onChangeMode(P)),A&&A()}}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},C.prototype.$onChangeMode=function(b,A){if(A||(this.$modeId=b.$id),this.$mode!==b){var S=this.$mode;this.$mode=b,this.$stopWorker(),this.$useWorker&&this.$startWorker();var L=b.getTokenizer();if(L.on!==void 0){var P=this.onReloadTokenizer.bind(this);L.on("update",P)}this.bgTokenizer.setTokenizer(L),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=b.tokenRe,this.nonTokenRe=b.nonTokenRe,A||(b.attachToSession&&b.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(b.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:S,mode:b}))}},C.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},C.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(b){o.warn("Could not load worker",b),this.$worker=null}},C.prototype.getMode=function(){return this.$mode},C.prototype.setScrollTop=function(b){this.$scrollTop===b||isNaN(b)||(this.$scrollTop=b,this._signal("changeScrollTop",b))},C.prototype.getScrollTop=function(){return this.$scrollTop},C.prototype.setScrollLeft=function(b){this.$scrollLeft===b||isNaN(b)||(this.$scrollLeft=b,this._signal("changeScrollLeft",b))},C.prototype.getScrollLeft=function(){return this.$scrollLeft},C.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},C.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var b=0;return this.lineWidgets.forEach(function(A){A&&A.screenWidth>b&&(b=A.screenWidth)}),this.lineWidgetWidth=b},C.prototype.$computeWidth=function(b){if(this.$modified||b){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var A=this.doc.getAllLines(),S=this.$rowLengthCache,L=0,P=0,V=this.$foldData[P],B=V?V.start.row:1/0,W=A.length,G=0;G<W;G++){if(G>B){if(G=V.end.row+1,G>=W)break;V=this.$foldData[P++],B=V?V.start.row:1/0}S[G]==null&&(S[G]=this.$getStringScreenWidth(A[G])[0]),S[G]>L&&(L=S[G])}this.screenWidth=L}},C.prototype.getLine=function(b){return this.doc.getLine(b)},C.prototype.getLines=function(b,A){return this.doc.getLines(b,A)},C.prototype.getLength=function(){return this.doc.getLength()},C.prototype.getTextRange=function(b){return this.doc.getTextRange(b||this.selection.getRange())},C.prototype.insert=function(b,A){return this.doc.insert(b,A)},C.prototype.remove=function(b){return this.doc.remove(b)},C.prototype.removeFullLines=function(b,A){return this.doc.removeFullLines(b,A)},C.prototype.undoChanges=function(b,A){if(b.length){this.$fromUndo=!0;for(var S=b.length-1;S!=-1;S--){var L=b[S];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!A&&this.$undoSelect&&(b.selectionBefore?this.selection.fromJSON(b.selectionBefore):this.selection.setRange(this.$getUndoSelection(b,!0))),this.$fromUndo=!1}},C.prototype.redoChanges=function(b,A){if(b.length){this.$fromUndo=!0;for(var S=0;S<b.length;S++){var L=b[S];(L.action=="insert"||L.action=="remove")&&this.doc.$safeApplyDelta(L)}!A&&this.$undoSelect&&(b.selectionAfter?this.selection.fromJSON(b.selectionAfter):this.selection.setRange(this.$getUndoSelection(b,!1))),this.$fromUndo=!1}},C.prototype.setUndoSelect=function(b){this.$undoSelect=b},C.prototype.$getUndoSelection=function(b,A){function S(W){return A?W.action!=="insert":W.action==="insert"}for(var L,P,V=0;V<b.length;V++){var B=b[V];if(B.start){if(!L){S(B)?L=u.fromPoints(B.start,B.end):L=u.fromPoints(B.start,B.start);continue}S(B)?(P=B.start,L.compare(P.row,P.column)==-1&&L.setStart(P),P=B.end,L.compare(P.row,P.column)==1&&L.setEnd(P)):(P=B.start,L.compare(P.row,P.column)==-1&&(L=u.fromPoints(B.start,B.start)))}}return L},C.prototype.replace=function(b,A){return this.doc.replace(b,A)},C.prototype.moveText=function(b,A,S){var L=this.getTextRange(b),P=this.getFoldsInRange(b),V=u.fromPoints(A,A);if(!S){this.remove(b);var B=b.start.row-b.end.row,W=B?-b.end.column:b.start.column-b.end.column;W&&(V.start.row==b.end.row&&V.start.column>b.end.column&&(V.start.column+=W),V.end.row==b.end.row&&V.end.column>b.end.column&&(V.end.column+=W)),B&&V.start.row>=b.end.row&&(V.start.row+=B,V.end.row+=B)}if(V.end=this.insert(V.start,L),P.length){var G=b.start,J=V.start,B=J.row-G.row,W=J.column-G.column;this.addFolds(P.map(function(X){return X=X.clone(),X.start.row==G.row&&(X.start.column+=W),X.end.row==G.row&&(X.end.column+=W),X.start.row+=B,X.end.row+=B,X}))}return V},C.prototype.indentRows=function(b,A,S){S=S.replace(/\t/g,this.getTabString());for(var L=b;L<=A;L++)this.doc.insertInLine({row:L,column:0},S)},C.prototype.outdentRows=function(b){for(var A=b.collapseRows(),S=new u(0,0,0,0),L=this.getTabSize(),P=A.start.row;P<=A.end.row;++P){var V=this.getLine(P);S.start.row=P,S.end.row=P;for(var B=0;B<L&&V.charAt(B)==" ";++B);B<L&&V.charAt(B)=="	"?(S.start.column=B,S.end.column=B+1):(S.start.column=0,S.end.column=B),this.remove(S)}},C.prototype.$moveLines=function(b,A,S){if(b=this.getRowFoldStart(b),A=this.getRowFoldEnd(A),S<0){var L=this.getRowFoldStart(b+S);if(L<0)return 0;var P=L-b}else if(S>0){var L=this.getRowFoldEnd(A+S);if(L>this.doc.getLength()-1)return 0;var P=L-A}else{b=this.$clipRowToDocument(b),A=this.$clipRowToDocument(A);var P=A-b+1}var V=new u(b,0,A,Number.MAX_VALUE),B=this.getFoldsInRange(V).map(function(G){return G=G.clone(),G.start.row+=P,G.end.row+=P,G}),W=S==0?this.doc.getLines(b,A):this.doc.removeFullLines(b,A);return this.doc.insertFullLines(b+P,W),B.length&&this.addFolds(B),P},C.prototype.moveLinesUp=function(b,A){return this.$moveLines(b,A,-1)},C.prototype.moveLinesDown=function(b,A){return this.$moveLines(b,A,1)},C.prototype.duplicateLines=function(b,A){return this.$moveLines(b,A,0)},C.prototype.$clipRowToDocument=function(b){return Math.max(0,Math.min(b,this.doc.getLength()-1))},C.prototype.$clipColumnToRow=function(b,A){return A<0?0:Math.min(this.doc.getLine(b).length,A)},C.prototype.$clipPositionToDocument=function(b,A){if(A=Math.max(0,A),b<0)b=0,A=0;else{var S=this.doc.getLength();b>=S?(b=S-1,A=this.doc.getLine(S-1).length):A=Math.min(this.doc.getLine(b).length,A)}return{row:b,column:A}},C.prototype.$clipRangeToDocument=function(b){b.start.row<0?(b.start.row=0,b.start.column=0):b.start.column=this.$clipColumnToRow(b.start.row,b.start.column);var A=this.doc.getLength()-1;return b.end.row>A?(b.end.row=A,b.end.column=this.doc.getLine(A).length):b.end.column=this.$clipColumnToRow(b.end.row,b.end.column),b},C.prototype.setUseWrapMode=function(b){if(b!=this.$useWrapMode){if(this.$useWrapMode=b,this.$modified=!0,this.$resetRowCache(0),b){var A=this.getLength();this.$wrapData=Array(A),this.$updateWrapData(0,A-1)}this._signal("changeWrapMode")}},C.prototype.getUseWrapMode=function(){return this.$useWrapMode},C.prototype.setWrapLimitRange=function(b,A){(this.$wrapLimitRange.min!==b||this.$wrapLimitRange.max!==A)&&(this.$wrapLimitRange={min:b,max:A},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},C.prototype.adjustWrapLimit=function(b,A){var S=this.$wrapLimitRange;S.max<0&&(S={min:A,max:A});var L=this.$constrainWrapLimit(b,S.min,S.max);return L!=this.$wrapLimit&&L>1?(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},C.prototype.$constrainWrapLimit=function(b,A,S){return A&&(b=Math.max(A,b)),S&&(b=Math.min(S,b)),b},C.prototype.getWrapLimit=function(){return this.$wrapLimit},C.prototype.setWrapLimit=function(b){this.setWrapLimitRange(b,b)},C.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},C.prototype.$updateInternalDataOnChange=function(b){var A=this.$useWrapMode,S=b.action,L=b.start,P=b.end,V=L.row,B=P.row,W=B-V,G=null;if(this.$updating=!0,W!=0)if(S==="remove"){this[A?"$wrapData":"$rowLengthCache"].splice(V,W);var J=this.$foldData;G=this.getFoldsInRange(b),this.removeFolds(G);var K=this.getFoldLine(P.row),Q=0;if(K){K.addRemoveChars(P.row,P.column,L.column-P.column),K.shiftRow(-W);var X=this.getFoldLine(V);X&&X!==K&&(X.merge(K),K=X),Q=J.indexOf(K)+1}for(Q;Q<J.length;Q++){var K=J[Q];K.start.row>=P.row&&K.shiftRow(-W)}B=V}else{var Z=Array(W);Z.unshift(V,0);var re=A?this.$wrapData:this.$rowLengthCache;re.splice.apply(re,Z);var J=this.$foldData,K=this.getFoldLine(V),Q=0;if(K){var se=K.range.compareInside(L.row,L.column);se==0?(K=K.split(L.row,L.column),K&&(K.shiftRow(W),K.addRemoveChars(B,0,P.column-L.column))):se==-1&&(K.addRemoveChars(V,0,P.column-L.column),K.shiftRow(W)),Q=J.indexOf(K)+1}for(Q;Q<J.length;Q++){var K=J[Q];K.start.row>=V&&K.shiftRow(W)}}else{W=Math.abs(b.start.column-b.end.column),S==="remove"&&(G=this.getFoldsInRange(b),this.removeFolds(G),W=-W);var K=this.getFoldLine(V);K&&K.addRemoveChars(V,L.column,W)}return A&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,A?this.$updateWrapData(V,B):this.$updateRowLengthCache(V,B),G},C.prototype.$updateRowLengthCache=function(b,A){this.$rowLengthCache[b]=null,this.$rowLengthCache[A]=null},C.prototype.$updateWrapData=function(b,A){var S=this.doc.getAllLines(),L=this.getTabSize(),P=this.$wrapData,V=this.$wrapLimit,B,W,G=b;for(A=Math.min(A,S.length-1);G<=A;)W=this.getFoldLine(G,W),W?(B=[],W.walk(function(J,K,Q,X){var Z;if(J!=null){Z=this.$getDisplayTokens(J,B.length),Z[0]=x;for(var re=1;re<Z.length;re++)Z[re]=_}else Z=this.$getDisplayTokens(S[K].substring(X,Q),B.length);B=B.concat(Z)}.bind(this),W.end.row,S[W.end.row].length+1),P[W.start.row]=this.$computeWrapSplits(B,V,L),G=W.end.row+1):(B=this.$getDisplayTokens(S[G]),P[G]=this.$computeWrapSplits(B,V,L),G++)},C.prototype.$computeWrapSplits=function(b,A,S){if(b.length==0)return[];var L=[],P=b.length,V=0,B=0,W=this.$wrapAsCode,G=this.$indentedSoftWrap,J=A<=Math.max(2*S,8)||G===!1?0:Math.floor(A/2);function K(){var se=0;if(J===0)return se;if(G)for(var he=0;he<b.length;he++){var ce=b[he];if(ce==k)se+=1;else if(ce==T)se+=S;else{if(ce==I)continue;break}}return W&&G!==!1&&(se+=S),Math.min(se,J)}function Q(se){for(var he=se-V,ce=V;ce<se;ce++){var _e=b[ce];(_e===12||_e===2)&&(he-=1)}L.length||(X=K(),L.indent=X),B+=he,L.push(B),V=se}for(var X=0;P-V>A-X;){var Z=V+A-X;if(b[Z-1]>=k&&b[Z]>=k){Q(Z);continue}if(b[Z]==x||b[Z]==_){for(Z;Z!=V-1&&b[Z]!=x;Z--);if(Z>V){Q(Z);continue}for(Z=V+A,Z;Z<b.length&&b[Z]==_;Z++);if(Z==b.length)break;Q(Z);continue}for(var re=Math.max(Z-(A-(A>>2)),V-1);Z>re&&b[Z]<x;)Z--;if(W){for(;Z>re&&b[Z]<x;)Z--;for(;Z>re&&b[Z]==E;)Z--}else for(;Z>re&&b[Z]<k;)Z--;if(Z>re){Q(++Z);continue}Z=V+A,b[Z]==R&&Z--,Q(Z-X)}return L},C.prototype.$getDisplayTokens=function(b,A){var S=[],L;A=A||0;for(var P=0;P<b.length;P++){var V=b.charCodeAt(P);if(V==9){L=this.getScreenTabSize(S.length+A),S.push(T);for(var B=1;B<L;B++)S.push(I)}else V==32?S.push(k):V>39&&V<48||V>57&&V<64?S.push(E):V>=4352&&O(V)?S.push(M,R):S.push(M)}return S},C.prototype.$getStringScreenWidth=function(b,A,S){if(A==0)return[0,0];A==null&&(A=1/0),S=S||0;var L,P;for(P=0;P<b.length&&(L=b.charCodeAt(P),L==9?S+=this.getScreenTabSize(S):L>=4352&&O(L)?S+=2:S+=1,!(S>A));P++);return[S,P]},C.prototype.getRowLength=function(b){var A=1;return this.lineWidgets&&(A+=this.lineWidgets[b]&&this.lineWidgets[b].rowCount||0),!this.$useWrapMode||!this.$wrapData[b]?A:this.$wrapData[b].length+A},C.prototype.getRowLineCount=function(b){return!this.$useWrapMode||!this.$wrapData[b]?1:this.$wrapData[b].length+1},C.prototype.getRowWrapIndent=function(b){if(this.$useWrapMode){var A=this.screenToDocumentPosition(b,Number.MAX_VALUE),S=this.$wrapData[A.row];return S.length&&S[0]<A.column?S.indent:0}else return 0},C.prototype.getScreenLastRowColumn=function(b){var A=this.screenToDocumentPosition(b,Number.MAX_VALUE);return this.documentToScreenColumn(A.row,A.column)},C.prototype.getDocumentLastRowColumn=function(b,A){var S=this.documentToScreenRow(b,A);return this.getScreenLastRowColumn(S)},C.prototype.getDocumentLastRowColumnPosition=function(b,A){var S=this.documentToScreenRow(b,A);return this.screenToDocumentPosition(S,Number.MAX_VALUE/10)},C.prototype.getRowSplitData=function(b){if(this.$useWrapMode)return this.$wrapData[b]},C.prototype.getScreenTabSize=function(b){return this.$tabSize-(b%this.$tabSize|0)},C.prototype.screenToDocumentRow=function(b,A){return this.screenToDocumentPosition(b,A).row},C.prototype.screenToDocumentColumn=function(b,A){return this.screenToDocumentPosition(b,A).column},C.prototype.screenToDocumentPosition=function(b,A,S){if(b<0)return{row:0,column:0};var L,P=0,V=0,B,W=0,G=0,J=this.$screenRowCache,K=this.$getRowCacheIndex(J,b),Q=J.length;if(Q&&K>=0)var W=J[K],P=this.$docRowCache[K],X=b>J[Q-1];else var X=!Q;for(var Z=this.getLength()-1,re=this.getNextFoldLine(P),se=re?re.start.row:1/0;W<=b&&(G=this.getRowLength(P),!(W+G>b||P>=Z));)W+=G,P++,P>se&&(P=re.end.row+1,re=this.getNextFoldLine(P,re),se=re?re.start.row:1/0),X&&(this.$docRowCache.push(P),this.$screenRowCache.push(W));if(re&&re.start.row<=P)L=this.getFoldDisplayLine(re),P=re.start.row;else{if(W+G<=b||P>Z)return{row:Z,column:this.getLine(Z).length};L=this.getLine(P),re=null}var he=0,ce=Math.floor(b-W);if(this.$useWrapMode){var _e=this.$wrapData[P];_e&&(B=_e[ce],ce>0&&_e.length&&(he=_e.indent,V=_e[ce-1]||_e[_e.length-1],L=L.substring(V)))}return S!==void 0&&this.$bidiHandler.isBidiRow(W+ce,P,ce)&&(A=this.$bidiHandler.offsetToCol(S)),V+=this.$getStringScreenWidth(L,A-he)[1],this.$useWrapMode&&V>=B&&(V=B-1),re?re.idxToPosition(V):{row:P,column:V}},C.prototype.documentToScreenPosition=function(b,A){if(typeof A>"u")var S=this.$clipPositionToDocument(b.row,b.column);else S=this.$clipPositionToDocument(b,A);b=S.row,A=S.column;var L=0,P=null,V=null;V=this.getFoldAt(b,A,1),V&&(b=V.start.row,A=V.start.column);var B,W=0,G=this.$docRowCache,J=this.$getRowCacheIndex(G,b),K=G.length;if(K&&J>=0)var W=G[J],L=this.$screenRowCache[J],Q=b>G[K-1];else var Q=!K;for(var X=this.getNextFoldLine(W),Z=X?X.start.row:1/0;W<b;){if(W>=Z){if(B=X.end.row+1,B>b)break;X=this.getNextFoldLine(B,X),Z=X?X.start.row:1/0}else B=W+1;L+=this.getRowLength(W),W=B,Q&&(this.$docRowCache.push(W),this.$screenRowCache.push(L))}var re="";X&&W>=Z?(re=this.getFoldDisplayLine(X,b,A),P=X.start.row):(re=this.getLine(b).substring(0,A),P=b);var se=0;if(this.$useWrapMode){var he=this.$wrapData[P];if(he){for(var ce=0;re.length>=he[ce];)L++,ce++;re=re.substring(he[ce-1]||0,re.length),se=ce>0?he.indent:0}}return this.lineWidgets&&this.lineWidgets[W]&&this.lineWidgets[W].rowsAbove&&(L+=this.lineWidgets[W].rowsAbove),{row:L,column:se+this.$getStringScreenWidth(re)[0]}},C.prototype.documentToScreenColumn=function(b,A){return this.documentToScreenPosition(b,A).column},C.prototype.documentToScreenRow=function(b,A){return this.documentToScreenPosition(b,A).row},C.prototype.getScreenLength=function(){var b=0,A=null;if(this.$useWrapMode)for(var P=this.$wrapData.length,V=0,L=0,A=this.$foldData[L++],B=A?A.start.row:1/0;V<P;){var W=this.$wrapData[V];b+=W?W.length+1:1,V++,V>B&&(V=A.end.row+1,A=this.$foldData[L++],B=A?A.start.row:1/0)}else{b=this.getLength();for(var S=this.$foldData,L=0;L<S.length;L++)A=S[L],b-=A.end.row-A.start.row}return this.lineWidgets&&(b+=this.$getWidgetScreenLength()),b},C.prototype.$setFontMetrics=function(b){this.$enableVarChar&&(this.$getStringScreenWidth=function(A,S,L){if(S===0)return[0,0];S||(S=1/0),L=L||0;var P,V;for(V=0;V<A.length&&(P=A.charAt(V),P==="	"?L+=this.getScreenTabSize(L):L+=b.getCharacterWidth(P),!(L>S));V++);return[L,V]})},C.prototype.getPrecedingCharacter=function(){var b=this.selection.getCursor();if(b.column===0)return b.row===0?"":this.doc.getNewLineCharacter();var A=this.getLine(b.row);return A[b.column-1]},C.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},C})();w.$uid=0,w.prototype.$modes=o.$modes,w.prototype.getValue=w.prototype.toString,w.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},w.prototype.$overwrite=!1,w.prototype.$mode=null,w.prototype.$modeId=null,w.prototype.$scrollTop=0,w.prototype.$scrollLeft=0,w.prototype.$wrapLimit=80,w.prototype.$useWrapMode=!1,w.prototype.$wrapLimitRange={min:null,max:null},w.prototype.lineWidgets=null,w.prototype.isFullWidth=O,s.implement(w.prototype,d);var M=1,R=2,x=3,_=4,E=9,k=10,T=11,I=12;function O(C){return C<4352?!1:C>=4352&&C<=4447||C>=4515&&C<=4519||C>=4602&&C<=4607||C>=9001&&C<=9002||C>=11904&&C<=11929||C>=11931&&C<=12019||C>=12032&&C<=12245||C>=12272&&C<=12283||C>=12288&&C<=12350||C>=12353&&C<=12438||C>=12441&&C<=12543||C>=12549&&C<=12589||C>=12593&&C<=12686||C>=12688&&C<=12730||C>=12736&&C<=12771||C>=12784&&C<=12830||C>=12832&&C<=12871||C>=12880&&C<=13054||C>=13056&&C<=19903||C>=19968&&C<=42124||C>=42128&&C<=42182||C>=43360&&C<=43388||C>=44032&&C<=55203||C>=55216&&C<=55238||C>=55243&&C<=55291||C>=63744&&C<=64255||C>=65040&&C<=65049||C>=65072&&C<=65106||C>=65108&&C<=65126||C>=65128&&C<=65131||C>=65281&&C<=65376||C>=65504&&C<=65510}t("./edit_session/folding").Folding.call(w.prototype),t("./edit_session/bracket_match").BracketMatch.call(w.prototype),o.defineOptions(w.prototype,"session",{wrap:{set:function(C){if(!C||C=="off"?C=!1:C=="free"?C=!0:C=="printMargin"?C=-1:typeof C=="string"&&(C=parseInt(C,10)||!1),this.$wrap!=C)if(this.$wrap=C,!C)this.setUseWrapMode(!1);else{var b=typeof C=="number"?C:null;this.setWrapLimitRange(b,b),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(C){C=C=="auto"?this.$mode.type!="text":C!="text",C!=this.$wrapAsCode&&(this.$wrapAsCode=C,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(C){this.$useWorker=C,this.$stopWorker(),C&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(C){C=parseInt(C),C>0&&this.$tabSize!==C&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=C,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(C){this.setFoldStyle(C)},handlesSet:!0},overwrite:{set:function(C){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(C){this.doc.setNewLineMode(C)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(C){this.setMode(C)},get:function(){return this.$modeId},handlesSet:!0}}),n.EditSession=w}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,n,i){var s=t("./lib/lang"),l=t("./lib/oop"),m=t("./range").Range,o=(function(){function u(){this.$options={}}return u.prototype.set=function(h){return l.mixin(this.$options,h),this},u.prototype.getOptions=function(){return s.copyObject(this.$options)},u.prototype.setOptions=function(h){this.$options=h},u.prototype.find=function(h){var c=this.$options,p=this.$matchIterator(h,c);if(!p)return!1;var g=null;return p.forEach(function(y,w,M,R){return g=new m(y,w,M,R),w==R&&c.start&&c.start.start&&c.skipCurrent!=!1&&g.isEqual(c.start)?(g=null,!1):!0}),g},u.prototype.findAll=function(h){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var p=c.range,g=p?h.getLines(p.start.row,p.end.row):h.doc.getAllLines(),y=[],w=c.re;if(c.$isMultiLine){var M=w.length,R=g.length-M,x;e:for(var _=w.offset||0;_<=R;_++){for(var E=0;E<M;E++)if(g[_+E].search(w[E])==-1)continue e;var k=g[_],T=g[_+M-1],I=k.length-k.match(w[0])[0].length,O=T.match(w[M-1])[0].length;x&&x.end.row===_&&x.end.column>I||(y.push(x=new m(_,I,_+M-1,O)),M>2&&(_=_+M-2))}}else for(var C,b=0;b<g.length;b++)if(this.$isMultilineSearch(c)){var A=g.length-1;if(C=this.$multiLineForward(h,w,b,A),C){var S=C.endRow<=A?C.endRow-1:A;S>b&&(b=S),y.push(new m(C.startRow,C.startCol,C.endRow,C.endCol))}}else{C=s.getMatchOffsets(g[b],w);for(var E=0;E<C.length;E++){var L=C[E];y.push(new m(b,L.offset,b,L.offset+L.length))}}if(p){for(var P=p.start.column,V=p.end.column,b=0,E=y.length-1;b<E&&y[b].start.column<P&&y[b].start.row==0;)b++;for(var B=p.end.row-p.start.row;b<E&&y[E].end.column>V&&y[E].end.row==B;)E--;for(y=y.slice(b,E+1),b=0,E=y.length;b<E;b++)y[b].start.row+=p.start.row,y[b].end.row+=p.start.row}return y},u.prototype.parseReplaceString=function(h){for(var c={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},p="",g=0,y=h.length;g<y;g++){var w=h.charCodeAt(g);if(w===c.Backslash){if(g++,g>=y){p+="\\";break}var M=h.charCodeAt(g);switch(M){case c.Backslash:p+="\\";break;case c.n:p+=`
`;break;case c.t:p+="	";break}continue}if(w===c.DollarSign){if(g++,g>=y){p+="$";break}var R=h.charCodeAt(g);if(R===c.DollarSign){p+="$$";continue}if(R===c.Digit0||R===c.Ampersand){p+="$&";continue}if(c.Digit1<=R&&R<=c.Digit9){p+="$"+h[g];continue}}p+=h[g]}return p||h},u.prototype.replace=function(h,c){var p=this.$options,g=this.$assembleRegExp(p);if(p.$isMultiLine)return c;if(g){var y=this.$isMultilineSearch(p);y&&(h=h.replace(/\r\n|\r|\n/g,`
`));var w=g.exec(h);if(!w||!y&&w[0].length!=h.length)return null;if(c=p.regExp?this.parseReplaceString(c):c.replace(/\$/g,"$$$$"),c=h.replace(g,c),p.preserveCase){c=c.split("");for(var M=Math.min(h.length,h.length);M--;){var R=h[M];R&&R.toLowerCase()!=R?c[M]=c[M].toUpperCase():c[M]=c[M].toLowerCase()}c=c.join("")}return c}},u.prototype.$assembleRegExp=function(h,c){if(h.needle instanceof RegExp)return h.re=h.needle;var p=h.needle;if(!h.needle)return h.re=!1;h.regExp||(p=s.escapeRegExp(p));var g=h.caseSensitive?"gm":"gmi";try{new RegExp(p,"u"),h.$supportsUnicodeFlag=!0,g+="u"}catch{h.$supportsUnicodeFlag=!1}if(h.wholeWord&&(p=d(p,h)),h.$isMultiLine=!c&&/[\n\r]/.test(p),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(p,g);try{var y=new RegExp(p,g)}catch{y=!1}return h.re=y},u.prototype.$assembleMultilineRegExp=function(h,c){for(var p=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),g=[],y=0;y<p.length;y++)try{g.push(new RegExp(p[y],c))}catch{return!1}return g},u.prototype.$isMultilineSearch=function(h){return h.re&&/\\r\\n|\\r|\\n/.test(h.re.source)&&h.regExp&&!h.$isMultiLine},u.prototype.$multiLineForward=function(h,c,p,g){for(var y,w=f(h,p),M=p;M<=g;){for(var R=0;R<w&&!(M>g);R++){var x=h.getLine(M++);y=y==null?x:y+`
`+x}var _=c.exec(y);if(c.lastIndex=0,_){var E=y.slice(0,_.index).split(`
`),k=_[0].split(`
`),T=p+E.length-1,I=E[E.length-1].length,O=T+k.length-1,C=k.length==1?I+k[0].length:k[k.length-1].length;return{startRow:T,startCol:I,endRow:O,endCol:C}}}return null},u.prototype.$multiLineBackward=function(h,c,p,g,y){for(var w,M=f(h,g),R=h.getLine(g).length-p,x=g;x>=y;){for(var _=0;_<M&&x>=y;_++){var E=h.getLine(x--);w=w==null?E:E+`
`+w}var k=a(w,c,R);if(k){var T=w.slice(0,k.index).split(`
`),I=k[0].split(`
`),O=x+T.length,C=T[T.length-1].length,b=O+I.length-1,A=I.length==1?C+I[0].length:I[I.length-1].length;return{startRow:O,startCol:C,endRow:b,endCol:A}}}return null},u.prototype.$matchIterator=function(h,c){var p=this.$assembleRegExp(c);if(!p)return!1;var g=this.$isMultilineSearch(c),y=this.$multiLineForward,w=this.$multiLineBackward,M=c.backwards==!0,R=c.skipCurrent!=!1,x=p.unicode,_=c.range,E=c.start;E||(E=_?_[M?"end":"start"]:h.selection.getRange()),E.start&&(E=E[R!=M?"end":"start"]);var k=_?_.start.row:0,T=_?_.end.row:h.getLength()-1;if(M)var I=function(b){var A=E.row;if(!C(A,E.column,b)){for(A--;A>=k;A--)if(C(A,Number.MAX_VALUE,b))return;if(c.wrap!=!1){for(A=T,k=E.row;A>=k;A--)if(C(A,Number.MAX_VALUE,b))return}}};else var I=function(A){var S=E.row;if(!C(S,E.column,A)){for(S=S+1;S<=T;S++)if(C(S,0,A))return;if(c.wrap!=!1){for(S=k,T=E.row;S<=T;S++)if(C(S,0,A))return}}};if(c.$isMultiLine)var O=p.length,C=function(b,A,S){var L=M?b-O+1:b;if(!(L<0||L+O>h.getLength())){var P=h.getLine(L),V=P.search(p[0]);if(!(!M&&V<A||V===-1)){for(var B=1;B<O;B++)if(P=h.getLine(L+B),P.search(p[B])==-1)return;var W=P.match(p[O-1])[0].length;if(!(M&&W>A)&&S(L,V,L+O-1,W))return!0}}};else if(M)var C=function(A,S,L){if(g){var P=w(h,p,S,A,k);if(!P)return!1;if(L(P.startRow,P.startCol,P.endRow,P.endCol))return!0}else{var V=h.getLine(A),B=[],W,G=0;for(p.lastIndex=0;W=p.exec(V);){var J=W[0].length;if(G=W.index,!J){if(G>=V.length)break;p.lastIndex=G+=s.skipEmptyMatch(V,G,x)}if(W.index+J>S)break;B.push(W.index,J)}for(var K=B.length-1;K>=0;K-=2){var Q=B[K-1],J=B[K];if(L(A,Q,A,Q+J))return!0}}};else var C=function(A,S,L){if(p.lastIndex=S,g){var P=y(h,p,A,T);if(P){var V=P.endRow<=T?P.endRow-1:T;V>A&&(A=V)}if(!P)return!1;if(L(P.startRow,P.startCol,P.endRow,P.endCol))return!0}else for(var B=h.getLine(A),W,G;G=p.exec(B);){var J=G[0].length;if(W=G.index,L(A,W,A,W+J))return!0;if(!J&&(p.lastIndex=W+=s.skipEmptyMatch(B,W,x),W>=B.length))return!1}};return{forEach:I}},u})();function d(u,h){var c=s.supportsLookbehind();function p(M,R){R===void 0&&(R=!0);var x=c&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return x.test(M)||h.regExp?c&&h.$supportsUnicodeFlag?R?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var g=Array.from(u),y=g[0],w=g[g.length-1];return p(y)+u+p(w,!1)}function a(u,h,c){for(var p=null,g=0;g<=u.length;){h.lastIndex=g;var y=h.exec(u);if(!y)break;var w=y.index+y[0].length;if(w>u.length-c)break;(!p||w>p.index+p[0].length)&&(p=y),g=y.index+1}return p}function f(u,h){var c=5e3,p={row:h,column:0},g=u.doc.positionToIndex(p),y=g+c,w=u.doc.indexToPosition(y),M=w.row;return M+1}n.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,n,i){var s=this&&this.__extends||(function(){var u=function(h,c){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])},u(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");u(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}})(),l=t("../lib/keys"),m=t("../lib/useragent"),o=l.KEY_MODS,d=(function(){function u(h,c){this.$init(h,c,!1)}return u.prototype.$init=function(h,c,p){this.platform=c||(m.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(h),this.$singleCommand=p},u.prototype.addCommand=function(h){this.commands[h.name]&&this.removeCommand(h),this.commands[h.name]=h,h.bindKey&&this._buildKeyHash(h)},u.prototype.removeCommand=function(h,c){var p=h&&(typeof h=="string"?h:h.name);h=this.commands[p],c||delete this.commands[p];var g=this.commandKeyBinding;for(var y in g){var w=g[y];if(w==h)delete g[y];else if(Array.isArray(w)){var M=w.indexOf(h);M!=-1&&(w.splice(M,1),w.length==1&&(g[y]=w[0]))}}},u.prototype.bindKey=function(h,c,p){if(typeof h=="object"&&h&&(p==null&&(p=h.position),h=h[this.platform]),!!h){if(typeof c=="function")return this.addCommand({exec:c,bindKey:h,name:c.name||h});h.split("|").forEach(function(g){var y="";if(g.indexOf(" ")!=-1){var w=g.split(/\s+/);g=w.pop(),w.forEach(function(x){var _=this.parseKeys(x),E=o[_.hashId]+_.key;y+=(y?" ":"")+E,this._addCommandToBinding(y,"chainKeys")},this),y+=" "}var M=this.parseKeys(g),R=o[M.hashId]+M.key;this._addCommandToBinding(y+R,c,p)},this)}},u.prototype._addCommandToBinding=function(h,c,p){var g=this.commandKeyBinding,y;if(!c)delete g[h];else if(!g[h]||this.$singleCommand)g[h]=c;else{Array.isArray(g[h])?(y=g[h].indexOf(c))!=-1&&g[h].splice(y,1):g[h]=[g[h]],typeof p!="number"&&(p=a(c));var w=g[h];for(y=0;y<w.length;y++){var M=w[y],R=a(M);if(R>p)break}w.splice(y,0,c)}},u.prototype.addCommands=function(h){h&&Object.keys(h).forEach(function(c){var p=h[c];if(p){if(typeof p=="string")return this.bindKey(p,c);typeof p=="function"&&(p={exec:p}),typeof p=="object"&&(p.name||(p.name=c),this.addCommand(p))}},this)},u.prototype.removeCommands=function(h){Object.keys(h).forEach(function(c){this.removeCommand(h[c])},this)},u.prototype.bindKeys=function(h){Object.keys(h).forEach(function(c){this.bindKey(c,h[c])},this)},u.prototype._buildKeyHash=function(h){this.bindKey(h.bindKey,h)},u.prototype.parseKeys=function(h){var c=h.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(R){return R}),p=c.pop(),g=l[p];if(l.FUNCTION_KEYS[g])p=l.FUNCTION_KEYS[g].toLowerCase();else if(c.length){if(c.length==1&&c[0]=="shift")return{key:p.toUpperCase(),hashId:-1}}else return{key:p,hashId:-1};for(var y=0,w=c.length;w--;){var M=l.KEY_MODS[c[w]];if(M==null)return typeof console<"u"&&console.error("invalid modifier "+c[w]+" in "+h),!1;y|=M}return{key:p,hashId:y}},u.prototype.findKeyCommand=function(h,c){var p=o[h]+c;return this.commandKeyBinding[p]},u.prototype.handleKeyboard=function(h,c,p,g){if(!(g<0)){var y=o[c]+p,w=this.commandKeyBinding[y];return h.$keyChain&&(h.$keyChain+=" "+y,w=this.commandKeyBinding[h.$keyChain]||w),w&&(w=="chainKeys"||w[w.length-1]=="chainKeys")?(h.$keyChain=h.$keyChain||y,{command:"null"}):(h.$keyChain&&((!c||c==4)&&p.length==1?h.$keyChain=h.$keyChain.slice(0,-y.length-1):(c==-1||g>0)&&(h.$keyChain="")),{command:w})}},u.prototype.getStatusText=function(h,c){return c.$keyChain||""},u})();function a(u){return typeof u=="object"&&u.bindKey&&u.bindKey.position||(u.isDefault?-100:0)}var f=(function(u){s(h,u);function h(c,p){var g=u.call(this,c,p)||this;return g.$singleCommand=!0,g}return h})(d);f.call=function(u,h,c){d.prototype.$init.call(u,h,c,!0)},d.call=function(u,h,c){d.prototype.$init.call(u,h,c,!1)},n.HashHandler=f,n.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,n,i){var s=this&&this.__extends||(function(){var a=function(f,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p])},a(f,u)};return function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(f,u);function h(){this.constructor=f}f.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}})(),l=t("../lib/oop"),m=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,d=(function(a){s(f,a);function f(u,h){var c=a.call(this,h,u)||this;return c.byName=c.commands,c.setDefaultHandler("exec",function(p){return p.args?p.command.exec(p.editor,p.args,p.event,!1):p.command.exec(p.editor,{},p.event,!0)}),c}return f.prototype.exec=function(u,h,c){if(Array.isArray(u)){for(var p=u.length;p--;)if(this.exec(u[p],h,c))return!0;return!1}typeof u=="string"&&(u=this.commands[u]);var g={editor:h,command:u,args:c};return this.canExecute(u,h)?(g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1):(this._signal("commandUnavailable",g),!1)},f.prototype.canExecute=function(u,h){return typeof u=="string"&&(u=this.commands[u]),!(!u||h&&h.$readOnly&&!u.readOnly||this.$checkCommandState!=!1&&u.isAvailable&&!u.isAvailable(h))},f.prototype.toggleRecording=function(u){if(!this.$inReplay)return u&&u._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(h){this.macro.push([h.command,h.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},f.prototype.replay=function(u){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(u);try{this.$inReplay=!0,this.macro.forEach(function(h){typeof h=="string"?this.exec(h,u):this.exec(h[0],u,h[1])},this)}finally{this.$inReplay=!1}}},f.prototype.trimMacro=function(u){return u.map(function(h){return typeof h[0]!="string"&&(h[0]=h[0].name),h[1]||(h=h[0]),h})},f})(m);l.implement(d.prototype,o),n.CommandManager=d}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,n,i){var s=t("../lib/lang"),l=t("../config"),m=t("../range").Range;function o(a,f){return{win:a,mac:f}}n.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(a){l.loadModule("ace/ext/settings_menu",function(f){f.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(a){l.loadModule("ace/ext/error_marker",function(f){f.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(a){l.loadModule("ace/ext/error_marker",function(f){f.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(a,f){typeof f=="number"&&!isNaN(f)&&a.gotoLine(f),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(a){l.loadModule("ace/ext/searchbox",function(f){f.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(a,f){a.navigateUp(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(a,f){a.navigateDown(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(a,f){a.navigateLeft(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(a,f){a.navigateRight(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var f=a.$copyWithEmptySelection&&a.selection.isEmpty(),u=f?a.selection.getLineRange():a.selection.getRange();a._emit("cut",u),u.isEmpty()||a.session.remove(u),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,f){a.$handlePaste(f)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(a){l.loadModule("ace/ext/searchbox",function(f){f.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(a){if(a.selection.isEmpty())a.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(a){var f=a.selection.getRange();f.start.column=0,a.session.remove(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(a){var f=a.selection.getRange();f.end.column=Number.MAX_VALUE,a.session.remove(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,f){a.insert(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,f){a.insert(s.stringRepeat(f.text||"",f.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(a){a.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var f=a.selection.getRange();f.start.column=f.end.column=0,f.end.row++,a.selection.setRange(f,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(a){a.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(a){for(var f=a.selection.isBackwards(),u=f?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),h=f?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),c=a.session.doc.getLine(u.row).length,p=a.session.doc.getTextRange(a.selection.getRange()),g=p.replace(/\n\s*/," ").length,y=a.session.doc.getLine(u.row),w=u.row+1;w<=h.row+1;w++){var M=s.stringTrimLeft(s.stringTrimRight(a.session.doc.getLine(w)));M.length!==0&&(M=" "+M),y+=M}h.row+1<a.session.doc.getLength()-1&&(y+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new m(u.row,0,h.row+2,0),y),g>0?(a.selection.moveCursorTo(u.row,u.column),a.selection.selectTo(u.row,u.column+g)):(c=a.session.doc.getLine(u.row).length>c?c+1:c,a.selection.moveCursorTo(u.row,c))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(a){var f=a.session.doc.getLength()-1,u=a.session.doc.getLine(f).length,h=a.selection.rangeList.ranges,c=[];h.length<1&&(h=[a.selection.getRange()]);for(var p=0;p<h.length;p++)p==h.length-1&&(h[p].end.row===f&&h[p].end.column===u||c.push(new m(h[p].end.row,h[p].end.column,f,u))),p===0?h[p].start.row===0&&h[p].start.column===0||c.push(new m(0,0,h[p].start.row,h[p].start.column)):c.push(new m(h[p-1].end.row,h[p-1].end.column,h[p].start.row,h[p].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var p=0;p<c.length;p++)a.selection.addRange(c[p],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(a){a.selection.clearSelection(),a.navigateLineEnd(),a.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(a){a.selection.clearSelection();var f=a.getCursorPosition();a.selection.moveTo(f.row-1,Number.MAX_VALUE),a.insert(`
`),f.row===0&&a.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(a){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),a.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)n.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(a){a.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(t,n,i){var s=t("../lib/keys"),l=(function(){function o(d){this.editor=d,this.gutterLayer=d.renderer.$gutterLayer,this.element=d.renderer.$gutter,this.lines=d.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return o.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},o.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},o.prototype.$onGutterKeyDown=function(d){if(this.annotationTooltip.isOpen){d.preventDefault(),d.keyCode===s.escape&&this.annotationTooltip.hide();return}if(d.target===this.element){if(d.keyCode!=s.enter)return;d.preventDefault();var a=this.editor.getCursorPosition().row;this.editor.isRowVisible(a)||this.editor.scrollToLine(a,!0,!0),setTimeout(function(){var f=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),u=this.$findNearestFoldLaneWidget(f),h=this.$findNearestAnnotation(f);if(!(u===null&&h===null)){var c=this.$findClosestNumber(u,h,f);if(c===u)if(this.activeLane="fold",this.activeRowIndex=u,this.$isCustomWidgetVisible(u)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(d),setTimeout(function(){this.editor._signal("gutterkeydown",new m(d,this))}.bind(this),10)},o.prototype.$handleGutterKeyboardInteraction=function(d){if(d.keyCode===s.tab){d.preventDefault();return}if(d.keyCode===s.escape){d.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(d.keyCode===s.up){switch(d.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(d.keyCode===s.down){switch(d.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(d.keyCode===s.left){d.preventDefault(),this.$switchLane("annotation");return}if(d.keyCode===s.right){d.preventDefault(),this.$switchLane("fold");return}if(d.keyCode===s.enter||d.keyCode===s.space){switch(d.preventDefault(),this.activeLane){case"fold":var a=this.$rowIndexToRow(this.activeRowIndex),f=this.editor.session.$gutterCustomWidgets[a];if(f)f.callbacks&&f.callbacks.onClick&&f.callbacks.onClick(d,a);else if(this.gutterLayer.session.foldWidgets[a]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),d),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==a&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(a),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},o.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},o.prototype.$isFoldWidgetVisible=function(d){var a=this.editor.isRowFullyVisible(this.$rowIndexToRow(d)),f=this.$getFoldWidget(d).style.display!=="none";return a&&f},o.prototype.$isCustomWidgetVisible=function(d){var a=this.editor.isRowFullyVisible(this.$rowIndexToRow(d)),f=!!this.$getCustomWidget(d);return a&&f},o.prototype.$isAnnotationVisible=function(d){var a=this.editor.isRowFullyVisible(this.$rowIndexToRow(d)),f=this.$getAnnotation(d).style.display!=="none";return a&&f},o.prototype.$getFoldWidget=function(d){var a=this.lines.get(d),f=a.element;return f.childNodes[1]},o.prototype.$getCustomWidget=function(d){var a=this.lines.get(d),f=a.element;return f.childNodes[3]},o.prototype.$getAnnotation=function(d){var a=this.lines.get(d),f=a.element;return f.childNodes[2]},o.prototype.$findNearestFoldLaneWidget=function(d){if(this.$isCustomWidgetVisible(d)||this.$isFoldWidgetVisible(d))return d;for(var a=0;d-a>0||d+a<this.lines.getLength()-1;){if(a++,d-a>=0&&this.$isCustomWidgetVisible(d-a))return d-a;if(d+a<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(d+a))return d+a;if(d-a>=0&&this.$isFoldWidgetVisible(d-a))return d-a;if(d+a<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(d+a))return d+a}return null},o.prototype.$findNearestAnnotation=function(d){if(this.$isAnnotationVisible(d))return d;for(var a=0;d-a>0||d+a<this.lines.getLength()-1;){if(a++,d-a>=0&&this.$isAnnotationVisible(d-a))return d-a;if(d+a<=this.lines.getLength()-1&&this.$isAnnotationVisible(d+a))return d+a}return null},o.prototype.$focusFoldWidget=function(d){if(d!=null){var a=this.$getFoldWidget(d);a.classList.add(this.editor.renderer.keyboardFocusClassName),a.focus()}},o.prototype.$focusCustomWidget=function(d){if(d!=null){var a=this.$getCustomWidget(d);a&&(a.classList.add(this.editor.renderer.keyboardFocusClassName),a.focus())}},o.prototype.$focusAnnotation=function(d){if(d!=null){var a=this.$getAnnotation(d);a.classList.add(this.editor.renderer.keyboardFocusClassName),a.focus()}},o.prototype.$blurFoldWidget=function(d){var a=this.$getFoldWidget(d);a.classList.remove(this.editor.renderer.keyboardFocusClassName),a.blur()},o.prototype.$blurCustomWidget=function(d){var a=this.$getCustomWidget(d);a&&(a.classList.remove(this.editor.renderer.keyboardFocusClassName),a.blur())},o.prototype.$blurAnnotation=function(d){var a=this.$getAnnotation(d);a.classList.remove(this.editor.renderer.keyboardFocusClassName),a.blur()},o.prototype.$moveFoldWidgetUp=function(){for(var d=this.activeRowIndex;d>0;)if(d--,this.$isFoldWidgetVisible(d)||this.$isCustomWidgetVisible(d)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=d,this.$isFoldWidgetVisible(d)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveFoldWidgetDown=function(){for(var d=this.activeRowIndex;d<this.lines.getLength()-1;)if(d++,this.$isFoldWidgetVisible(d)||this.$isCustomWidgetVisible(d)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=d,this.$isFoldWidgetVisible(d)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveAnnotationUp=function(){for(var d=this.activeRowIndex;d>0;)if(d--,this.$isAnnotationVisible(d)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$moveAnnotationDown=function(){for(var d=this.activeRowIndex;d<this.lines.getLength()-1;)if(d++,this.$isAnnotationVisible(d)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$findClosestNumber=function(d,a,f){return d===null?a:a===null||Math.abs(f-d)<=Math.abs(f-a)?d:a},o.prototype.$switchLane=function(d){switch(d){case"annotation":if(this.activeLane==="annotation")break;var a=this.$findNearestAnnotation(this.activeRowIndex);if(a==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var f=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(f===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=f,this.$isCustomWidgetVisible(f)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},o.prototype.$rowIndexToRow=function(d){var a=this.lines.get(d);return a?a.row:null},o.prototype.$rowToRowIndex=function(d){for(var a=0;a<this.lines.getLength();a++){var f=this.lines.get(a);if(f.row==d)return a}return null},o})();n.GutterKeyboardHandler=l;var m=(function(){function o(d,a){this.gutterKeyboardHandler=a,this.domEvent=d}return o.prototype.getKey=function(){return s.keyCodeToString(this.domEvent.keyCode)},o.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},o.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},o.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},o})();n.GutterKeyboardEvent=m}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(t,n,i){var s=this&&this.__values||function(A){var S=typeof Symbol=="function"&&Symbol.iterator,L=S&&A[S],P=0;if(L)return L.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&P>=A.length&&(A=void 0),{value:A&&A[P++],done:!A}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},l=t("./lib/oop"),m=t("./lib/dom"),o=t("./lib/lang"),d=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,f=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,h=t("./keyboard/keybinding").KeyBinding,c=t("./edit_session").EditSession,p=t("./search").Search,g=t("./range").Range,y=t("./lib/event_emitter").EventEmitter,w=t("./commands/command_manager").CommandManager,M=t("./commands/default_commands").commands,R=t("./config"),x=t("./token_iterator").TokenIterator,_=t("./keyboard/gutter_handler").GutterKeyboardHandler,E=t("./config").nls,k=t("./clipboard"),T=t("./lib/keys"),I=t("./lib/event"),O=t("./tooltip").HoverTooltip,C=(function(){function A(S,L,P){this.id="editor"+ ++A.$uid,this.session,this.$toDestroy=[];var V=S.getContainerElement();this.container=V,this.renderer=S,this.commands=new w(d.isMac?"mac":"win",M),typeof document=="object"&&(this.textInput=new a(S.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new f(this),new u(this)),this.keyBinding=new h(this),this.$search=new p().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(B,W){W._$emitInputEvent.schedule(31)}),this.setSession(L||P&&P.session||new c("")),R.resetOptions(this),P&&this.setOptions(P),R._signal("editor",this)}return A.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},A.prototype.startOperation=function(S){this.session.startOperation(S)},A.prototype.endOperation=function(S){this.session.endOperation(S)},A.prototype.onStartOperation=function(S){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,S||(this.previousCommand=null)},A.prototype.onEndOperation=function(S){if(this.curOp&&this.session){if(S&&S.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var L=this.curOp.command,P=L&&L.scrollIntoView;if(P){switch(P){case"center-animate":P="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var V=this.selection.getRange(),B=this.renderer.layerConfig;(V.start.row>=B.lastRow||V.end.row<=B.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}P=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},A.prototype.$historyTracker=function(S){if(this.$mergeUndoDeltas){var L=this.prevOp,P=this.$mergeableCommands,V=L.command&&S.command.name==L.command.name;if(S.command.name=="insertstring"){var B=S.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),V=V&&this.mergeNextCommand&&(!/\s/.test(B)||/\s/.test(L.args)),this.mergeNextCommand=!0}else V=V&&P.indexOf(S.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(V=!1),V?this.session.mergeUndoDeltas=!0:P.indexOf(S.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},A.prototype.setKeyboardHandler=function(S,L){if(S&&typeof S=="string"&&S!="ace"){this.$keybindingId=S;var P=this;R.loadModule(["keybinding",S],function(V){P.$keybindingId==S&&P.keyBinding.setKeyboardHandler(V&&V.handler),L&&L()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(S),L&&L()},A.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},A.prototype.setSession=function(S){if(this.session!=S){this.curOp&&this.endOperation(),this.curOp={};var L=this.session;if(L){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var P=this.session.getSelection();P.off("changeCursor",this.$onCursorChange),P.off("changeSelection",this.$onSelectionChange)}this.session=S,S?(this.$onDocumentChange=this.onDocumentChange.bind(this),S.on("change",this.$onDocumentChange),this.renderer.setSession(S),this.$onChangeMode=this.onChangeMode.bind(this),S.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),S.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),S.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),S.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),S.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),S.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=S.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(S)),this._signal("changeSession",{session:S,oldSession:L}),this.curOp=null,L&&L._signal("changeEditor",{oldEditor:this}),L&&(L.$editor=null),S&&S._signal("changeEditor",{editor:this}),S&&(S.$editor=this),S&&!S.destroyed&&S.bgTokenizer.scheduleStart()}},A.prototype.getSession=function(){return this.session},A.prototype.setValue=function(S,L){return this.session.doc.setValue(S),L?L==1?this.navigateFileEnd():L==-1&&this.navigateFileStart():this.selectAll(),S},A.prototype.getValue=function(){return this.session.getValue()},A.prototype.getSelection=function(){return this.selection},A.prototype.resize=function(S){this.renderer.onResize(S)},A.prototype.setTheme=function(S,L){this.renderer.setTheme(S,L)},A.prototype.getTheme=function(){return this.renderer.getTheme()},A.prototype.setStyle=function(S,L){this.renderer.setStyle(S,L)},A.prototype.unsetStyle=function(S){this.renderer.unsetStyle(S)},A.prototype.getFontSize=function(){return this.getOption("fontSize")||m.computedStyle(this.container).fontSize},A.prototype.setFontSize=function(S){this.setOption("fontSize",S)},A.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var S=this;this.$highlightPending=!0,setTimeout(function(){S.$highlightPending=!1;var L=S.session;if(!(!L||L.destroyed)){L.$bracketHighlight&&(L.$bracketHighlight.markerIds.forEach(function(X){L.removeMarker(X)}),L.$bracketHighlight=null);var P=S.getCursorPosition(),V=S.getKeyboardHandler(),B=V&&V.$getDirectionForHighlight&&V.$getDirectionForHighlight(S),W=L.getMatchingBracketRanges(P,B);if(!W){var G=new x(L,P.row,P.column),J=G.getCurrentToken();if(J&&/\b(?:tag-open|tag-name)/.test(J.type)){var K=L.getMatchingTags(P);K&&(W=[K.openTagName.isEmpty()?K.openTag:K.openTagName,K.closeTagName.isEmpty()?K.closeTag:K.closeTagName])}}if(!W&&L.$mode.getMatching&&(W=L.$mode.getMatching(S.session)),!W){S.getHighlightIndentGuides()&&S.renderer.$textLayer.$highlightIndentGuide();return}var Q="ace_bracket";Array.isArray(W)?W.length==1&&(Q="ace_error_bracket"):W=[W],W.length==2&&(g.comparePoints(W[0].end,W[1].start)==0?W=[g.fromPoints(W[0].start,W[1].end)]:g.comparePoints(W[0].start,W[1].end)==0&&(W=[g.fromPoints(W[1].start,W[0].end)])),L.$bracketHighlight={ranges:W,markerIds:W.map(function(X){return L.addMarker(X,Q,"text")})},S.getHighlightIndentGuides()&&S.renderer.$textLayer.$highlightIndentGuide()}},50)}},A.prototype.focus=function(){this.textInput.focus()},A.prototype.isFocused=function(){return this.textInput.isFocused()},A.prototype.blur=function(){this.textInput.blur()},A.prototype.onFocus=function(S){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",S))},A.prototype.onBlur=function(S){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",S))},A.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},A.prototype.onDocumentChange=function(S){var L=this.session.$useWrapMode,P=S.start.row==S.end.row?S.end.row:1/0;this.renderer.updateLines(S.start.row,P,L),this._signal("change",S),this.$cursorChange()},A.prototype.onTokenizerUpdate=function(S){var L=S.data;this.renderer.updateLines(L.first,L.last)},A.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},A.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},A.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},A.prototype.$updateHighlightActiveLine=function(){var S=this.getSession(),L;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(L=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(L=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(L=!1)),S.$highlightLineMarker&&!L)S.removeMarker(S.$highlightLineMarker.id),S.$highlightLineMarker=null;else if(!S.$highlightLineMarker&&L){var P=new g(L.row,L.column,L.row,1/0);P.id=S.addMarker(P,"ace_active-line","screenLine"),S.$highlightLineMarker=P}else L&&(S.$highlightLineMarker.start.row=L.row,S.$highlightLineMarker.end.row=L.row,S.$highlightLineMarker.start.column=L.column,S._signal("changeBackMarker"))},A.prototype.onSelectionChange=function(S){var L=this.session;if(L.$selectionMarker&&L.removeMarker(L.$selectionMarker),L.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var P=this.selection.getRange(),V=this.getSelectionStyle();L.$selectionMarker=L.addMarker(P,"ace_selection",V)}var B=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(B),this._signal("changeSelection")},A.prototype.$getSelectionHighLightRegexp=function(){var S=this.session,L=this.getSelectionRange();if(!(L.isEmpty()||L.isMultiLine())){var P=L.start.column,V=L.end.column,B=S.getLine(L.start.row),W=B.substring(P,V);if(!(W.length>5e3||!/[\w\d]/.test(W))){var G=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:W}),J=B.substring(P-1,V+1);if(G.test(J))return G}}},A.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},A.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},A.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},A.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},A.prototype.onChangeMode=function(S){this.renderer.updateText(),this._emit("changeMode",S)},A.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},A.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},A.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},A.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},A.prototype.getCopyText=function(){var S=this.getSelectedText(),L=this.session.doc.getNewLineCharacter(),P=!1;if(!S&&this.$copyWithEmptySelection){P=!0;for(var V=this.selection.getAllRanges(),B=0;B<V.length;B++){var W=V[B];B&&V[B-1].start.row==W.start.row||(S+=this.session.getLine(W.start.row)+L)}}var G={text:S};return this._signal("copy",G),k.lineMode=P?G.text:!1,G.text},A.prototype.onCopy=function(){this.commands.exec("copy",this)},A.prototype.onCut=function(){this.commands.exec("cut",this)},A.prototype.onPaste=function(S,L){var P={text:S,event:L};this.commands.exec("paste",this,P)},A.prototype.$handlePaste=function(S){typeof S=="string"&&(S={text:S}),this._signal("paste",S);var L=S.text,P=L===k.lineMode,V=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)P?V.insert({row:this.selection.lead.row,column:0},L):this.insert(L);else if(P)this.selection.rangeList.ranges.forEach(function(Q){V.insert({row:Q.start.row,column:0},L)});else{var B=L.split(/\r\n|\r|\n/),W=this.selection.rangeList.ranges,G=B.length==2&&(!B[0]||!B[1]);if(B.length!=W.length||G)return this.commands.exec("insertstring",this,L);for(var J=W.length;J--;){var K=W[J];K.isEmpty()||V.remove(K),V.insert(K.start,B[J])}}},A.prototype.execCommand=function(S,L){return this.commands.exec(S,this,L)},A.prototype.insert=function(S,L){var P=this.session,V=P.getMode(),B=this.getCursorPosition();if(this.getBehavioursEnabled()&&!L){var W=V.transformAction(P.getState(B.row),"insertion",this,P,S);W&&(S!==W.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),S=W.text)}if(S=="	"&&(S=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&S.indexOf(`
`)==-1){var G=g.fromPoints(B,B);G.end.column+=S.length,this.session.remove(G)}}else{var G=this.getSelectionRange();B=this.session.remove(G),this.clearSelection()}if(S==`
`||S==`\r
`){var X=P.getLine(B.row);if(B.column>X.search(/\S|$/)){var J=X.substr(B.column).search(/\S|$/);P.doc.removeInLine(B.row,B.column,B.column+J)}}this.clearSelection();var K=B.column,Q=P.getState(B.row),X=P.getLine(B.row),Z=V.checkOutdent(Q,X,S);if(P.insert(B,S),W&&W.selection&&(W.selection.length==2?this.selection.setSelectionRange(new g(B.row,K+W.selection[0],B.row,K+W.selection[1])):this.selection.setSelectionRange(new g(B.row+W.selection[0],W.selection[1],B.row+W.selection[2],W.selection[3]))),this.$enableAutoIndent){if(P.getDocument().isNewLine(S)){var re=V.getNextLineIndent(Q,X.slice(0,B.column),P.getTabString());P.insert({row:B.row+1,column:0},re)}Z&&V.autoOutdent(Q,P,B.row)}},A.prototype.autoIndent=function(){for(var S=this.session,L=S.getMode(),P=this.selection.isEmpty()?[new g(0,0,S.doc.getLength()-1,0)]:this.selection.getAllRanges(),V="",B="",W="",G=S.getTabString(),J=0;J<P.length;J++)for(var K=P[J].start.row,Q=P[J].end.row,X=K;X<=Q;X++){X>0&&(V=S.getState(X-1),B=S.getLine(X-1),W=L.getNextLineIndent(V,B,G));var Z=S.getLine(X),re=L.$getIndent(Z);if(W!==re){if(re.length>0){var se=new g(X,0,X,re.length);S.remove(se)}W.length>0&&S.insert({row:X,column:0},W)}L.autoOutdent(V,S,X)}},A.prototype.onTextInput=function(S,L){if(!L)return this.keyBinding.onTextInput(S);this.startOperation({command:{name:"insertstring"}});var P=this.applyComposition.bind(this,S,L);this.selection.rangeCount?this.forEachSelection(P):P(),this.endOperation()},A.prototype.applyComposition=function(S,L){if(L.extendLeft||L.extendRight){var P=this.selection.getRange();P.start.column-=L.extendLeft,P.end.column+=L.extendRight,P.start.column<0&&(P.start.row--,P.start.column+=this.session.getLine(P.start.row).length+1),this.selection.setRange(P),!S&&!P.isEmpty()&&this.remove()}if((S||!this.selection.isEmpty())&&this.insert(S,!0),L.restoreStart||L.restoreEnd){var P=this.selection.getRange();P.start.column-=L.restoreStart,P.end.column-=L.restoreEnd,this.selection.setRange(P)}},A.prototype.onCommandKey=function(S,L,P){return this.keyBinding.onCommandKey(S,L,P)},A.prototype.setOverwrite=function(S){this.session.setOverwrite(S)},A.prototype.getOverwrite=function(){return this.session.getOverwrite()},A.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},A.prototype.setScrollSpeed=function(S){this.setOption("scrollSpeed",S)},A.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},A.prototype.setDragDelay=function(S){this.setOption("dragDelay",S)},A.prototype.getDragDelay=function(){return this.getOption("dragDelay")},A.prototype.setSelectionStyle=function(S){this.setOption("selectionStyle",S)},A.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},A.prototype.setHighlightActiveLine=function(S){this.setOption("highlightActiveLine",S)},A.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},A.prototype.setHighlightGutterLine=function(S){this.setOption("highlightGutterLine",S)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.setHighlightSelectedWord=function(S){this.setOption("highlightSelectedWord",S)},A.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},A.prototype.setAnimatedScroll=function(S){this.renderer.setAnimatedScroll(S)},A.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},A.prototype.setShowInvisibles=function(S){this.renderer.setShowInvisibles(S)},A.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},A.prototype.setDisplayIndentGuides=function(S){this.renderer.setDisplayIndentGuides(S)},A.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},A.prototype.setHighlightIndentGuides=function(S){this.renderer.setHighlightIndentGuides(S)},A.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},A.prototype.setShowPrintMargin=function(S){this.renderer.setShowPrintMargin(S)},A.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},A.prototype.setPrintMarginColumn=function(S){this.renderer.setPrintMarginColumn(S)},A.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},A.prototype.setReadOnly=function(S){this.setOption("readOnly",S)},A.prototype.getReadOnly=function(){return this.getOption("readOnly")},A.prototype.setBehavioursEnabled=function(S){this.setOption("behavioursEnabled",S)},A.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},A.prototype.setWrapBehavioursEnabled=function(S){this.setOption("wrapBehavioursEnabled",S)},A.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},A.prototype.setShowFoldWidgets=function(S){this.setOption("showFoldWidgets",S)},A.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},A.prototype.setFadeFoldWidgets=function(S){this.setOption("fadeFoldWidgets",S)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.remove=function(S){this.selection.isEmpty()&&(S=="left"?this.selection.selectLeft():this.selection.selectRight());var L=this.getSelectionRange();if(this.getBehavioursEnabled()){var P=this.session,V=P.getState(L.start.row),B=P.getMode().transformAction(V,"deletion",this,P,L);if(L.end.column===0){var W=P.getTextRange(L);if(W[W.length-1]==`
`){var G=P.getLine(L.end.row);/^\s+$/.test(G)&&(L.end.column=G.length)}}B&&(L=B)}this.session.remove(L),this.clearSelection()},A.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var S=this.getSelectionRange();S.start.column==S.end.column&&S.start.row==S.end.row&&(S.end.column=0,S.end.row++),this.session.remove(S),this.clearSelection()},A.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var S=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(S)},A.prototype.setGhostText=function(S,L){this.renderer.setGhostText(S,L)},A.prototype.removeGhostText=function(){this.renderer.removeGhostText()},A.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var S=this.getCursorPosition(),L=S.column;if(L!==0){var P=this.session.getLine(S.row),V,B;L<P.length?(V=P.charAt(L)+P.charAt(L-1),B=new g(S.row,L-1,S.row,L+1)):(V=P.charAt(L-1)+P.charAt(L-2),B=new g(S.row,L-2,S.row,L)),this.session.replace(B,V),this.session.selection.moveToPosition(B.end)}}},A.prototype.toLowerCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),P=this.session.getTextRange(L);this.session.replace(L,P.toLowerCase()),this.selection.setSelectionRange(S)},A.prototype.toUpperCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),P=this.session.getTextRange(L);this.session.replace(L,P.toUpperCase()),this.selection.setSelectionRange(S)},A.prototype.indent=function(){var S=this.session,L=this.getSelectionRange();if(L.start.row<L.end.row){var P=this.$getSelectedRows();S.indentRows(P.first,P.last,"	");return}else if(L.start.column<L.end.column){var V=S.getTextRange(L);if(!/^\s+$/.test(V)){var P=this.$getSelectedRows();S.indentRows(P.first,P.last,"	");return}}var B=S.getLine(L.start.row),W=L.start,G=S.getTabSize(),J=S.documentToScreenColumn(W.row,W.column);if(this.session.getUseSoftTabs())var K=G-J%G,Q=o.stringRepeat(" ",K);else{for(var K=J%G;B[L.start.column-1]==" "&&K;)L.start.column--,K--;this.selection.setSelectionRange(L),Q="	"}return this.insert(Q)},A.prototype.blockIndent=function(){var S=this.$getSelectedRows();this.session.indentRows(S.first,S.last,"	")},A.prototype.blockOutdent=function(){var S=this.session.getSelection();this.session.outdentRows(S.getRange())},A.prototype.sortLines=function(){for(var S=this.$getSelectedRows(),L=this.session,P=[],V=S.first;V<=S.last;V++)P.push(L.getLine(V));P.sort(function(G,J){return G.toLowerCase()<J.toLowerCase()?-1:G.toLowerCase()>J.toLowerCase()?1:0});for(var B=new g(0,0,0,0),V=S.first;V<=S.last;V++){var W=L.getLine(V);B.start.row=V,B.end.row=V,B.end.column=W.length,L.replace(B,P[V-S.first])}},A.prototype.toggleCommentLines=function(){var S=this.session.getState(this.getCursorPosition().row),L=this.$getSelectedRows();this.session.getMode().toggleCommentLines(S,this.session,L.first,L.last)},A.prototype.toggleBlockComment=function(){var S=this.getCursorPosition(),L=this.session.getState(S.row),P=this.getSelectionRange();this.session.getMode().toggleBlockComment(L,this.session,P,S)},A.prototype.getNumberAt=function(S,L){var P=/[\-]?[0-9]+(?:\.[0-9]+)?/g;P.lastIndex=0;for(var V=this.session.getLine(S);P.lastIndex<L;){var B=P.exec(V);if(B.index<=L&&B.index+B[0].length>=L){var W={value:B[0],start:B.index,end:B.index+B[0].length};return W}}return null},A.prototype.modifyNumber=function(S){var L=this.selection.getCursor().row,P=this.selection.getCursor().column,V=new g(L,P-1,L,P),B=this.session.getTextRange(V);if(!isNaN(parseFloat(B))&&isFinite(B)){var W=this.getNumberAt(L,P);if(W){var G=W.value.indexOf(".")>=0?W.start+W.value.indexOf(".")+1:W.end,J=W.start+W.value.length-G,K=parseFloat(W.value);K*=Math.pow(10,J),G!==W.end&&P<G?S*=Math.pow(10,W.end-P-1):S*=Math.pow(10,W.end-P),K+=S,K/=Math.pow(10,J);var Q=K.toFixed(J),X=new g(L,W.start,L,W.end);this.session.replace(X,Q),this.moveCursorTo(L,Math.max(W.start+1,P+Q.length-W.value.length))}}else this.toggleWord()},A.prototype.toggleWord=function(){var S=this.selection.getCursor().row,L=this.selection.getCursor().column;this.selection.selectWord();var P=this.getSelectedText(),V=this.selection.getWordRange().start.column,B=P.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),W=L-V-1;W<0&&(W=0);var G=0,J=0,K=this;P.match(/[A-Za-z0-9_]+/)&&B.forEach(function(Le,Be){J=G+Le.length,W>=G&&W<=J&&(P=Le,K.selection.clearSelection(),K.moveCursorTo(S,G+V),K.selection.selectTo(S,J+V)),G=J});for(var Q=this.$toggleWordPairs,X,Z=0;Z<Q.length;Z++)for(var re=Q[Z],se=0;se<=1;se++){var he=+!se,ce=P.match(new RegExp("^\\s?_?("+o.escapeRegExp(re[se])+")\\s?$","i"));if(ce){var _e=P.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(ce[1])+")($|\\s)","g"));_e&&(X=P.replace(new RegExp(o.escapeRegExp(re[se]),"i"),function(Le){var Be=re[he];return Le.toUpperCase()==Le?Be=Be.toUpperCase():Le.charAt(0).toUpperCase()==Le.charAt(0)&&(Be=Be.substr(0,0)+re[he].charAt(0).toUpperCase()+Be.substr(1)),Be}),this.insert(X),X="")}}},A.prototype.findLinkAt=function(S,L){var P,V,B=this.session.getLine(S),W=B.split(/((?:https?|ftp):\/\/[\S]+)/),G=L;G<0&&(G=0);var J=0,K=0,Q;try{for(var X=s(W),Z=X.next();!Z.done;Z=X.next()){var re=Z.value;if(K=J+re.length,G>=J&&G<=K&&re.match(/((?:https?|ftp):\/\/[\S]+)/)){Q=re.replace(/[\s:.,'";}\]]+$/,"");break}J=K}}catch(se){P={error:se}}finally{try{Z&&!Z.done&&(V=X.return)&&V.call(X)}finally{if(P)throw P.error}}return Q},A.prototype.openLink=function(){var S=this.selection.getCursor(),L=this.findLinkAt(S.row,S.column);return L&&window.open(L,"_blank"),L!=null},A.prototype.removeLines=function(){var S=this.$getSelectedRows();this.session.removeFullLines(S.first,S.last),this.clearSelection()},A.prototype.duplicateSelection=function(){var S=this.selection,L=this.session,P=S.getRange(),V=S.isBackwards();if(P.isEmpty()){var B=P.start.row;L.duplicateLines(B,B)}else{var W=V?P.start:P.end,G=L.insert(W,L.getTextRange(P));P.start=W,P.end=G,S.setSelectionRange(P,V)}},A.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},A.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},A.prototype.moveText=function(S,L,P){return this.session.moveText(S,L,P)},A.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},A.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},A.prototype.$moveLines=function(S,L){var P,V,B=this.selection;if(!B.inMultiSelectMode||this.inVirtualSelectionMode){var W=B.toOrientedRange();P=this.$getSelectedRows(W),V=this.session.$moveLines(P.first,P.last,L?0:S),L&&S==-1&&(V=0),W.moveBy(V,0),B.fromOrientedRange(W)}else{var G=B.rangeList.ranges;B.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var J=0,K=0,Q=G.length,X=0;X<Q;X++){var Z=X;G[X].moveBy(J,0),P=this.$getSelectedRows(G[X]);for(var re=P.first,se=P.last;++X<Q;){K&&G[X].moveBy(K,0);var he=this.$getSelectedRows(G[X]);if(L&&he.first!=se)break;if(!L&&he.first>se+1)break;se=he.last}for(X--,J=this.session.$moveLines(re,se,L?0:S),L&&S==-1&&(Z=X+1);Z<=X;)G[Z].moveBy(J,0),Z++;L||(J=0),K+=J}B.fromOrientedRange(B.ranges[0]),B.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},A.prototype.$getSelectedRows=function(S){return S=(S||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(S.start.row),last:this.session.getRowFoldEnd(S.end.row)}},A.prototype.onCompositionStart=function(S){this.renderer.showComposition(S)},A.prototype.onCompositionUpdate=function(S){this.renderer.setCompositionText(S)},A.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},A.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},A.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},A.prototype.isRowVisible=function(S){return S>=this.getFirstVisibleRow()&&S<=this.getLastVisibleRow()},A.prototype.isRowFullyVisible=function(S){return S>=this.renderer.getFirstFullyVisibleRow()&&S<=this.renderer.getLastFullyVisibleRow()},A.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},A.prototype.$moveByPage=function(S,L){var P=this.renderer,V=this.renderer.layerConfig,B=S*Math.floor(V.height/V.lineHeight);L===!0?this.selection.$moveSelection(function(){this.moveCursorBy(B,0)}):L===!1&&(this.selection.moveCursorBy(B,0),this.selection.clearSelection());var W=P.scrollTop;P.scrollBy(0,B*V.lineHeight),L!=null&&P.scrollCursorIntoView(null,.5),P.animateScrolling(W)},A.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},A.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},A.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},A.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},A.prototype.scrollPageDown=function(){this.$moveByPage(1)},A.prototype.scrollPageUp=function(){this.$moveByPage(-1)},A.prototype.scrollToRow=function(S){this.renderer.scrollToRow(S)},A.prototype.scrollToLine=function(S,L,P,V){this.renderer.scrollToLine(S,L,P,V)},A.prototype.centerSelection=function(){var S=this.getSelectionRange(),L={row:Math.floor(S.start.row+(S.end.row-S.start.row)/2),column:Math.floor(S.start.column+(S.end.column-S.start.column)/2)};this.renderer.alignCursor(L,.5)},A.prototype.getCursorPosition=function(){return this.selection.getCursor()},A.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},A.prototype.getSelectionRange=function(){return this.selection.getRange()},A.prototype.selectAll=function(){this.selection.selectAll()},A.prototype.clearSelection=function(){this.selection.clearSelection()},A.prototype.moveCursorTo=function(S,L){this.selection.moveCursorTo(S,L)},A.prototype.moveCursorToPosition=function(S){this.selection.moveCursorToPosition(S)},A.prototype.jumpToMatching=function(S,L){var P=this.getCursorPosition(),V=new x(this.session,P.row,P.column),B=V.getCurrentToken(),W=0;B&&B.type.indexOf("tag-name")!==-1&&(B=V.stepBackward());var G=B||V.stepForward();if(G){var J,K=!1,Q={},X=P.column-G.start,Z,re={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(G.value.match(/[{}()\[\]]/g)){for(;X<G.value.length&&!K;X++)if(re[G.value[X]])switch(Z=re[G.value[X]]+"."+G.type.replace("rparen","lparen"),isNaN(Q[Z])&&(Q[Z]=0),G.value[X]){case"(":case"[":case"{":Q[Z]++;break;case")":case"]":case"}":Q[Z]--,Q[Z]===-1&&(J="bracket",K=!0);break}}else G.type.indexOf("tag-name")!==-1&&(isNaN(Q[G.value])&&(Q[G.value]=0),B.value==="<"&&W>1?Q[G.value]++:B.value==="</"&&Q[G.value]--,Q[G.value]===-1&&(J="tag",K=!0));K||(B=G,W++,G=V.stepForward(),X=0)}while(G&&!K);if(J){var se,he;if(J==="bracket")se=this.session.getBracketRange(P),se||(se=new g(V.getCurrentTokenRow(),V.getCurrentTokenColumn()+X-1,V.getCurrentTokenRow(),V.getCurrentTokenColumn()+X-1),he=se.start,(L||he.row===P.row&&Math.abs(he.column-P.column)<2)&&(se=this.session.getBracketRange(he)));else if(J==="tag"){if(!G||G.type.indexOf("tag-name")===-1)return;if(se=new g(V.getCurrentTokenRow(),V.getCurrentTokenColumn()-2,V.getCurrentTokenRow(),V.getCurrentTokenColumn()-2),se.compare(P.row,P.column)===0){var ce=this.session.getMatchingTags(P);ce&&(ce.openTag.contains(P.row,P.column)?(se=ce.closeTag,he=se.start):(se=ce.openTag,ce.closeTag.start.row===P.row&&ce.closeTag.start.column===P.column?he=se.end:he=se.start))}he=he||se.start}he=se&&se.cursor||he,he&&(S?se&&L?this.selection.setRange(se):se&&se.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(he.row,he.column):this.selection.moveTo(he.row,he.column))}}},A.prototype.gotoLine=function(S,L,P){this.selection.clearSelection(),this.session.unfold({row:S-1,column:L||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(S-1,L||0),this.isRowFullyVisible(S-1)||this.scrollToLine(S-1,!0,P)},A.prototype.navigateTo=function(S,L){this.selection.moveTo(S,L)},A.prototype.navigateUp=function(S){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(-S||-1,0)},A.prototype.navigateDown=function(S){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(S||1,0)},A.prototype.navigateLeft=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorLeft();else{var L=this.getSelectionRange().start;this.moveCursorToPosition(L)}this.clearSelection()},A.prototype.navigateRight=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorRight();else{var L=this.getSelectionRange().end;this.moveCursorToPosition(L)}this.clearSelection()},A.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},A.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},A.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},A.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},A.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},A.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},A.prototype.replace=function(S,L){L&&this.$search.set(L);var P=this.$search.find(this.session),V=0;return P&&(this.$tryReplace(P,S)&&(V=1),this.selection.setSelectionRange(P),this.renderer.scrollSelectionIntoView(P.start,P.end)),V},A.prototype.replaceAll=function(S,L){L&&this.$search.set(L);var P=this.$search.findAll(this.session),V=0;if(!P.length)return V;var B=this.getSelectionRange();this.selection.moveTo(0,0);for(var W=P.length-1;W>=0;--W)this.$tryReplace(P[W],S)&&V++;return this.selection.setSelectionRange(B),V},A.prototype.$tryReplace=function(S,L){var P=this.session.getTextRange(S);return L=this.$search.replace(P,L),L!==null?(S.end=this.session.replace(S,L),S):null},A.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},A.prototype.find=function(S,L,P){L||(L={}),typeof S=="string"||S instanceof RegExp?L.needle=S:typeof S=="object"&&l.mixin(L,S);var V=this.selection.getRange();L.needle==null&&(S=this.session.getTextRange(V)||this.$search.$options.needle,S||(V=this.session.getWordRange(V.start.row,V.start.column),S=this.session.getTextRange(V)),this.$search.set({needle:S})),this.$search.set(L),L.start||this.$search.set({start:V});var B=this.$search.find(this.session);if(L.preventScroll)return B;if(B)return this.revealRange(B,P),B;L.backwards?V.start=V.end:V.end=V.start,this.selection.setRange(V)},A.prototype.findNext=function(S,L){this.find({skipCurrent:!0,backwards:!1},S,L)},A.prototype.findPrevious=function(S,L){this.find(S,{skipCurrent:!0,backwards:!0},L)},A.prototype.revealRange=function(S,L){this.session.unfold(S),this.selection.setSelectionRange(S);var P=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(S.start,S.end,.5),L!==!1&&this.renderer.animateScrolling(P)},A.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(S){S.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},A.prototype.setAutoScrollEditorIntoView=function(S){if(S){var L,P=this,V=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var B=this.$scrollAnchor;B.style.cssText="position:absolute",this.container.insertBefore(B,this.container.firstChild);var W=this.on("changeSelection",function(){V=!0}),G=this.renderer.on("beforeRender",function(){V&&(L=P.renderer.container.getBoundingClientRect())}),J=this.renderer.on("afterRender",function(){if(V&&L&&(P.isFocused()||P.searchBox&&P.searchBox.isFocused())){var K=P.renderer,Q=K.$cursorLayer.$pixelPos,X=K.layerConfig,Z=Q.top-X.offset;Q.top>=0&&Z+L.top<0?V=!0:Q.top<X.height&&Q.top+L.top+X.lineHeight>window.innerHeight?V=!1:V=null,V!=null&&(B.style.top=Z+"px",B.style.left=Q.left+"px",B.style.height=X.lineHeight+"px",B.scrollIntoView(V)),V=L=null}});this.setAutoScrollEditorIntoView=function(K){K||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",W),this.renderer.off("afterRender",J),this.renderer.off("beforeRender",G))}}},A.prototype.$resetCursorStyle=function(){var S=this.$cursorStyle||"ace",L=this.renderer.$cursorLayer;L&&(L.setSmoothBlinking(/smooth/.test(S)),L.isBlinking=!this.$readOnly&&S!="wide",m.setCssClass(L.element,"ace_slim-cursors",/slim/.test(S)))},A.prototype.prompt=function(S,L,P){var V=this;R.loadModule("ace/ext/prompt",function(B){B.prompt(V,S,L,P)})},A})();C.$uid=0,C.prototype.curOp=null,C.prototype.prevOp={},C.prototype.$mergeableCommands=["backspace","del","insertstring"],C.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(C.prototype,y),R.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(A){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:A})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(A){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(A){var S=this;if(this.textInput.setReadOnly(A),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(P){var V=!1;if(P&&P.type=="keydown"){if(P&&P.key&&!P.ctrlKey&&!P.metaKey&&(P.key==" "&&P.preventDefault(),V=P.key.length==1),!V)return}else P&&P.type!=="exec"&&(V=!0);if(V){S.hoverTooltip||(S.hoverTooltip=new O);var B=m.createElement("div");B.textContent=E("editor.tooltip.disable-editing","Editing is disabled"),S.hoverTooltip.isOpen||S.hoverTooltip.showForRange(S,S.getSelectionRange(),B)}else S.hoverTooltip&&S.hoverTooltip.isOpen&&S.hoverTooltip.hide()});var L=this.textInput.getElement();A?(I.addListener(L,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(I.removeListener(L,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(A){this.textInput.setCopyWithEmptySelection(A)},initialValue:!1},cursorStyle:{set:function(A){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(A){this.setAutoScrollEditorIntoView(A)}},keyboardHandler:{set:function(A){this.setKeyboardHandler(A)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(A){this.session.setValue(A)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(A){this.setSession(A)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(A){this.renderer.$gutterLayer.setShowLineNumbers(A),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),A&&this.$relativeLineNumbers?b.attach(this):b.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(A){this.$showLineNumbers&&A?b.attach(this):b.detach(this)}},placeholder:{set:function(A){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var S=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(S&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),m.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!S&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),m.addCssClass(this.container,"ace_hasPlaceholder");var L=m.createElement("div");L.className="ace_placeholder",L.textContent=this.$placeholder||"",this.renderer.placeholderNode=L,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!S&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(A){var S={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(V){V.blur(),V.renderer.scroller.focus()},readOnly:!0},L=function(V){if(V.target==this.renderer.scroller&&V.keyCode===T.enter){V.preventDefault();var B=this.getCursorPosition().row;this.isRowVisible(B)||this.scrollToLine(B,!0,!0),this.focus()}},P;A?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(d.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",E("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",E("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",L.bind(this)),this.commands.addCommand(S),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",E("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",E("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),P||(P=new _(this)),P.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",L.bind(this)),this.commands.removeCommand(S),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),P&&P.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(A){this.$textInputAriaLabel=A},initialValue:""},enableMobileMenu:{set:function(A){this.$enableMobileMenu=A},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var b={getText:function(A,S){return(Math.abs(A.selection.lead.row-S)||S+1+(S<9?"":""))+""},getWidth:function(A,S,L){return Math.max(S.toString().length,(L.lastRow+1).toString().length,2)*L.characterWidth},update:function(A,S){S.renderer.$loop.schedule(S.renderer.CHANGE_GUTTER)},attach:function(A){A.renderer.$gutterLayer.$renderer=this,A.on("changeSelection",this.update),this.update(null,A)},detach:function(A){A.renderer.$gutterLayer.$renderer==this&&(A.renderer.$gutterLayer.$renderer=null),A.off("changeSelection",this.update),this.update(null,A)}};n.Editor=C}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,n,i){var s=t("../lib/dom"),l=(function(){function m(o,d){this.element=o,this.canvasHeight=d||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return m.prototype.moveContainer=function(o){s.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},m.prototype.pageChanged=function(o,d){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)},m.prototype.computeLineTop=function(o,d,a){var f=d.firstRowScreen*d.lineHeight,u=Math.floor(f/this.canvasHeight),h=a.documentToScreenRow(o,0)*d.lineHeight;return h-u*this.canvasHeight},m.prototype.computeLineHeight=function(o,d,a){return d.lineHeight*a.getRowLineCount(o)},m.prototype.getLength=function(){return this.cells.length},m.prototype.get=function(o){return this.cells[o]},m.prototype.shift=function(){this.$cacheCell(this.cells.shift())},m.prototype.pop=function(){this.$cacheCell(this.cells.pop())},m.prototype.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var d=s.createFragment(this.element),a=0;a<o.length;a++)d.appendChild(o[a].element);this.element.appendChild(d)}else this.cells.push(o),this.element.appendChild(o.element)},m.prototype.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var d=s.createFragment(this.element),a=0;a<o.length;a++)d.appendChild(o[a].element);this.element.firstChild?this.element.insertBefore(d,this.element.firstChild):this.element.appendChild(d)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},m.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},m.prototype.$cacheCell=function(o){o&&(o.element.remove(),this.cellCache.push(o))},m.prototype.createCell=function(o,d,a,f){var u=this.cellCache.pop();if(!u){var h=s.createElement("div");f&&f(h),this.element.appendChild(h),u={element:h,text:"",row:o}}return u.row=o,u},m})();n.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(t,n,i){var s=t("../lib/dom"),l=t("../lib/oop"),m=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,d=t("./lines").Lines,a=t("../config").nls,f=(function(){function h(c){this.$showCursorMarker=null,this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",c.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1}return h.prototype.setSession=function(c){this.session&&this.session.off("change",this.$updateAnnotations),this.session=c,c&&c.on("change",this.$updateAnnotations)},h.prototype.addGutterDecoration=function(c,p){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(c,p)},h.prototype.removeGutterDecoration=function(c,p){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(c,p)},h.prototype.setAnnotations=function(c){this.$annotations=[];for(var p=0;p<c.length;p++){var g=c[p],y=g.row,w=this.$annotations[y];w||(w=this.$annotations[y]={text:[],type:[],displayText:[]});var M=g.text,R=g.text,x=g.type;M=M?m.escapeHTML(M):g.html||"",R=R||g.html||"",w.text.indexOf(M)===-1&&(w.text.push(M),w.type.push(x),w.displayText.push(R));var _=g.className;_?w.className=_:x==="error"?w.className=" ace_error":x==="security"&&!/\bace_error\b/.test(w.className)?w.className=" ace_security":x==="warning"&&!/\bace_(error|security)\b/.test(w.className)?w.className=" ace_warning":x==="info"&&!w.className?w.className=" ace_info":x==="hint"&&!w.className&&(w.className=" ace_hint")}},h.prototype.$updateAnnotations=function(c){if(this.$annotations.length){var p=c.start.row,g=c.end.row-p;if(g!==0)if(c.action=="remove")this.$annotations.splice(p,g+1,null);else{var y=new Array(g+1);y.unshift(p,1),this.$annotations.splice.apply(this.$annotations,y)}}},h.prototype.update=function(c){this.config=c;var p=this.session,g=c.firstRow,y=Math.min(c.lastRow+c.gutterOffset,p.getLength()-1);this.oldLastRow=y,this.config=c,this.$lines.moveContainer(c),this.$updateCursorRow();for(var w=p.getNextFoldLine(g),M=w?w.start.row:1/0,R=null,x=-1,_=g;;){if(_>M&&(_=w.end.row+1,w=p.getNextFoldLine(_,w),M=w?w.start.row:1/0),_>y){for(;this.$lines.getLength()>x+1;)this.$lines.pop();break}R=this.$lines.get(++x),R?R.row=_:(R=this.$lines.createCell(_,c,this.session,u),this.$lines.push(R)),this.$renderCell(R,c,w,_),_++}this._signal("afterRender"),this.$updateGutterWidth(c),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},h.prototype.$updateGutterWidth=function(c){var p=this.session,g=p.gutterRenderer||this.$renderer,y=p.$firstLineNumber,w=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||p.$useWrapMode)&&(w=p.getLength()+y-1);var M=g?g.getWidth(p,w,c):w.toString().length*c.characterWidth,R=this.$padding||this.$computePadding();M+=R.left+R.right,M!==this.gutterWidth&&!isNaN(M)&&(this.gutterWidth=M,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",M))},h.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var c=this.session.selection.getCursor();this.$cursorRow!==c.row&&(this.$cursorRow=c.row)}},h.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var c=this.session.selection.cursor.row;if(this.$cursorRow=c,!(this.$cursorCell&&this.$cursorCell.row==c)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var p=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<p.length;g++){var y=p[g];if(y.row>=this.$cursorRow){if(y.row>this.$cursorRow){var w=this.session.getFoldLine(this.$cursorRow);if(g>0&&w&&w.start.row==p[g-1].row)y=p[g-1];else break}y.element.className="ace_gutter-active-line "+y.element.className,this.$cursorCell=y;break}}}}},h.prototype.$updateCursorMarker=function(){if(this.session){var c=this.session;this.$highlightElement||(this.$highlightElement=s.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var p=c.selection.cursor,g=this.config,y=this.$lines,w=g.firstRowScreen*g.lineHeight,M=Math.floor(w/y.canvasHeight),R=c.documentToScreenRow(p)*g.lineHeight,x=R-M*y.canvasHeight;s.setStyle(this.$highlightElement.style,"height",g.lineHeight+"px"),s.setStyle(this.$highlightElement.style,"top",x+"px")}},h.prototype.scrollLines=function(c){var p=this.config;if(this.config=c,this.$updateCursorRow(),this.$lines.pageChanged(p,c))return this.update(c);this.$lines.moveContainer(c);var g=Math.min(c.lastRow+c.gutterOffset,this.session.getLength()-1),y=this.oldLastRow;if(this.oldLastRow=g,!p||y<c.firstRow)return this.update(c);if(g<p.firstRow)return this.update(c);if(p.firstRow<c.firstRow)for(var w=this.session.getFoldedRowCount(p.firstRow,c.firstRow-1);w>0;w--)this.$lines.shift();if(y>g)for(var w=this.session.getFoldedRowCount(g+1,y);w>0;w--)this.$lines.pop();c.firstRow<p.firstRow&&this.$lines.unshift(this.$renderLines(c,c.firstRow,p.firstRow-1)),g>y&&this.$lines.push(this.$renderLines(c,y+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(c)},h.prototype.$renderLines=function(c,p,g){for(var y=[],w=p,M=this.session.getNextFoldLine(w),R=M?M.start.row:1/0;w>R&&(w=M.end.row+1,M=this.session.getNextFoldLine(w,M),R=M?M.start.row:1/0),!(w>g);){var x=this.$lines.createCell(w,c,this.session,u);this.$renderCell(x,c,M,w),y.push(x),w++}return y},h.prototype.$renderCell=function(c,p,g,y){var w=c.element,M=this.session,R=w.childNodes[0],x=w.childNodes[1],_=w.childNodes[2],E=w.childNodes[3],k=_.firstChild,T=M.$firstLineNumber,I=M.$breakpoints,O=M.$decorations,C=M.gutterRenderer||this.$renderer,b=this.$showFoldWidgets&&M.foldWidgets,A=g?g.start.row:Number.MAX_VALUE,S=p.lineHeight+"px",L=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",P=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",V=(C?C.getText(M,y):y+T).toString();if(this.$highlightGutterLine&&(y==this.$cursorRow||g&&y<this.$cursorRow&&y>=A&&this.$cursorRow<=g.end.row)&&(L+="ace_gutter-active-line ",this.$cursorCell!=c&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=c)),I[y]&&(L+=I[y]),O[y]&&(L+=O[y]),this.$annotations[y]&&y!==A&&(L+=this.$annotations[y].className),b){var B=b[y];B==null&&(B=b[y]=M.getFoldWidget(y))}if(B){var W="ace_fold-widget ace_"+B,G=B=="start"&&y==A&&y<g.end.row;if(G){W+=" ace_closed";for(var J="",K=!1,Q=y+1;Q<=g.end.row;Q++)if(this.$annotations[Q]){if(this.$annotations[Q].className===" ace_error"){K=!0,J=" ace_error_fold";break}this.$annotations[Q].className===" ace_security"?(K=!0,J=" ace_security_fold"):this.$annotations[Q].className===" ace_warning"&&J!==" ace_security_fold"&&(K=!0,J=" ace_warning_fold")}L+=J}else W+=" ace_open";x.className!=W&&(x.className=W),s.setStyle(x.style,"height",S),s.setStyle(x.style,"display","inline-block"),x.setAttribute("role","button"),x.setAttribute("tabindex","-1");var X=M.getFoldWidgetRange(y);X?x.setAttribute("aria-label",a("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[X.start.row+1,X.end.row+1])):g?x.setAttribute("aria-label",a("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):x.setAttribute("aria-label",a("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[y+1])),G?(x.setAttribute("aria-expanded","false"),x.setAttribute("title",a("gutter.code-folding.closed.title","Unfold code"))):(x.setAttribute("aria-expanded","true"),x.setAttribute("title",a("gutter.code-folding.open.title","Fold code")))}else x&&(s.setStyle(x.style,"display","none"),x.setAttribute("tabindex","0"),x.removeAttribute("role"),x.removeAttribute("aria-label"));var Z=this.session.$gutterCustomWidgets[y];if(Z?this.$addCustomWidget(y,Z,c):E&&this.$removeCustomWidget(y,c),K&&this.$showFoldedAnnotations){_.className="ace_gutter_annotation",k.className=P,k.className+=J,s.setStyle(k.style,"height",S),s.setStyle(_.style,"display","block"),s.setStyle(_.style,"height",S);var re;switch(J){case" ace_error_fold":re=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[V]);break;case" ace_security_fold":re=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[V]);break;case" ace_warning_fold":re=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[V]);break}_.setAttribute("aria-label",re),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else if(this.$annotations[y]){_.className="ace_gutter_annotation",k.className=P,this.$useSvgGutterIcons?k.className+=this.$annotations[y].className:w.classList.add(this.$annotations[y].className.replace(" ","")),s.setStyle(k.style,"height",S),s.setStyle(_.style,"display","block"),s.setStyle(_.style,"height",S);var re;switch(this.$annotations[y].className){case" ace_error":re=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[V]);break;case" ace_security":re=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[V]);break;case" ace_warning":re=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[V]);break;case" ace_info":re=a("gutter.annotation.aria-label.info","Info, read annotations row $0",[V]);break;case" ace_hint":re=a("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[V]);break}_.setAttribute("aria-label",re),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else s.setStyle(_.style,"display","none"),_.removeAttribute("aria-label"),_.removeAttribute("role"),_.setAttribute("tabindex","0");return V!==R.data&&(R.data=V),w.className!=L&&(w.className=L),s.setStyle(c.element.style,"height",this.$lines.computeLineHeight(y,p,M)+"px"),s.setStyle(c.element.style,"top",this.$lines.computeLineTop(y,p,M)+"px"),c.text=V,_.style.display==="none"&&x.style.display==="none"&&!Z?c.element.setAttribute("aria-hidden",!0):c.element.setAttribute("aria-hidden",!1),c},h.prototype.setHighlightGutterLine=function(c){this.$highlightGutterLine=c,!c&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},h.prototype.setShowLineNumbers=function(c){this.$renderer=!c&&{getWidth:function(){return 0},getText:function(){return""}}},h.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},h.prototype.setShowFoldWidgets=function(c){c?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=c,this.$padding=null},h.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},h.prototype.$hideFoldWidget=function(c,p){var g=p||this.$getGutterCell(c);if(g&&g.element){var y=g.element.childNodes[1];y&&s.setStyle(y.style,"display","none")}},h.prototype.$showFoldWidget=function(c,p){var g=p||this.$getGutterCell(c);if(g&&g.element){var y=g.element.childNodes[1];y&&this.session.foldWidgets&&this.session.foldWidgets[g.row]&&s.setStyle(y.style,"display","inline-block")}},h.prototype.$getGutterCell=function(c){var p=this.$lines.cells,g=0,y=p.length-1;if(!(c<p[0].row||c>p[y].row)){for(;g<=y;){var w=Math.floor((g+y)/2),M=p[w];if(M.row>c)y=w-1;else if(M.row<c)g=w+1;else return M}return M}},h.prototype.$addCustomWidget=function(c,p,g){var y=p.className,w=p.label,M=p.title,R=p.callbacks;this.session.$gutterCustomWidgets[c]={className:y,label:w,title:M,callbacks:R},this.$hideFoldWidget(c,g);var x=g||this.$getGutterCell(c);if(x&&x.element){var _=x.element.querySelector(".ace_custom-widget");_&&_.remove(),_=s.createElement("span"),_.className="ace_custom-widget ".concat(y),_.setAttribute("tabindex","-1"),_.setAttribute("role","button"),_.setAttribute("aria-label",w),_.setAttribute("title",M),s.setStyle(_.style,"display","inline-block"),s.setStyle(_.style,"height","inherit"),R&&R.onClick&&_.addEventListener("click",function(E){R.onClick(E,c),E.stopPropagation()}),x.element.appendChild(_)}},h.prototype.$removeCustomWidget=function(c,p){delete this.session.$gutterCustomWidgets[c],this.$showFoldWidget(c,p);var g=p||this.$getGutterCell(c);if(g&&g.element){var y=g.element.querySelector(".ace_custom-widget");y&&g.element.removeChild(y)}},h.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var c=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(c.borderLeftWidth)||0)+(parseInt(c.paddingLeft)||0)+1,this.$padding.right=(parseInt(c.borderRightWidth)||0)+(parseInt(c.paddingRight)||0),this.$padding},h.prototype.getRegion=function(c){var p=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(c.x<p.left+g.left)return"markers";if(this.$showFoldWidgets&&c.x>g.right-p.right)return"foldWidgets"},h})();f.prototype.$fixedWidth=!1,f.prototype.$highlightGutterLine=!0,f.prototype.$renderer=void 0,f.prototype.$showLineNumbers=!0,f.prototype.$showFoldWidgets=!0,l.implement(f.prototype,o);function u(h){var c=document.createTextNode("");h.appendChild(c);var p=s.createElement("span");h.appendChild(p);var g=s.createElement("span");h.appendChild(g);var y=s.createElement("span");return g.appendChild(y),h}n.Gutter=f}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,n,i){var s=t("../range").Range,l=t("../lib/dom"),m=(function(){function d(a){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)}return d.prototype.setPadding=function(a){this.$padding=a},d.prototype.setSession=function(a){this.session=a},d.prototype.setMarkers=function(a){this.markers=a},d.prototype.elt=function(a,f){var u=this.i!=-1&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=f,u.className=a},d.prototype.update=function(a){if(a){this.config=a,this.i=0;var f;for(var u in this.markers){var h=this.markers[u];if(!h.range){h.update(f,this,this.session,a);continue}var c=h.range.clipRows(a.firstRow,a.lastRow);if(!c.isEmpty())if(c=c.toScreenRange(this.session),h.renderer){var p=this.$getTop(c.start.row,a),g=this.$padding+c.start.column*a.characterWidth;h.renderer(f,c,g,p,a)}else h.type=="fullLine"?this.drawFullLineMarker(f,c,h.clazz,a):h.type=="screenLine"?this.drawScreenLineMarker(f,c,h.clazz,a):c.isMultiLine()?h.type=="text"?this.drawTextMarker(f,c,h.clazz,a):this.drawMultiLineMarker(f,c,h.clazz,a):this.drawSingleLineMarker(f,c,h.clazz+" ace_start ace_br15",a)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},d.prototype.$getTop=function(a,f){return(a-f.firstRowScreen)*f.lineHeight},d.prototype.drawTextMarker=function(a,f,u,h,c){for(var p=this.session,g=f.start.row,y=f.end.row,w=g,M=0,R=0,x=p.getScreenLastRowColumn(w),_=new s(w,f.start.column,w,R);w<=y;w++)_.start.row=_.end.row=w,_.start.column=w==g?f.start.column:p.getRowWrapIndent(w),_.end.column=x,M=R,R=x,x=w+1<y?p.getScreenLastRowColumn(w+1):w==y?0:f.end.column,this.drawSingleLineMarker(a,_,u+(w==g?" ace_start":"")+" ace_br"+o(w==g||w==g+1&&f.start.column,M<R,R>x,w==y),h,w==y?0:1,c)},d.prototype.drawMultiLineMarker=function(a,f,u,h,c){var p=this.$padding,g=h.lineHeight,y=this.$getTop(f.start.row,h),w=p+f.start.column*h.characterWidth;if(c=c||"",this.session.$bidiHandler.isBidiRow(f.start.row)){var M=f.clone();M.end.row=M.start.row,M.end.column=this.session.getLine(M.start.row).length,this.drawBidiSingleLineMarker(a,M,u+" ace_br1 ace_start",h,null,c)}else this.elt(u+" ace_br1 ace_start","height:"+g+"px;right:"+p+"px;top:"+y+"px;left:"+w+"px;"+(c||""));if(this.session.$bidiHandler.isBidiRow(f.end.row)){var M=f.clone();M.start.row=M.end.row,M.start.column=0,this.drawBidiSingleLineMarker(a,M,u+" ace_br12",h,null,c)}else{y=this.$getTop(f.end.row,h);var R=f.end.column*h.characterWidth;this.elt(u+" ace_br12","height:"+g+"px;width:"+R+"px;top:"+y+"px;left:"+p+"px;"+(c||""))}if(g=(f.end.row-f.start.row-1)*h.lineHeight,!(g<=0)){y=this.$getTop(f.start.row+1,h);var x=(f.start.column?1:0)|(f.end.column?0:8);this.elt(u+(x?" ace_br"+x:""),"height:"+g+"px;right:"+p+"px;top:"+y+"px;left:"+p+"px;"+(c||""))}},d.prototype.drawSingleLineMarker=function(a,f,u,h,c,p){if(this.session.$bidiHandler.isBidiRow(f.start.row))return this.drawBidiSingleLineMarker(a,f,u,h,c,p);var g=h.lineHeight,y=(f.end.column+(c||0)-f.start.column)*h.characterWidth,w=this.$getTop(f.start.row,h),M=this.$padding+f.start.column*h.characterWidth;this.elt(u,"height:"+g+"px;width:"+y+"px;top:"+w+"px;left:"+M+"px;"+(p||""))},d.prototype.drawBidiSingleLineMarker=function(a,f,u,h,c,p){var g=h.lineHeight,y=this.$getTop(f.start.row,h),w=this.$padding,M=this.session.$bidiHandler.getSelections(f.start.column,f.end.column);M.forEach(function(R){this.elt(u,"height:"+g+"px;width:"+(R.width+(c||0))+"px;top:"+y+"px;left:"+(w+R.left)+"px;"+(p||""))},this)},d.prototype.drawFullLineMarker=function(a,f,u,h,c){var p=this.$getTop(f.start.row,h),g=h.lineHeight;f.start.row!=f.end.row&&(g+=this.$getTop(f.end.row,h)-p),this.elt(u,"height:"+g+"px;top:"+p+"px;left:0;right:0;"+(c||""))},d.prototype.drawScreenLineMarker=function(a,f,u,h,c){var p=this.$getTop(f.start.row,h),g=h.lineHeight;this.elt(u,"height:"+g+"px;top:"+p+"px;left:0;right:0;"+(c||""))},d})();m.prototype.$padding=0;function o(d,a,f,u){return(d?1:0)|(a?2:0)|(f?4:0)|(u?8:0)}n.Marker=m}),ace.define("ace/layer/text_util",["require","exports","module"],function(t,n,i){var s=new Set(["text","rparen","lparen"]);n.isTextToken=function(l){return s.has(l)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(t,n,i){var s=t("../lib/oop"),l=t("../lib/dom"),m=t("../lib/lang"),o=t("./lines").Lines,d=t("../lib/event_emitter").EventEmitter,a=t("../config").nls,f=t("./text_util").isTextToken,u=(function(){function h(c){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",c.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return h.prototype.$updateEolChar=function(){var c=this.session.doc,p=c.getNewLineCharacter()==`
`&&c.getNewLineMode()!="windows",g=p?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},h.prototype.setPadding=function(c){this.$padding=c,this.element.style.margin="0 "+c+"px"},h.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},h.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},h.prototype.$setFontMetrics=function(c){this.$fontMetrics=c,this.$fontMetrics.on("changeCharacterSize",function(p){this._signal("changeCharacterSize",p)}.bind(this)),this.$pollSizeChanges()},h.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},h.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},h.prototype.setSession=function(c){this.session=c,c&&this.$computeTabString()},h.prototype.setShowInvisibles=function(c){return this.showInvisibles==c?!1:(this.showInvisibles=c,typeof c=="string"?(this.showSpaces=/tab/i.test(c),this.showTabs=/space/i.test(c),this.showEOL=/eol/i.test(c)):this.showSpaces=this.showTabs=this.showEOL=c,this.$computeTabString(),!0)},h.prototype.setDisplayIndentGuides=function(c){return this.displayIndentGuides==c?!1:(this.displayIndentGuides=c,this.$computeTabString(),!0)},h.prototype.setHighlightIndentGuides=function(c){return this.$highlightIndentGuides===c?!1:(this.$highlightIndentGuides=c,c)},h.prototype.$computeTabString=function(){var c=this.session.getTabSize();this.tabSize=c;for(var p=this.$tabStrings=[0],g=1;g<c+1;g++)if(this.showTabs){var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_tab",y.textContent=m.stringRepeat(this.TAB_CHAR,g),p.push(y)}else p.push(this.dom.createTextNode(m.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var w="ace_indent-guide",M=this.showSpaces?" ace_invisible ace_invisible_space":"",R=this.showSpaces?m.stringRepeat(this.SPACE_CHAR,this.tabSize):m.stringRepeat(" ",this.tabSize),x=this.showTabs?" ace_invisible ace_invisible_tab":"",_=this.showTabs?m.stringRepeat(this.TAB_CHAR,this.tabSize):R,y=this.dom.createElement("span");y.className=w+M,y.textContent=R,this.$tabStrings[" "]=y;var y=this.dom.createElement("span");y.className=w+x,y.textContent=_,this.$tabStrings["	"]=y}},h.prototype.updateLines=function(c,p,g){if(this.config.lastRow!=c.lastRow||this.config.firstRow!=c.firstRow)return this.update(c);this.config=c;for(var y=Math.max(p,c.firstRow),w=Math.min(g,c.lastRow),M=this.element.childNodes,R=0,_=c.firstRow;_<y;_++){var E=this.session.getFoldLine(_);if(E)if(E.containsRow(y)){y=E.start.row;break}else _=E.end.row;R++}for(var x=!1,_=y,E=this.session.getNextFoldLine(_),k=E?E.start.row:1/0;_>k&&(_=E.end.row+1,E=this.session.getNextFoldLine(_,E),k=E?E.start.row:1/0),!(_>w);){var T=M[R++];if(T){this.dom.removeChildren(T),this.$renderLine(T,_,_==k?E:!1),x&&(T.style.top=this.$lines.computeLineTop(_,c,this.session)+"px");var I=c.lineHeight*this.session.getRowLength(_)+"px";T.style.height!=I&&(x=!0,T.style.height=I)}_++}if(x)for(;R<this.$lines.cells.length;){var O=this.$lines.cells[R++];O.element.style.top=this.$lines.computeLineTop(O.row,c,this.session)+"px"}},h.prototype.scrollLines=function(c){var p=this.config;if(this.config=c,this.$lines.pageChanged(p,c))return this.update(c);this.$lines.moveContainer(c);var g=c.lastRow,y=p?p.lastRow:-1;if(!p||y<c.firstRow)return this.update(c);if(g<p.firstRow)return this.update(c);if(!p||p.lastRow<c.firstRow)return this.update(c);if(c.lastRow<p.firstRow)return this.update(c);if(p.firstRow<c.firstRow)for(var w=this.session.getFoldedRowCount(p.firstRow,c.firstRow-1);w>0;w--)this.$lines.shift();if(p.lastRow>c.lastRow)for(var w=this.session.getFoldedRowCount(c.lastRow+1,p.lastRow);w>0;w--)this.$lines.pop();c.firstRow<p.firstRow&&this.$lines.unshift(this.$renderLinesFragment(c,c.firstRow,p.firstRow-1)),c.lastRow>p.lastRow&&this.$lines.push(this.$renderLinesFragment(c,p.lastRow+1,c.lastRow)),this.$highlightIndentGuide()},h.prototype.$renderLinesFragment=function(c,p,g){for(var y=[],w=p,M=this.session.getNextFoldLine(w),R=M?M.start.row:1/0;w>R&&(w=M.end.row+1,M=this.session.getNextFoldLine(w,M),R=M?M.start.row:1/0),!(w>g);){var x=this.$lines.createCell(w,c,this.session),_=x.element;this.dom.removeChildren(_),l.setStyle(_.style,"height",this.$lines.computeLineHeight(w,c,this.session)+"px"),l.setStyle(_.style,"top",this.$lines.computeLineTop(w,c,this.session)+"px"),this.$renderLine(_,w,w==R?M:!1),this.$useLineGroups()?_.className="ace_line_group":_.className="ace_line",y.push(x),w++}return y},h.prototype.update=function(c){this.$lines.moveContainer(c),this.config=c;for(var p=c.firstRow,g=c.lastRow,y=this.$lines;y.getLength();)y.pop();y.push(this.$renderLinesFragment(c,p,g))},h.prototype.$renderToken=function(c,p,g,y){for(var w=this,M=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,R=this.dom.createFragment(this.element),x,_=0;x=M.exec(y);){var E=x[1],k=x[2],T=x[3],I=x[4],O=x[5];if(!(!w.showSpaces&&k)){var C=_!=x.index?y.slice(_,x.index):"";if(_=x.index+x[0].length,C&&R.appendChild(this.dom.createTextNode(C,this.element)),E){var b=w.session.getScreenTabSize(p+x.index),A=w.$tabStrings[b].cloneNode(!0);A.charCount=1,R.appendChild(A),p+=b-1}else if(k)if(w.showSpaces){var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_space",S.textContent=m.stringRepeat(w.SPACE_CHAR,k.length),R.appendChild(S)}else R.appendChild(this.dom.createTextNode(k,this.element));else if(T){var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_space ace_invalid",S.textContent=m.stringRepeat(w.SPACE_CHAR,T.length),R.appendChild(S)}else if(I){p+=1;var S=this.dom.createElement("span");S.style.width=w.config.characterWidth*2+"px",S.className=w.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",S.textContent=w.showSpaces?w.SPACE_CHAR:I,R.appendChild(S)}else if(O){p+=1;var S=this.dom.createElement("span");S.style.width=w.config.characterWidth*2+"px",S.className="ace_cjk",S.textContent=O,R.appendChild(S)}}}if(R.appendChild(this.dom.createTextNode(_?y.slice(_):y,this.element)),f(g.type))c.appendChild(R);else{var L="ace_"+g.type.replace(/\./g," ace_"),S=this.dom.createElement("span");g.type=="fold"&&(S.style.width=g.value.length*this.config.characterWidth+"px",S.setAttribute("title",a("inline-fold.closed.title","Unfold code"))),S.className=L,S.appendChild(R),c.appendChild(S)}return p+y.length},h.prototype.renderIndentGuide=function(c,p,g){var y=p.search(this.$indentGuideRe);if(y<=0||y>=g)return p;if(p[0]==" "){y-=y%this.tabSize;for(var w=y/this.tabSize,M=0;M<w;M++)c.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),p.substr(y)}else if(p[0]=="	"){for(var M=0;M<y;M++)c.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),p.substr(y)}return this.$highlightIndentGuide(),p},h.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var c=this.session.doc.$lines;if(c){var p=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(p.row))[0].length,y=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:y,start:p.row};var w=this.session.$bracketHighlight;if(w){for(var M=this.session.$bracketHighlight.ranges,R=0;R<M.length;R++)if(p.row!==M[R].start.row){this.$highlightIndentGuideMarker.end=M[R].start.row+1,p.row>M[R].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&c[p.row]!==""&&p.column===c[p.row].length){this.$highlightIndentGuideMarker.dir=1;for(var R=p.row+1;R<c.length;R++){var x=c[R],_=/^\s*/.exec(x)[0].length;if(x!==""&&(this.$highlightIndentGuideMarker.end=R,_<=g))break}}this.$renderHighlightIndentGuide()}}},h.prototype.$clearActiveIndentGuide=function(){for(var c=this.element.querySelectorAll(".ace_indent-guide-active"),p=0;p<c.length;p++)c[p].classList.remove("ace_indent-guide-active")},h.prototype.$setIndentGuideActive=function(c,p){var g=this.session.doc.getLine(c.row);if(g!==""){var y=c.element;if(c.element.classList&&c.element.classList.contains("ace_line_group"))if(c.element.childNodes.length>0)y=c.element.childNodes[0];else return;var w=y.childNodes;if(w){var M=w[p-1];M&&M.classList&&M.classList.contains("ace_indent-guide")&&M.classList.add("ace_indent-guide-active")}}},h.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var c=this.$lines.cells;this.$clearActiveIndentGuide();var p=this.$highlightIndentGuideMarker.indentLevel;if(p!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<c.length;g++){var y=c[g];if(this.$highlightIndentGuideMarker.end&&y.row>=this.$highlightIndentGuideMarker.start+1){if(y.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,p)}}else for(var g=c.length-1;g>=0;g--){var y=c[g];if(this.$highlightIndentGuideMarker.end&&y.row<this.$highlightIndentGuideMarker.start){if(y.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,p)}}}},h.prototype.$createLineElement=function(c){var p=this.dom.createElement("div");return p.className="ace_line",p.style.height=this.config.lineHeight+"px",p},h.prototype.$renderWrappedLine=function(c,p,g){var y=0,w=0,M=g[0],R=0,x=this.$createLineElement();c.appendChild(x);for(var _=0;_<p.length;_++){var E=p[_],k=E.value;if(_==0&&this.displayIndentGuides){if(y=k.length,k=this.renderIndentGuide(x,k,M),!k)continue;y-=k.length}if(y+k.length<M)R=this.$renderToken(x,R,E,k),y+=k.length;else{for(;y+k.length>=M;){R=this.$renderToken(x,R,E,k.substring(0,M-y)),k=k.substring(M-y),y=M,x=this.$createLineElement(),c.appendChild(x);var T=this.dom.createTextNode(m.stringRepeat("",g.indent),this.element);T.charCount=0,x.appendChild(T),w++,R=0,M=g[w]||Number.MAX_VALUE}k.length!=0&&(y+=k.length,R=this.$renderToken(x,R,E,k))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(x,R,null,"",!0)},h.prototype.$renderSimpleLine=function(c,p){for(var g=0,y=0;y<p.length;y++){var w=p[y],M=w.value;if(!(y==0&&this.displayIndentGuides&&(M=this.renderIndentGuide(c,M),!M))){if(g+M.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(c,g,w,M);g=this.$renderToken(c,g,w,M)}}},h.prototype.$renderOverflowMessage=function(c,p,g,y,w){g&&this.$renderToken(c,p,g,y.slice(0,this.MAX_LINE_LENGTH-p));var M=this.dom.createElement("span");M.className="ace_inline_button ace_keyword ace_toggle_wrap",M.textContent=w?"<hide>":"<click to see more...>",c.appendChild(M)},h.prototype.$renderLine=function(c,p,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(p)),g)var y=this.$getFoldLineTokens(p,g);else var y=this.session.getTokens(p);var w=c;if(y.length){var M=this.session.getRowSplitData(p);if(M&&M.length){this.$renderWrappedLine(c,y,M);var w=c.lastChild}else{var w=c;this.$useLineGroups()&&(w=this.$createLineElement(),c.appendChild(w)),this.$renderSimpleLine(w,y)}}else this.$useLineGroups()&&(w=this.$createLineElement(),c.appendChild(w));if(this.showEOL&&w){g&&(p=g.end.row);var R=this.dom.createElement("span");R.className="ace_invisible ace_invisible_eol",R.textContent=p==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,w.appendChild(R)}},h.prototype.$getFoldLineTokens=function(c,p){var g=this.session,y=[];function w(R,x,_){for(var E=0,k=0;k+R[E].value.length<x;)if(k+=R[E].value.length,E++,E==R.length)return;if(k!=x){var T=R[E].value.substring(x-k);T.length>_-x&&(T=T.substring(0,_-x)),y.push({type:R[E].type,value:T}),k=x+T.length,E+=1}for(;k<_&&E<R.length;){var T=R[E].value;T.length+k>_?y.push({type:R[E].type,value:T.substring(0,_-k)}):y.push(R[E]),k+=T.length,E+=1}}var M=g.getTokens(c);return p.walk(function(R,x,_,E,k){R!=null?y.push({type:"fold",value:R}):(k&&(M=g.getTokens(x)),M.length&&w(M,E,_))},p.end.row,this.session.getLine(p.end.row).length),y},h.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},h})();u.prototype.EOF_CHAR="",u.prototype.EOL_CHAR_LF="",u.prototype.EOL_CHAR_CRLF="",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="",u.prototype.SPACE_CHAR="",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,s.implement(u.prototype,d),n.Text=u}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,n,i){var s=t("../lib/dom"),l=(function(){function m(o){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return m.prototype.$updateOpacity=function(o){for(var d=this.cursors,a=d.length;a--;)s.setStyle(d[a].style,"opacity",o?"":"0")},m.prototype.$startCssAnimation=function(){for(var o=this.cursors,d=o.length;d--;)o[d].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&s.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},m.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,s.removeCssClass(this.element,"ace_animate-blinking")},m.prototype.setPadding=function(o){this.$padding=o},m.prototype.setSession=function(o){this.session=o},m.prototype.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},m.prototype.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},m.prototype.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,s.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},m.prototype.addCursor=function(){var o=s.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},m.prototype.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},m.prototype.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,s.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&s.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),s.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var d=function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){o(!0),d()},this.blinkInterval),d()}},m.prototype.getPixelPosition=function(o,d){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(o),f=this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,o.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),u=(a.row-(d?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:f,top:u}},m.prototype.isCursorInView=function(o,d){return o.top>=0&&o.top<d.maxHeight},m.prototype.update=function(o){this.config=o;var d=this.session.$selectionMarkers,a=0,f=0;(d===void 0||d.length===0)&&(d=[{cursor:null}]);for(var a=0,u=d.length;a<u;a++){var h=this.getPixelPosition(d[a].cursor,!0);if(!((h.top>o.height+o.offset||h.top<0)&&a>1)){var c=this.cursors[f++]||this.addCursor(),p=c.style;this.drawCursor?this.drawCursor(c,h,o,d[a],this.session):this.isCursorInView(h,o)?(s.setStyle(p,"display","block"),s.translate(c,h.left,h.top),s.setStyle(p,"width",Math.round(o.characterWidth)+"px"),s.setStyle(p,"height",o.lineHeight+"px")):s.setStyle(p,"display","none")}}for(;this.cursors.length>f;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=h,this.restartTimer()},m.prototype.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},m.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},m})();l.prototype.$padding=0,l.prototype.drawCursor=null,n.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,n,i){var s=this&&this.__extends||(function(){var c=function(p,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&(y[M]=w[M])},c(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(p,g);function y(){this.constructor=p}p.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),l=t("./lib/oop"),m=t("./lib/dom"),o=t("./lib/event"),d=t("./lib/event_emitter").EventEmitter,a=32768,f=(function(){function c(p,g){this.element=m.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=m.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return c.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},c})();l.implement(f.prototype,d);var u=(function(c){s(p,c);function p(g,y){var w=c.call(this,g,"-v")||this;return w.scrollTop=0,w.scrollHeight=0,y.$scrollbarWidth=w.width=m.scrollbarWidth(g.ownerDocument),w.inner.style.width=w.element.style.width=(w.width||15)+5+"px",w.$minWidth=0,w}return p.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(g){this.element.style.height=g+"px"},p.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>a?(this.coeff=a/g,g=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},p.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},p})(f);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var h=(function(c){s(p,c);function p(g,y){var w=c.call(this,g,"-h")||this;return w.scrollLeft=0,w.height=y.$scrollbarWidth,w.inner.style.height=w.element.style.height=(w.height||15)+5+"px",w}return p.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.setWidth=function(g){this.element.style.width=g+"px"},p.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},p.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},p.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},p})(f);n.ScrollBar=u,n.ScrollBarV=u,n.ScrollBarH=h,n.VScrollBar=u,n.HScrollBar=h}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,n,i){var s=this&&this.__extends||(function(){var h=function(c,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(g[w]=y[w])},h(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(c,p);function g(){this.constructor=c}c.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}})(),l=t("./lib/oop"),m=t("./lib/dom"),o=t("./lib/event"),d=t("./lib/event_emitter").EventEmitter;m.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var a=(function(){function h(c,p){this.element=m.createElement("div"),this.element.className="ace_sb"+p,this.inner=m.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,c.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return h.prototype.setVisible=function(c){this.element.style.display=c?"":"none",this.isVisible=c,this.coeff=1},h})();l.implement(a.prototype,d);var f=(function(h){s(c,h);function c(p,g){var y=h.call(this,p,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,y.parent=p,y.width=y.VScrollWidth,y.renderer=g,y.inner.style.width=y.element.style.width=(y.width||15)+"px",y.$minWidth=0,y}return c.prototype.onMouseDown=function(p,g){if(p==="mousedown"&&!(o.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,w=g.clientY,M=function(I){w=I.clientY},R=function(){clearInterval(k)},x=g.clientY,_=this.thumbTop,E=function(){if(w!==void 0){var I=y.scrollTopFromThumbTop(_+w-x);I!==y.scrollTop&&y._emit("scroll",{data:I})}};o.capture(this.inner,M,R);var k=setInterval(E,20);return o.preventDefault(g)}var T=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),o.preventDefault(g)}},c.prototype.getHeight=function(){return this.height},c.prototype.scrollTopFromThumbTop=function(p){var g=p*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},c.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},c.prototype.setHeight=function(p){this.height=Math.max(0,p),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},c.prototype.setScrollHeight=function(p,g){this.pageHeight===p&&!g||(this.pageHeight=p,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},c.prototype.setScrollTop=function(p){this.scrollTop=p,p<0&&(p=0),this.thumbTop=p*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},c})(a);f.prototype.setInnerHeight=f.prototype.setScrollHeight;var u=(function(h){s(c,h);function c(p,g){var y=h.call(this,p,"-h")||this;return y.scrollLeft=0,y.scrollWidth=0,y.height=y.HScrollHeight,y.inner.style.height=y.element.style.height=(y.height||12)+"px",y.renderer=g,y}return c.prototype.onMouseDown=function(p,g){if(p==="mousedown"&&!(o.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,w=g.clientX,M=function(I){w=I.clientX},R=function(){clearInterval(k)},x=g.clientX,_=this.thumbLeft,E=function(){if(w!==void 0){var I=y.scrollLeftFromThumbLeft(_+w-x);I!==y.scrollLeft&&y._emit("scroll",{data:I})}};o.capture(this.inner,M,R);var k=setInterval(E,20);return o.preventDefault(g)}var T=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),o.preventDefault(g)}},c.prototype.getHeight=function(){return this.isVisible?this.height:0},c.prototype.scrollLeftFromThumbLeft=function(p){var g=p*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},c.prototype.setWidth=function(p){this.width=Math.max(0,p),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},c.prototype.setScrollWidth=function(p,g){this.pageWidth===p&&!g||(this.pageWidth=p,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},c.prototype.setScrollLeft=function(p){this.scrollLeft=p,p<0&&(p=0),this.thumbLeft=p*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},c})(a);u.prototype.setInnerWidth=u.prototype.setScrollWidth,n.ScrollBar=f,n.ScrollBarV=f,n.ScrollBarH=u,n.VScrollBar=f,n.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,n,i){var s=t("./lib/event"),l=(function(){function m(o,d){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=d||window;var a=this;this._flush=function(f){a.pending=!1;var u=a.changes;if(u&&(s.blockIdle(100),a.changes=0,a.onRender(u)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}}return m.prototype.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(s.nextFrame(this._flush),this.pending=!0)},m.prototype.clear=function(o){var d=this.changes;return this.changes=0,d},m})();n.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,n,i){var s=t("../lib/oop"),l=t("../lib/dom"),m=t("../lib/lang"),o=t("../lib/event"),d=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,f=512,u=typeof ResizeObserver=="function",h=200,c=(function(){function p(g){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=m.stringRepeat("X",f),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}return p.prototype.$setMeasureNodeStyles=function(g,y){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",d.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=y?"hidden":"visible"},p.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var y=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=y&&y.width===g.width&&y.height===g.height,this._emit("changeCharacterSize",{data:g})}},p.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(y){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},p.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=o.onIdle(function y(){g.checkForSizeChanges(),o.onIdle(y,500)},500)},p.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},p.prototype.$measureSizes=function(g){var y={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/f};return y.width===0||y.height===0?null:y},p.prototype.$measureCharWidth=function(g){this.$main.textContent=m.stringRepeat(g,f);var y=this.$main.getBoundingClientRect();return y.width/f},p.prototype.getCharacterWidth=function(g){var y=this.charSizes[g];return y===void 0&&(y=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),y},p.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},p.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(Number(window.getComputedStyle(g).zoom)||1)*this.$getZoom(g.parentElement)},p.prototype.$initTransformMeasureNodes=function(){var g=function(y,w){return["div",{style:"position: absolute;top:"+y+"px;left:"+w+"px;"}]};this.els=l.buildDom([g(0,0),g(h,0),g(0,h),g(h,h)],this.el)},p.prototype.transformCoordinates=function(g,y){if(g){var w=this.$getZoom(this.el);g=_(1/w,g)}function M(W,G,J){var K=W[1]*G[0]-W[0]*G[1];return[(-G[1]*J[0]+G[0]*J[1])/K,(+W[1]*J[0]-W[0]*J[1])/K]}function R(W,G){return[W[0]-G[0],W[1]-G[1]]}function x(W,G){return[W[0]+G[0],W[1]+G[1]]}function _(W,G){return[W*G[0],W*G[1]]}this.els||this.$initTransformMeasureNodes();function E(W){var G=W.getBoundingClientRect();return[G.left,G.top]}var k=E(this.els[0]),T=E(this.els[1]),I=E(this.els[2]),O=E(this.els[3]),C=M(R(O,T),R(O,I),R(x(T,I),x(O,k))),b=_(1+C[0],R(T,k)),A=_(1+C[1],R(I,k));if(y){var S=y,L=C[0]*S[0]/h+C[1]*S[1]/h+1,P=x(_(S[0],b),_(S[1],A));return x(_(1/L/h,P),k)}var V=R(g,k),B=M(R(b,_(C[0],V)),R(A,_(C[1],V)),V);return _(h,B)},p})();c.prototype.$characterSize={width:0,height:0},s.implement(c.prototype,a),n.FontMetrics=c}),ace.define("ace/css/editor-css",["require","exports","module"],function(t,n,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,n,i){var s=t("../lib/dom"),l=t("../lib/oop"),m=t("../lib/event_emitter").EventEmitter,o=(function(){function d(a,f){this.renderer=f,this.pixelRatio=1,this.maxHeight=f.layerConfig.maxHeight,this.lineHeight=f.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(a)}return d.prototype.$createCanvas=function(){this.canvas=s.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},d.prototype.setScrollBarV=function(a){this.$createCanvas(),this.scrollbarV=a,a.element.appendChild(this.canvas),this.setDimensions()},d.prototype.$updateDecorators=function(a){if(typeof this.canvas.getContext!="function")return;var f=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(a);var u=this.canvas.getContext("2d");function h(b,A){return b.priority<A.priority?-1:b.priority>A.priority?1:0}var c=this.renderer.session.$annotations;if(u.clearRect(0,0,this.canvas.width,this.canvas.height),c){var p={info:1,warning:2,error:3};c.forEach(function(b){b.priority=p[b.type]||null}),c=c.sort(h);for(var g=0;g<c.length;g++){var y=c[g].row,w=this.getVerticalOffsetForRow(y),M=w+this.lineHeight,R=Math.round(this.heightRatio*w),x=Math.round(this.heightRatio*M),_=Math.round((R+x)/2),E=x-_;E<this.halfMinDecorationHeight&&(E=this.halfMinDecorationHeight),_-E<0&&(_=E),_+E>this.canvasHeight&&(_=this.canvasHeight-E);var k=_-E,T=_+E,I=T-k;u.fillStyle=f[c[g].type]||null,u.fillRect(0,k,Math.round(this.oneZoneWidth-1),I)}}var O=this.renderer.session.selection.getCursor();if(O){var C=Math.round(this.getVerticalOffsetForRow(O.row)*this.heightRatio);u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,C,this.canvasWidth,2)}},d.prototype.getVerticalOffsetForRow=function(a){a=a|0;var f=this.renderer.session.documentToScreenRow(a,0)*this.lineHeight;return f},d.prototype.setDimensions=function(a){a=a||this.renderer.layerConfig,this.maxHeight=a.maxHeight,this.lineHeight=a.lineHeight,this.canvasHeight=a.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},d.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},d.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},d})();l.implement(o.prototype,m),n.Decorator=o}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(t,n,i){var s=t("./lib/oop"),l=t("./lib/dom"),m=t("./lib/lang"),o=t("./config"),d=t("./layer/gutter").Gutter,a=t("./layer/marker").Marker,f=t("./layer/text").Text,u=t("./layer/cursor").Cursor,h=t("./scrollbar").HScrollBar,c=t("./scrollbar").VScrollBar,p=t("./scrollbar_custom").HScrollBar,g=t("./scrollbar_custom").VScrollBar,y=t("./renderloop").RenderLoop,w=t("./layer/font_metrics").FontMetrics,M=t("./lib/event_emitter").EventEmitter,R=t("./css/editor-css"),x=t("./layer/decorators").Decorator,_=t("./lib/useragent"),E=t("./layer/text_util").isTextToken;l.importCssString(R,"ace_editor.css",!1);var k=(function(){function T(I,O){var C=this;this.container=I||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(O),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new d(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var b=this.$textLayer=new f(this.content);this.canvas=b.element,this.$markerFront=new a(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",function(A){C.$scrollAnimation||C.session.setScrollTop(A.data-C.scrollMargin.top)}),this.scrollBarH.on("scroll",function(A){C.$scrollAnimation||C.session.setScrollLeft(A.data-C.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new w(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(A){C.updateCharacterSize(),C.onResize(!0,C.gutterWidth,C.$size.width,C.$size.height),C._signal("changeCharacterSize",A)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new y(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(I){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=I,I&&this.scrollMargin.top&&I.getScrollTop()<=0&&I.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(I),this.$markerBack.setSession(I),this.$markerFront.setSession(I),this.$gutterLayer.setSession(I),this.$textLayer.setSession(I),I&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(I,O,C){if(O===void 0&&(O=1/0),this.$changedLines?(this.$changedLines.firstRow>I&&(this.$changedLines.firstRow=I),this.$changedLines.lastRow<O&&(this.$changedLines.lastRow=O)):this.$changedLines={firstRow:I,lastRow:O},this.$changedLines.lastRow<this.layerConfig.firstRow)if(C)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(I){I?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(I,O,C,b){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=I?1:0;var A=this.container;b||(b=A.clientHeight||A.scrollHeight),!b&&this.$maxLines&&this.lineHeight>1&&(!A.style.height||A.style.height=="0px")&&(A.style.height="1px",b=A.clientHeight||A.scrollHeight),C||(C=A.clientWidth||A.scrollWidth);var S=this.$updateCachedSize(I,O,C,b);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!C&&!b)return this.resizing=0;I&&(this.$gutterLayer.$padding=null),I?this.$renderChanges(S|this.$changes,!0):this.$loop.schedule(S|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(I,O,C,b){b-=this.$extraHeight||0;var A=0,S=this.$size,L={width:S.width,height:S.height,scrollerHeight:S.scrollerHeight,scrollerWidth:S.scrollerWidth};if(b&&(I||S.height!=b)&&(S.height=b,A|=this.CHANGE_SIZE,S.scrollerHeight=S.height,this.$horizScroll&&(S.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(S.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",A=A|this.CHANGE_SCROLL),C&&(I||S.width!=C)){A|=this.CHANGE_SIZE,S.width=C,O==null&&(O=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=O,l.setStyle(this.scrollBarH.element.style,"left",O+"px"),l.setStyle(this.scroller.style,"left",O+this.margin.left+"px"),S.scrollerWidth=Math.max(0,C-O-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var P=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",P),l.setStyle(this.scroller.style,"right",P),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(S.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||I)&&(A|=this.CHANGE_FULL)}return S.$dirty=!C||!b,A&&this._signal("resize",L),A},T.prototype.onGutterResize=function(I){var O=this.$showGutter?I:0;O!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,O,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var I=this.$size.scrollerWidth-this.$padding*2,O=Math.floor(I/this.characterWidth);return this.session.adjustWrapLimit(O,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(I){this.setOption("animatedScroll",I)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(I){this.setOption("showInvisibles",I),this.session.$bidiHandler.setShowInvisibles(I)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(I){this.setOption("displayIndentGuides",I)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(I){this.setOption("highlightIndentGuides",I)},T.prototype.setShowPrintMargin=function(I){this.setOption("showPrintMargin",I)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(I){this.setOption("printMarginColumn",I)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(I){return this.setOption("showGutter",I)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(I){this.setOption("fadeFoldWidgets",I)},T.prototype.setHighlightGutterLine=function(I){this.setOption("highlightGutterLine",I)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var I=l.createElement("div");I.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",I.appendChild(this.$printMarginEl),this.content.insertBefore(I,this.content.firstChild)}var O=this.$printMarginEl.style;O.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",O.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var I=this.textarea.style,O=this.$composition;if(!this.$keepTextAreaAtCursor&&!O){l.translate(this.textarea,-100,0);return}var C=this.$cursorLayer.$pixelPos;if(C){O&&O.markerRange&&(C=this.$cursorLayer.getPixelPosition(O.markerRange.start,!0));var b=this.layerConfig,A=C.top,S=C.left;A-=b.offset;var L=O&&O.useTextareaForIME||_.isMobile?this.lineHeight:1;if(A<0||A>b.height-L){l.translate(this.textarea,0,0);return}var P=1,V=this.$size.height-L;if(!O)A+=this.lineHeight;else if(O.useTextareaForIME){var B=this.textarea.value;P=this.characterWidth*this.session.$getStringScreenWidth(B)[0]}else A+=this.lineHeight+2;S-=this.scrollLeft,S>this.$size.scrollerWidth-P&&(S=this.$size.scrollerWidth-P),S+=this.gutterWidth+this.margin.left,l.setStyle(I,"height",L+"px"),l.setStyle(I,"width",P+"px"),l.translate(this.textarea,Math.min(S,this.$size.scrollerWidth-P),Math.min(A,V))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var I=this.layerConfig,O=I.lastRow,C=this.session.documentToScreenRow(O,0)*I.lineHeight;return C-this.session.getScrollTop()>I.height-I.lineHeight?O-1:O},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(I){this.$padding=I,this.$textLayer.setPadding(I),this.$cursorLayer.setPadding(I),this.$markerFront.setPadding(I),this.$markerBack.setPadding(I),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(I,O,C,b){var A=this.scrollMargin;A.top=I|0,A.bottom=O|0,A.right=b|0,A.left=C|0,A.v=A.top+A.bottom,A.h=A.left+A.right,A.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-A.top),this.updateFull()},T.prototype.setMargin=function(I,O,C,b){var A=this.margin;A.top=I|0,A.bottom=O|0,A.right=b|0,A.left=C|0,A.v=A.top+A.bottom,A.h=A.left+A.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(I){this.setOption("hScrollBarAlwaysVisible",I)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(I){this.setOption("vScrollBarAlwaysVisible",I)},T.prototype.$updateScrollBarV=function(){var I=this.layerConfig.maxHeight,O=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(I-=(O-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>I-O&&(I=this.scrollTop+O,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(I+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(I,O){if(this.$changes&&(I|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!I&&!O){this.$changes|=I;return}if(this.$size.$dirty)return this.$changes|=I,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",I),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var C=this.layerConfig;if(I&this.CHANGE_FULL||I&this.CHANGE_SIZE||I&this.CHANGE_TEXT||I&this.CHANGE_LINES||I&this.CHANGE_SCROLL||I&this.CHANGE_H_SCROLL){if(I|=this.$computeLayerConfig()|this.$loop.clear(),C.firstRow!=this.layerConfig.firstRow&&C.firstRowScreen==this.layerConfig.firstRowScreen){var b=this.scrollTop+(C.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;b>0&&(this.scrollTop=b,I=I|this.CHANGE_SCROLL,I|=this.$computeLayerConfig()|this.$loop.clear())}C=this.layerConfig,this.$updateScrollBarV(),I&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-C.offset);var A=C.width+2*this.$padding+"px",S=C.minHeight+"px";l.setStyle(this.content.style,"width",A),l.setStyle(this.content.style,"height",S)}if(I&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-C.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),I&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(C),this.$showGutter&&this.$gutterLayer.update(C),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C),this.$markerBack.update(C),this.$markerFront.update(C),this.$cursorLayer.update(C),this.$moveTextAreaToCursor(),this._signal("afterRender",I);return}if(I&this.CHANGE_SCROLL){this.$changedLines=null,I&this.CHANGE_TEXT||I&this.CHANGE_LINES?this.$textLayer.update(C):this.$textLayer.scrollLines(C),this.$showGutter&&(I&this.CHANGE_GUTTER||I&this.CHANGE_LINES?this.$gutterLayer.update(C):this.$gutterLayer.scrollLines(C)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C),this.$markerBack.update(C),this.$markerFront.update(C),this.$cursorLayer.update(C),this.$moveTextAreaToCursor(),this._signal("afterRender",I);return}I&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(C),this.$showGutter&&this.$gutterLayer.update(C),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C)):I&this.CHANGE_LINES?((this.$updateLines()||I&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(C),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C)):I&this.CHANGE_TEXT||I&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(C),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C)):I&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(C),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(C)),I&this.CHANGE_CURSOR&&(this.$cursorLayer.update(C),this.$moveTextAreaToCursor()),I&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(C),I&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(C),this._signal("afterRender",I)},T.prototype.$autosize=function(){var I=this.session.getScreenLength()*this.lineHeight,O=this.$maxLines*this.lineHeight,C=Math.min(O,Math.max((this.$minLines||1)*this.lineHeight,I))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(C+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&C>this.$maxPixelHeight&&(C=this.$maxPixelHeight);var b=C<=2*this.lineHeight,A=!b&&I>O;if(C!=this.desiredHeight||this.$size.height!=this.desiredHeight||A!=this.$vScroll){A!=this.$vScroll&&(this.$vScroll=A,this.scrollBarV.setVisible(A));var S=this.container.clientWidth;this.container.style.height=C+"px",this.$updateCachedSize(!0,this.$gutterWidth,S,C),this.desiredHeight=C,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var I=this.session,O=this.$size,C=O.height<=2*this.lineHeight,b=this.session.getScreenLength(),A=b*this.lineHeight,S=this.$getLongestLine(),L=!C&&(this.$hScrollBarAlwaysVisible||O.scrollerWidth-S-2*this.$padding<0),P=this.$horizScroll!==L;P&&(this.$horizScroll=L,this.scrollBarH.setVisible(L));var V=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),C=O.height<=2*this.lineHeight);var B=O.scrollerHeight+this.lineHeight,W=!this.$maxLines&&this.$scrollPastEnd?(O.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;A+=W;var G=this.scrollMargin;this.session.setScrollTop(Math.max(-G.top,Math.min(this.scrollTop,A-O.scrollerHeight+G.bottom))),this.session.setScrollLeft(Math.max(-G.left,Math.min(this.scrollLeft,S+2*this.$padding-O.scrollerWidth+G.right)));var J=!C&&(this.$vScrollBarAlwaysVisible||O.scrollerHeight-A+W<0||this.scrollTop>G.top),K=V!==J;K&&(this.$vScroll=J,this.scrollBarV.setVisible(J));var Q=this.scrollTop%this.lineHeight,X=Math.ceil(B/this.lineHeight)-1,Z=Math.max(0,Math.round((this.scrollTop-Q)/this.lineHeight)),re=Z+X,se,he,ce=this.lineHeight;Z=I.screenToDocumentRow(Z,0);var _e=I.getFoldLine(Z);_e&&(Z=_e.start.row),se=I.documentToScreenRow(Z,0),he=I.getRowLength(Z)*ce,re=Math.min(I.screenToDocumentRow(re,0),I.getLength()-1),B=O.scrollerHeight+I.getRowLength(re)*ce+he,Q=this.scrollTop-se*ce,Q<0&&se>0&&(se=Math.max(0,se+Math.floor(Q/ce)),Q=this.scrollTop-se*ce);var Le=0;return(this.layerConfig.width!=S||P)&&(Le=this.CHANGE_H_SCROLL),(P||K)&&(Le|=this.$updateCachedSize(!0,this.gutterWidth,O.width,O.height),this._signal("scrollbarVisibilityChanged"),K&&(S=this.$getLongestLine())),this.layerConfig={width:S,padding:this.$padding,firstRow:Z,firstRowScreen:se,lastRow:re,lineHeight:ce,characterWidth:this.characterWidth,minHeight:B,maxHeight:A,offset:Q,gutterOffset:ce?Math.max(0,Math.ceil((Q+O.height-O.scrollerHeight)/ce)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(S-this.$padding),Le},T.prototype.$updateLines=function(){if(this.$changedLines){var I=this.$changedLines.firstRow,O=this.$changedLines.lastRow;this.$changedLines=null;var C=this.layerConfig;if(!(I>C.lastRow+1)&&!(O<C.firstRow)){if(O===1/0){this.$showGutter&&this.$gutterLayer.update(C),this.$textLayer.update(C);return}return this.$textLayer.updateLines(C,I,O),!0}}},T.prototype.$getLongestLine=function(){var I=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(I+=1),this.$textLayer&&I>this.$textLayer.MAX_LINE_LENGTH&&(I=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(I*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(I,O){this.$gutterLayer.addGutterDecoration(I,O)},T.prototype.removeGutterDecoration=function(I,O){this.$gutterLayer.removeGutterDecoration(I,O)},T.prototype.updateBreakpoints=function(I){this._rows=I,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(I){this.$gutterLayer.setAnnotations(I),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(I,O,C){this.scrollCursorIntoView(I,C),this.scrollCursorIntoView(O,C)},T.prototype.scrollCursorIntoView=function(I,O,C){if(this.$size.scrollerHeight!==0){var b=this.$cursorLayer.getPixelPosition(I),A=b.left,S=b.top,L=C&&C.top||0,P=C&&C.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var V=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;V+L>S?(O&&V+L>S+this.lineHeight&&(S-=O*this.$size.scrollerHeight),S===0&&(S=-this.scrollMargin.top),this.session.setScrollTop(S)):V+this.$size.scrollerHeight-P<S+this.lineHeight&&(O&&V+this.$size.scrollerHeight-P<S-this.lineHeight&&(S+=O*this.$size.scrollerHeight),this.session.setScrollTop(S+this.lineHeight+P-this.$size.scrollerHeight));var B=this.scrollLeft,W=2*this.layerConfig.characterWidth;A-W<B?(A-=W,A<this.$padding+W&&(A=-this.scrollMargin.left),this.session.setScrollLeft(A)):(A+=W,B+this.$size.scrollerWidth<A+this.characterWidth?this.session.setScrollLeft(Math.round(A+this.characterWidth-this.$size.scrollerWidth)):B<=this.$padding&&A-B<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(I){this.session.setScrollTop(I*this.lineHeight)},T.prototype.alignCursor=function(I,O){typeof I=="number"&&(I={row:I,column:0});var C=this.$cursorLayer.getPixelPosition(I),b=this.$size.scrollerHeight-this.lineHeight,A=C.top-b*(O||0);return this.session.setScrollTop(A),A},T.prototype.$calcSteps=function(I,O){var C=0,b=this.STEPS,A=[],S=function(L,P,V){return V*(Math.pow(L-1,3)+1)+P};for(C=0;C<b;++C)A.push(S(C/this.STEPS,I,O-I));return A},T.prototype.scrollToLine=function(I,O,C,b){var A=this.$cursorLayer.getPixelPosition({row:I,column:0}),S=A.top;O&&(S-=this.$size.scrollerHeight/2);var L=this.scrollTop;this.session.setScrollTop(S),C!==!1&&this.animateScrolling(L,b)},T.prototype.animateScrolling=function(I,O){var C=this.scrollTop;if(!this.$animatedScroll)return;var b=this;if(I==C)return;if(this.$scrollAnimation){var A=this.$scrollAnimation.steps;if(A.length&&(I=A[0],I==C))return}var S=b.$calcSteps(I,C);this.$scrollAnimation={from:I,to:C,steps:S},clearInterval(this.$timer),b.session.setScrollTop(S.shift()),b.session.$scrollTop=C;function L(){b.$timer=clearInterval(b.$timer),b.$scrollAnimation=null,b.$stopAnimation=!1,O&&O()}this.$timer=setInterval(function(){if(b.$stopAnimation){L();return}if(!b.session)return clearInterval(b.$timer);S.length?(b.session.setScrollTop(S.shift()),b.session.$scrollTop=C):C!=null?(b.session.$scrollTop=-1,b.session.setScrollTop(C),C=null):L()},10)},T.prototype.scrollToY=function(I){this.scrollTop!==I&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=I)},T.prototype.scrollToX=function(I){this.scrollLeft!==I&&(this.scrollLeft=I),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(I,O){this.session.setScrollTop(O),this.session.setScrollLeft(I)},T.prototype.scrollBy=function(I,O){O&&this.session.setScrollTop(this.session.getScrollTop()+O),I&&this.session.setScrollLeft(this.session.getScrollLeft()+I)},T.prototype.isScrollableBy=function(I,O){if(O<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||O>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||I<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||I>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(I,O){var C;if(this.$hasCssTransforms){C={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([I,O]);I=b[1]-this.gutterWidth-this.margin.left,O=b[0]}else C=this.scroller.getBoundingClientRect();var A=I+this.scrollLeft-C.left-this.$padding,S=A/this.characterWidth,L=Math.floor((O+this.scrollTop-C.top)/this.lineHeight),P=this.$blockCursor?Math.floor(S):Math.round(S);return{row:L,column:P,side:S-P>0?1:-1,offsetX:A}},T.prototype.screenToTextCoordinates=function(I,O){var C;if(this.$hasCssTransforms){C={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([I,O]);I=b[1]-this.gutterWidth-this.margin.left,O=b[0]}else C=this.scroller.getBoundingClientRect();var A=I+this.scrollLeft-C.left-this.$padding,S=A/this.characterWidth,L=this.$blockCursor?Math.floor(S):Math.round(S),P=Math.floor((O+this.scrollTop-C.top)/this.lineHeight);return this.session.screenToDocumentPosition(P,Math.max(L,0),A)},T.prototype.textToScreenCoordinates=function(I,O){var C=this.scroller.getBoundingClientRect(),b=this.session.documentToScreenPosition(I,O),A=this.$padding+(this.session.$bidiHandler.isBidiRow(b.row,I)?this.session.$bidiHandler.getPosLeft(b.column):Math.round(b.column*this.characterWidth)),S=b.row*this.lineHeight;return{pageX:C.left+A-this.scrollLeft,pageY:C.top+S-this.scrollTop}},T.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(I){this.$composition=I,I.cssText||(I.cssText=this.textarea.style.cssText),I.useTextareaForIME==null&&(I.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):I.markerId=this.session.addMarker(I.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(I){var O=this.session.selection.cursor;this.addToken(I,"composition_placeholder",O.row,O.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var I=this.session.selection.cursor;this.removeExtraToken(I.row,I.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(I,O){var C=this.session.selection.cursor,b=O||{row:C.row,column:C.column};this.removeGhostText();var A=this.$calculateWrappedTextChunks(I,b);this.addToken(A[0].text,"ghost_text",b.row,b.column),this.$ghostText={text:I,position:{row:b.row,column:b.column}};var S=l.createElement("div");if(A.length>1){var L=this.hideTokensAfterPosition(b.row,b.column),P;A.slice(1).forEach(function(K){var Q=l.createElement("div"),X=l.createElement("span");X.className="ace_ghost_text",K.wrapped&&(Q.className="ghost_text_line_wrapped"),K.text.length===0&&(K.text=" "),X.appendChild(l.createTextNode(K.text)),Q.appendChild(X),S.appendChild(Q),P=Q}),L.forEach(function(K){var Q=l.createElement("span");E(K.type)||(Q.className="ace_"+K.type.replace(/\./g," ace_")),Q.appendChild(l.createTextNode(K.value)),P.appendChild(Q)}),this.$ghostTextWidget={el:S,row:b.row,column:b.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var V=this.$cursorLayer.getPixelPosition(b,!0),B=this.container,W=B.getBoundingClientRect().height,G=A.length*this.lineHeight,J=G<W-V.top;if(J)return;G<W?this.scrollBy(0,(A.length-1)*this.lineHeight):this.scrollToRow(b.row)}},T.prototype.$calculateWrappedTextChunks=function(I,O){var C=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(C/this.characterWidth)-2;b=b<=0?60:b;for(var A=I.split(/\r?\n/),S=[],L=0;L<A.length;L++){var P=this.session.$getDisplayTokens(A[L],O.column),V=this.session.$computeWrapSplits(P,b,this.session.$tabSize);if(V.length>0){var B=0;V.push(A[L].length);for(var W=0;W<V.length;W++){var G=A[L].slice(B,V[W]);S.push({text:G,wrapped:!0}),B=V[W]}}else S.push({text:A[L],wrapped:!1})}return S},T.prototype.removeGhostText=function(){if(this.$ghostText){var I=this.$ghostText.position;this.removeExtraToken(I.row,I.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(I,O,C,b){var A=this.session;A.bgTokenizer.lines[C]=null;var S={type:O,value:I},L=A.getTokens(C);if(b==null||!L.length)L.push(S);else for(var P=0,V=0;V<L.length;V++){var B=L[V];if(P+=B.value.length,b<=P){var W=B.value.length-(P-b),G=B.value.slice(0,W),J=B.value.slice(W);L.splice(V,1,{type:B.type,value:G},S,{type:B.type,value:J});break}}this.updateLines(C,C)},T.prototype.hideTokensAfterPosition=function(I,O){for(var C=this.session.getTokens(I),b=0,A=!1,S=[],L=0;L<C.length;L++){var P=C[L];if(b+=P.value.length,P.type!=="ghost_text"){if(A){S.push({type:P.type,value:P.value}),P.type="hidden_token";continue}b===O&&(A=!0)}}return this.updateLines(I,I),S},T.prototype.removeExtraToken=function(I,O){this.session.bgTokenizer.lines[I]=null,this.updateLines(I,I)},T.prototype.setTheme=function(I,O){var C=this;if(this.$themeId=I,C._dispatchEvent("themeChange",{theme:I}),!I||typeof I=="string"){var b=I||this.$options.theme.initialValue;o.loadModule(["theme",b],A)}else A(I);function A(S){if(C.$themeId!=I)return O&&O();if(!S||!S.cssClass)throw new Error("couldn't load module "+I+" or it didn't call define");S.$id&&(C.$themeId=S.$id),l.importCssString(S.cssText,S.cssClass,C.container),C.theme&&l.removeCssClass(C.container,C.theme.cssClass);var L="padding"in S?S.padding:"padding"in(C.theme||{})?4:C.$padding;if(C.$padding&&L!=C.$padding&&C.setPadding(L),C.$gutterLayer){var P=S.$showGutterCursorMarker;P&&!C.$gutterLayer.$showCursorMarker?C.$gutterLayer.$showCursorMarker="theme":!P&&C.$gutterLayer.$showCursorMarker=="theme"&&(C.$gutterLayer.$showCursorMarker=null)}C.$theme=S.cssClass,C.theme=S,l.addCssClass(C.container,S.cssClass),l.setCssClass(C.container,"ace_dark",S.isDark),C.$size&&(C.$size.width=0,C.$updateSizeAsync()),C._dispatchEvent("themeLoaded",{theme:S}),O&&O(),_.isSafari&&C.scroller&&(C.scroller.style.background="red",C.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(I,O){l.setCssClass(this.container,I,O!==!1)},T.prototype.unsetStyle=function(I){l.removeCssClass(this.container,I)},T.prototype.setCursorStyle=function(I){l.setStyle(this.scroller.style,"cursor",I)},T.prototype.setMouseCursor=function(I){l.setStyle(this.scroller.style,"cursor",I)},T.prototype.attachToShadowRoot=function(){l.importCssString(R,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(I){var O=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),I===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(C){O.$scrollAnimation||O.session.setScrollTop(C.data-O.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(C){O.$scrollAnimation||O.session.setScrollLeft(C.data-O.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new x(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new c(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(C){O.$scrollAnimation||O.session.setScrollTop(C.data-O.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(C){O.$scrollAnimation||O.session.setScrollLeft(C.data-O.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var I=this;this.$resizeTimer=m.delayedCall(function(){I.destroyed||I.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(O){var C=O[0].contentRect.width,b=O[0].contentRect.height;Math.abs(I.$size.width-C)>1||Math.abs(I.$size.height-b)>1?I.$resizeTimer.delay():I.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T})();k.prototype.CHANGE_CURSOR=1,k.prototype.CHANGE_MARKER=2,k.prototype.CHANGE_GUTTER=4,k.prototype.CHANGE_SCROLL=8,k.prototype.CHANGE_LINES=16,k.prototype.CHANGE_TEXT=32,k.prototype.CHANGE_SIZE=64,k.prototype.CHANGE_MARKER_BACK=128,k.prototype.CHANGE_MARKER_FRONT=256,k.prototype.CHANGE_FULL=512,k.prototype.CHANGE_H_SCROLL=1024,k.prototype.$changes=0,k.prototype.$padding=null,k.prototype.$frozen=!1,k.prototype.STEPS=8,s.implement(k.prototype,M),o.defineOptions(k.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),n.VirtualRenderer=k}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,n,i){var s=t("../lib/oop"),l=t("../lib/net"),m=t("../lib/event_emitter").EventEmitter,o=t("../config");function d(h){var c="importScripts('"+l.qualifyURL(h)+"');";try{return new Blob([c],{type:"application/javascript"})}catch{var p=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new p;return g.append(c),g.getBlob("application/javascript")}}function a(h){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var c=d(h),p=window.URL||window.webkitURL,g=p.createObjectURL(c);return new Worker(g)}return new Worker(h)}var f=function(h){h.postMessage||(h=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=h,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,m),this.$createWorkerFromOldConfig=function(h,c,p,g,y){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)g=g||o.moduleUrl(c,"worker");else{var w=this.$normalizePath;g=g||w(t.toUrl("ace/worker/worker.js",null,"_"));var M={};h.forEach(function(R){M[R]=w(t.toUrl(R,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(g),y&&this.send("importScripts",y),this.$worker.postMessage({init:!0,tlns:M,module:c,classname:p}),this.$worker},this.onMessage=function(h){var c=h.data;switch(c.type){case"event":this._signal(c.name,{data:c.data});break;case"call":var p=this.callbacks[c.id];p&&(p(c.data),delete this.callbacks[c.id]);break;case"error":this.reportError(c.data);break;case"log":window.console&&console.log&&console.log.apply(console,c.data);break}},this.reportError=function(h){window.console&&console.error&&console.error(h)},this.$normalizePath=function(h){return l.qualifyURL(h)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(h){h.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(h,c){this.$worker.postMessage({command:h,args:c})},this.call=function(h,c,p){if(p){var g=this.callbackId++;this.callbacks[g]=p,c.push(g)}this.send(h,c)},this.emit=function(h,c){try{c.data&&c.data.err&&(c.data.err={message:c.data.err.message,stack:c.data.err.stack,code:c.data.err.code}),this.$worker&&this.$worker.postMessage({event:h,data:{data:c.data}})}catch(p){console.error(p.stack)}},this.attachToDocument=function(h){this.$doc&&this.terminate(),this.$doc=h,this.call("setValue",[h.getValue()]),h.on("change",this.changeListener,!0)},this.changeListener=function(h){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),h.action=="insert"?this.deltaQueue.push(h.start,h.lines):this.deltaQueue.push(h.start,h.end)},this.$sendDeltaQueue=function(){var h=this.deltaQueue;h&&(this.deltaQueue=null,h.length>50&&h.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:h}))}}).call(f.prototype);var u=function(h,c,p){var g=null,y=!1,w=Object.create(m),M=[],R=new f({messageBuffer:M,terminate:function(){},postMessage:function(_){M.push(_),g&&(y?setTimeout(x):x())}});R.setEmitSync=function(_){y=_};var x=function(){var _=M.shift();_.command?g[_.command].apply(g,_.args):_.event&&w._signal(_.event,_.data)};return w.postMessage=function(_){R.onMessage({data:_})},w.callback=function(_,E){this.postMessage({type:"call",id:E,data:_})},w.emit=function(_,E){this.postMessage({type:"event",name:_,data:E})},o.loadModule(["worker",c],function(_){for(g=new _[p](w);M.length;)x()}),R};n.UIWorkerClient=u,n.WorkerClient=f,n.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,n,i){var s=t("./range").Range,l=t("./lib/event_emitter").EventEmitter,m=t("./lib/oop"),o=(function(){function d(a,f,u,h,c,p){var g=this;this.length=f,this.session=a,this.doc=a.getDocument(),this.mainClass=c,this.othersClass=p,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=h,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=u;var y=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=y.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)}return d.prototype.setup=function(){var a=this,f=this.doc,u=this.session;this.selectionBefore=u.selection.toJSON(),u.selection.inMultiSelectMode&&u.selection.toSingleRange(),this.pos=f.createAnchor(this.$pos.row,this.$pos.column);var h=this.pos;h.$insertRight=!0,h.detach(),h.markerId=u.addMarker(new s(h.row,h.column,h.row,h.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(c){var p=f.createAnchor(c.row,c.column);p.$insertRight=!0,p.detach(),a.others.push(p)}),u.setUndoSelect(!1)},d.prototype.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,f=this;this.othersActive=!0,this.others.forEach(function(u){u.markerId=a.addMarker(new s(u.row,u.column,u.row,u.column+f.length),f.othersClass,null,!1)})}},d.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},d.prototype.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var f=a;if(f.start.row===f.end.row&&f.start.row===this.pos.row){this.$updating=!0;var u=a.action==="insert"?f.end.column-f.start.column:f.start.column-f.end.column,h=f.start.column>=this.pos.column&&f.start.column<=this.pos.column+this.length+1,c=f.start.column-this.pos.column;if(this.updateAnchors(a),h&&(this.length+=u),h&&!this.session.$fromUndo){if(a.action==="insert")for(var p=this.others.length-1;p>=0;p--){var g=this.others[p],y={row:g.row,column:g.column+c};this.doc.insertMergedLines(y,a.lines)}else if(a.action==="remove")for(var p=this.others.length-1;p>=0;p--){var g=this.others[p],y={row:g.row,column:g.column+c};this.doc.remove(new s(y.row,y.column,y.row,y.column-u))}}this.$updating=!1,this.updateMarkers()}},d.prototype.updateAnchors=function(a){this.pos.onChange(a);for(var f=this.others.length;f--;)this.others[f].onChange(a);this.updateMarkers()},d.prototype.updateMarkers=function(){if(!this.$updating){var a=this,f=this.session,u=function(c,p){f.removeMarker(c.markerId),c.markerId=f.addMarker(new s(c.row,c.column,c.row,c.column+a.length),p,null,!1)};u(this.pos,this.mainClass);for(var h=this.others.length;h--;)u(this.others[h],this.othersClass)}},d.prototype.onCursorChange=function(a){if(!(this.$updating||!this.session)){var f=this.session.selection.getCursor();f.row===this.pos.row&&f.column>=this.pos.column&&f.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},d.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},d.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),f=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,u=0;u<f;u++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},d})();m.implement(o.prototype,l),n.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,n,i){var s=t("../lib/event"),l=t("../lib/useragent");function m(d,a){return d.row==a.row&&d.column==a.column}function o(d){var a=d.domEvent,f=a.altKey,u=a.shiftKey,h=a.ctrlKey,c=d.getAccelKey(),p=d.getButton();if(h&&l.isMac&&(p=a.button),d.editor.inMultiSelectMode&&p==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!h&&!f&&!c){p===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(p===0){var g=d.editor,y=g.selection,w=g.inMultiSelectMode,M=d.getDocumentPosition(),R=y.getCursor(),x=d.inSelection()||y.isEmpty()&&m(M,R),_=d.x,E=d.y,k=function(G){_=G.clientX,E=G.clientY},T=g.session,I=g.renderer.pixelToScreenCoordinates(_,E),O=I,C;if(g.$mouseHandler.$enableJumpToDef)h&&f||c&&f?C=u?"block":"add":f&&g.$blockSelectEnabled&&(C="block");else if(c&&!f){if(C="add",!w&&u)return}else f&&g.$blockSelectEnabled&&(C="block");if(C&&l.isMac&&a.ctrlKey&&g.$mouseHandler.cancelContextMenu(),C=="add"){if(!w&&x)return;if(!w){var b=y.toOrientedRange();g.addSelectionMarker(b)}var A=y.rangeList.rangeAtPoint(M);g.inVirtualSelectionMode=!0,u&&(A=null,b=y.ranges[0]||b,g.removeSelectionMarker(b)),g.once("mouseup",function(){var G=y.toOrientedRange();A&&G.isEmpty()&&m(A.cursor,G.cursor)?y.substractPoint(G.cursor):(u?y.substractPoint(b.cursor):b&&(g.removeSelectionMarker(b),y.addRange(b)),y.addRange(G)),g.inVirtualSelectionMode=!1})}else if(C=="block"){d.stop(),g.inVirtualSelectionMode=!0;var S,L=[],P=function(){var G=g.renderer.pixelToScreenCoordinates(_,E),J=T.screenToDocumentPosition(G.row,G.column,G.offsetX);m(O,G)&&m(J,y.lead)||(O=G,g.selection.moveToPosition(J),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(L),L=y.rectangularRangeBlock(O,I),g.$mouseHandler.$clickSelection&&L.length==1&&L[0].isEmpty()&&(L[0]=g.$mouseHandler.$clickSelection.clone()),L.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};w&&!c?y.toSingleRange():!w&&c&&(S=y.toOrientedRange(),g.addSelectionMarker(S)),u?I=T.documentToScreenPosition(y.lead):y.moveToPosition(M),O={row:-1,column:-1};var V=function(G){P(),clearInterval(W),g.removeSelectionMarkers(L),L.length||(L=[y.toOrientedRange()]),S&&(g.removeSelectionMarker(S),y.toSingleRange(S));for(var J=0;J<L.length;J++)y.addRange(L[J]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},B=P;s.capture(g.container,k,V);var W=setInterval(function(){B()},20);return d.preventDefault()}}}n.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,n,i){n.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],n.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var s=t("../keyboard/hash_handler").HashHandler;n.keyboardHandler=new s(n.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,n,i){var s=t("./range_list").RangeList,l=t("./range").Range,m=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,d=t("./lib/event"),a=t("./lib/lang"),f=t("./commands/multi_select_commands");n.commands=f.defaultCommands.concat(f.multiSelectCommands);var u=t("./search").Search,h=new u;function c(R,x,_){return h.$options.wrap=!0,h.$options.needle=x,h.$options.backwards=_==-1,h.find(R)}var p=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(R,x){if(R){if(!this.inMultiSelectMode&&this.rangeCount===0){var _=this.toOrientedRange();if(this.rangeList.add(_),this.rangeList.add(R),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),x||this.fromOrientedRange(R);this.rangeList.removeAll(),this.rangeList.add(_),this.$onAddRange(_)}R.cursor||(R.cursor=R.end);var E=this.rangeList.add(R);return this.$onAddRange(R),E.length&&this.$onRemoveRange(E),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),x||this.fromOrientedRange(R)}},this.toSingleRange=function(R){R=R||this.ranges[0];var x=this.rangeList.removeAll();x.length&&this.$onRemoveRange(x),R&&this.fromOrientedRange(R)},this.substractPoint=function(R){var x=this.rangeList.substractPoint(R);if(x)return this.$onRemoveRange(x),x[0]},this.mergeOverlappingRanges=function(){var R=this.rangeList.merge();R.length&&this.$onRemoveRange(R)},this.$onAddRange=function(R){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(R),this._signal("addRange",{range:R})},this.$onRemoveRange=function(R){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var x=this.rangeList.ranges.pop();R.push(x),this.rangeCount=0}for(var _=R.length;_--;){var E=this.ranges.indexOf(R[_]);this.ranges.splice(E,1)}this._signal("removeRange",{ranges:R}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),x=x||this.ranges[0],x&&!x.isEqual(this.getRange())&&this.fromOrientedRange(x)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var R=this.ranges.length?this.ranges:[this.getRange()],x=[],_=0;_<R.length;_++){var E=R[_],k=E.start.row,T=E.end.row;if(k===T)x.push(E.clone());else{for(x.push(new l(k,E.start.column,k,this.session.getLine(k).length));++k<T;)x.push(this.getLineRange(k,!0));x.push(new l(T,0,T,E.end.column))}_==0&&!this.isBackwards()&&(x=x.reverse())}this.toSingleRange();for(var _=x.length;_--;)this.addRange(x[_])},this.joinSelections=function(){var R=this.rangeList.ranges,x=R[R.length-1],_=l.fromPoints(R[0].start,x.end);this.toSingleRange(),this.setSelectionRange(_,x.cursor==x.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var R=this.rangeList.ranges,x=R[R.length-1],_=l.fromPoints(R[0].start,x.end);this.toSingleRange(),this.setSelectionRange(_,x.cursor==x.start)}else{var E=this.session.documentToScreenPosition(this.cursor),k=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(E,k);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(R,x,_){var E=[],k=R.column<x.column;if(k)var T=R.column,I=x.column,O=R.offsetX,C=x.offsetX;else var T=x.column,I=R.column,O=x.offsetX,C=R.offsetX;var b=R.row<x.row;if(b)var A=R.row,S=x.row;else var A=x.row,S=R.row;T<0&&(T=0),A<0&&(A=0),A==S&&(_=!0);for(var L,P=A;P<=S;P++){var V=l.fromPoints(this.session.screenToDocumentPosition(P,T,O),this.session.screenToDocumentPosition(P,I,C));if(V.isEmpty()){if(L&&y(V.end,L))break;L=V.end}V.cursor=k?V.start:V.end,E.push(V)}if(b&&E.reverse(),!_){for(var B=E.length-1;E[B].isEmpty()&&B>0;)B--;if(B>0)for(var W=0;E[W].isEmpty();)W++;for(var G=B;G>=W;G--)E[G].isEmpty()&&E.splice(G,1)}return E}}).call(m.prototype);var g=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(R){R.cursor||(R.cursor=R.end);var x=this.getSelectionStyle();return R.marker=this.session.addMarker(R,"ace_selection",x),this.session.$selectionMarkers.push(R),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,R},this.removeSelectionMarker=function(R){if(R.marker){this.session.removeMarker(R.marker);var x=this.session.$selectionMarkers.indexOf(R);x!=-1&&this.session.$selectionMarkers.splice(x,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(R){for(var x=this.session.$selectionMarkers,_=R.length;_--;){var E=R[_];if(E.marker){this.session.removeMarker(E.marker);var k=x.indexOf(E);k!=-1&&x.splice(k,1)}}this.session.selectionMarkerCount=x.length},this.$onAddRange=function(R){this.addSelectionMarker(R.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(R){this.removeSelectionMarkers(R.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(R){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(R){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(R){var x=R.command,_=R.editor;if(_.multiSelect){if(x.multiSelectAction)x.multiSelectAction=="forEach"?E=_.forEachSelection(x,R.args):x.multiSelectAction=="forEachLine"?E=_.forEachSelection(x,R.args,!0):x.multiSelectAction=="single"?(_.exitMultiSelectMode(),E=x.exec(_,R.args||{})):E=x.multiSelectAction(_,R.args||{});else{var E=x.exec(_,R.args||{});_.multiSelect.addRange(_.multiSelect.toOrientedRange()),_.multiSelect.mergeOverlappingRanges()}return E}},this.forEachSelection=function(R,x,_){if(!this.inVirtualSelectionMode){var E=_&&_.keepOrder,k=_==!0||_&&_.$byLines,T=this.session,I=this.selection,O=I.rangeList,C=(E?I:O).ranges,b;if(!C.length)return R.exec?R.exec(this,x||{}):R(this,x||{});var A=I._eventRegistry;I._eventRegistry={};var S=new m(T);this.inVirtualSelectionMode=!0;for(var L=C.length;L--;){if(k)for(;L>0&&C[L].start.row==C[L-1].end.row;)L--;S.fromOrientedRange(C[L]),S.index=L,this.selection=T.selection=S;var P=R.exec?R.exec(this,x||{}):R(this,x||{});!b&&P!==void 0&&(b=P),S.toOrientedRange(C[L])}S.detach(),this.selection=T.selection=I,this.inVirtualSelectionMode=!1,I._eventRegistry=A,I.mergeOverlappingRanges(),I.ranges[0]&&I.fromOrientedRange(I.ranges[0]);var V=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),V&&V.from==V.to&&this.renderer.animateScrolling(V.from),b}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var R="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var x=this.multiSelect.rangeList.ranges,_=[],E=0;E<x.length;E++)_.push(this.session.getTextRange(x[E]));var k=this.session.getDocument().getNewLineCharacter();R=_.join(k),R.length==(_.length-1)*k.length&&(R="")}else this.selection.isEmpty()||(R=this.session.getTextRange(this.getSelectionRange()));return R},this.$checkMultiselectChange=function(R,x){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var _=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&x==this.multiSelect.anchor)return;var E=x==this.multiSelect.anchor?_.cursor==_.start?_.end:_.start:_.cursor;E.row!=x.row||this.session.$clipPositionToDocument(E.row,E.column).column!=x.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(R,x,_){if(x=x||{},x.needle=R||x.needle,x.needle==null){var E=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();x.needle=this.session.getTextRange(E)}this.$search.set(x);var k=this.$search.findAll(this.session);if(!k.length)return 0;var T=this.multiSelect;_||T.toSingleRange(k[0]);for(var I=k.length;I--;)T.addRange(k[I],!0);return E&&T.rangeList.rangeAtPoint(E.start)&&T.addRange(E,!0),k.length},this.selectMoreLines=function(R,x){var _=this.selection.toOrientedRange(),E=_.cursor==_.end,k=this.session.documentToScreenPosition(_.cursor);this.selection.$desiredColumn&&(k.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(k.row+R,k.column);if(_.isEmpty())var O=T;else var I=this.session.documentToScreenPosition(E?_.end:_.start),O=this.session.screenToDocumentPosition(I.row+R,I.column);if(E){var C=l.fromPoints(T,O);C.cursor=C.start}else{var C=l.fromPoints(O,T);C.cursor=C.end}if(C.desiredColumn=k.column,!this.selection.inMultiSelectMode)this.selection.addRange(_);else if(x)var b=_.cursor;this.selection.addRange(C),b&&this.selection.substractPoint(b)},this.transposeSelections=function(R){for(var x=this.session,_=x.multiSelect,E=_.ranges,k=E.length;k--;){var T=E[k];if(T.isEmpty()){var I=x.getWordRange(T.start.row,T.start.column);T.start.row=I.start.row,T.start.column=I.start.column,T.end.row=I.end.row,T.end.column=I.end.column}}_.mergeOverlappingRanges();for(var O=[],k=E.length;k--;){var T=E[k];O.unshift(x.getTextRange(T))}R<0?O.unshift(O.pop()):O.push(O.shift());for(var k=E.length;k--;){var T=E[k],C=T.clone();x.replace(T,O[k]),T.start.row=C.start.row,T.start.column=C.start.column}_.fromOrientedRange(_.ranges[0])},this.selectMore=function(R,x,_){var E=this.session,k=E.multiSelect,T=k.toOrientedRange();if(!(T.isEmpty()&&(T=E.getWordRange(T.start.row,T.start.column),T.cursor=R==-1?T.start:T.end,this.multiSelect.addRange(T),_))){var I=E.getTextRange(T),O=c(E,I,R);O&&(O.cursor=R==-1?O.start:O.end,this.session.unfold(O),this.multiSelect.addRange(O),this.renderer.scrollCursorIntoView(null,.5)),x&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var R=this.session,x=R.multiSelect,_=x.ranges,E=-1,k=_.filter(function(B){if(B.cursor.row==E)return!0;E=B.cursor.row});if(!_.length||k.length==_.length-1){var T=this.selection.getRange(),I=T.start.row,O=T.end.row,C=I==O;if(C){var b=this.session.getLength(),A;do A=this.session.getLine(O);while(/[=:]/.test(A)&&++O<b);do A=this.session.getLine(I);while(/[=:]/.test(A)&&--I>0);I<0&&(I=0),O>=b&&(O=b-1)}var S=this.session.removeFullLines(I,O);S=this.$reAlignText(S,C),this.session.insert({row:I,column:0},S.join(`
`)+`
`),C||(T.start.column=0,T.end.column=S[S.length-1].length),this.selection.setRange(T)}else{k.forEach(function(B){x.substractPoint(B.cursor)});var L=0,P=1/0,V=_.map(function(B){var W=B.cursor,G=R.getLine(W.row),J=G.substr(W.column).search(/\S/g);return J==-1&&(J=0),W.column>L&&(L=W.column),J<P&&(P=J),J});_.forEach(function(B,W){var G=B.cursor,J=L-G.column,K=V[W]-P;J>K?R.insert(G,a.stringRepeat(" ",J-K)):R.remove(new l(G.row,G.column,G.row,G.column-J+K)),B.start.column=B.end.column=L,B.start.row=B.end.row=G.row,B.cursor=B.end}),x.fromOrientedRange(_[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(R,x){var _=!0,E=!0,k,T,I;return R.map(function(S){var L=S.match(/(\s*)(.*?)(\s*)([=:].*)/);return L?k==null?(k=L[1].length,T=L[2].length,I=L[3].length,L):(k+T+I!=L[1].length+L[2].length+L[3].length&&(E=!1),k!=L[1].length&&(_=!1),k>L[1].length&&(k=L[1].length),T<L[2].length&&(T=L[2].length),I>L[3].length&&(I=L[3].length),L):[S]}).map(x?C:_?E?b:C:A);function O(S){return a.stringRepeat(" ",S)}function C(S){return S[2]?O(k)+S[2]+O(T-S[2].length+I)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}function b(S){return S[2]?O(k+T-S[2].length)+S[2]+O(I)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}function A(S){return S[2]?O(k)+S[2]+O(I)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}}}).call(g.prototype);function y(R,x){return R.row==x.row&&R.column==x.column}n.onSessionChange=function(R){var x=R.session;x&&!x.multiSelect&&(x.$selectionMarkers=[],x.selection.$initRangeList(),x.multiSelect=x.selection),this.multiSelect=x&&x.multiSelect;var _=R.oldSession;_&&(_.multiSelect.off("addRange",this.$onAddRange),_.multiSelect.off("removeRange",this.$onRemoveRange),_.multiSelect.off("multiSelect",this.$onMultiSelect),_.multiSelect.off("singleSelect",this.$onSingleSelect),_.multiSelect.lead.off("change",this.$checkMultiselectChange),_.multiSelect.anchor.off("change",this.$checkMultiselectChange)),x&&(x.multiSelect.on("addRange",this.$onAddRange),x.multiSelect.on("removeRange",this.$onRemoveRange),x.multiSelect.on("multiSelect",this.$onMultiSelect),x.multiSelect.on("singleSelect",this.$onSingleSelect),x.multiSelect.lead.on("change",this.$checkMultiselectChange),x.multiSelect.anchor.on("change",this.$checkMultiselectChange)),x&&this.inMultiSelectMode!=x.selection.inMultiSelectMode&&(x.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function w(R){R.$multiselectOnSessionChange||(R.$onAddRange=R.$onAddRange.bind(R),R.$onRemoveRange=R.$onRemoveRange.bind(R),R.$onMultiSelect=R.$onMultiSelect.bind(R),R.$onSingleSelect=R.$onSingleSelect.bind(R),R.$multiselectOnSessionChange=n.onSessionChange.bind(R),R.$checkMultiselectChange=R.$checkMultiselectChange.bind(R),R.$multiselectOnSessionChange(R),R.on("changeSession",R.$multiselectOnSessionChange),R.on("mousedown",o),R.commands.addCommands(f.defaultCommands),M(R))}function M(R){if(!R.textInput)return;var x=R.textInput.getElement(),_=!1;d.addListener(x,"keydown",function(k){var T=k.keyCode==18&&!(k.ctrlKey||k.shiftKey||k.metaKey);R.$blockSelectEnabled&&T?_||(R.renderer.setMouseCursor("crosshair"),_=!0):_&&E()},R),d.addListener(x,"keyup",E,R),d.addListener(x,"blur",E,R);function E(k){_&&(R.renderer.setMouseCursor(""),_=!1)}}n.MultiSelect=w,t("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(R){w(this),R?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(R){this.$blockSelectEnabled=R},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,n,i){var s=t("../../range").Range,l=n.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,o,d){var a=m.getLine(d);return this.foldingStartMarker.test(a)?"start":o=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""},this.getFoldWidgetRange=function(m,o,d){return null},this.indentationBlock=function(m,o,d){var a=/\S/,f=m.getLine(o),u=f.search(a);if(u!=-1){for(var h=d||f.length,c=m.getLength(),p=o,g=o;++o<c;){var y=m.getLine(o).search(a);if(y!=-1){if(y<=u){var w=m.getTokenAt(o,0);if(!w||w.type!=="string")break}g=o}}if(g>p){var M=m.getLine(g).length;return new s(p,h,g,M)}}},this.openingBracketBlock=function(m,o,d,a,f){var u={row:d,column:a+1},h=m.$findClosingBracket(o,u,f);if(h){var c=m.foldWidgets[h.row];return c==null&&(c=m.getFoldWidget(h.row)),c=="start"&&h.row>u.row&&(h.row--,h.column=m.getLine(h.row).length),s.fromPoints(u,h)}},this.closingBracketBlock=function(m,o,d,a,f){var u={row:d,column:a},h=m.$findOpeningBracket(o,u);if(h)return h.column++,u.column--,s.fromPoints(h,u)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(t,n,i){var s=t("../lib/dom"),l=t("../range").Range,m=t("../config").nls;function o(a,f,u){for(var h=0,c=a.length-1;h<=c;){var p=h+c>>1,g=u(f,a[p]);if(g>0)h=p+1;else if(g<0)c=p-1;else return p}return-(h+1)}function d(a,f,u){var h=a.getAnnotations().sort(l.comparePoints);if(h.length){var c=o(h,{row:f,column:-1},l.comparePoints);c<0&&(c=-c-1),c>=h.length?c=u>0?0:h.length-1:c===0&&u<0&&(c=h.length-1);var p=h[c];if(!(!p||!u)){if(p.row===f){do p=h[c+=u];while(p&&p.row===f);if(!p)return h.slice()}var g=[];f=p.row;do g[u<0?"unshift":"push"](p),p=h[c+=u];while(p&&p.row==f);return g.length&&g}}}n.showErrorMarker=function(a,f){var u=a.session,h=a.getCursorPosition(),c=h.row,p=u.widgetManager.getWidgetsAtRow(c).filter(function(k){return k.type=="errorMarker"})[0];p?p.destroy():c-=f;var g=d(u,c,f),y;if(g){var w=g[0];h.column=(w.pos&&typeof w.column!="number"?w.pos.sc:w.column)||0,h.row=w.row,y=a.renderer.$gutterLayer.$annotations[h.row]}else{if(p)return;y={displayText:[m("error-marker.good-state","Looks good!")],className:"ace_ok"}}a.session.unfold(h.row),a.selection.moveToPosition(h);var M={row:h.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},R=M.el.appendChild(s.createElement("div")),x=M.el.appendChild(s.createElement("div"));x.className="error_widget_arrow "+y.className;var _=a.renderer.$cursorLayer.getPixelPosition(h).left;x.style.left=_+a.renderer.gutterWidth-5+"px",M.el.className="error_widget_wrapper",R.className="error_widget "+y.className,y.displayText.forEach(function(k,T){R.appendChild(s.createTextNode(k)),T<y.displayText.length-1&&R.appendChild(s.createElement("br"))}),R.appendChild(s.createElement("div"));var E=function(k,T,I){if(T===0&&(I==="esc"||I==="return"))return M.destroy(),{command:"null"}};M.destroy=function(){a.$mouseHandler.isMousePressed||(a.keyBinding.removeKeyboardHandler(E),u.widgetManager.removeLineWidget(M),a.off("changeSelection",M.destroy),a.off("changeSession",M.destroy),a.off("mouseup",M.destroy),a.off("change",M.destroy))},a.keyBinding.addKeyboardHandler(E),a.on("changeSelection",M.destroy),a.on("changeSession",M.destroy),a.on("mouseup",M.destroy),a.on("change",M.destroy),a.session.widgetManager.addLineWidget(M),M.el.onmousedown=a.focus.bind(a),a.renderer.scrollCursorIntoView(null,.5,{bottom:M.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,n,i){t("./loader_build")(n);var s=t("./lib/dom"),l=t("./range").Range,m=t("./editor").Editor,o=t("./edit_session").EditSession,d=t("./undomanager").UndoManager,a=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),n.config=t("./config"),n.edit=function(u,h){if(typeof u=="string"){var c=u;if(u=document.getElementById(c),!u)throw new Error("ace.edit can't find div #"+c)}if(u&&u.env&&u.env.editor instanceof m)return u.env.editor;var p="";if(u&&/input|textarea/i.test(u.tagName)){var g=u;p=g.value,u=s.createElement("pre"),g.parentNode.replaceChild(u,g)}else u&&(p=u.textContent,u.innerHTML="");var y=n.createEditSession(p),w=new m(new a(u),y,h),M={document:y,editor:w,onResize:w.resize.bind(w,null)};return g&&(M.textarea=g),w.on("destroy",function(){M.editor.container.env=null}),w.container.env=w.env=M,w},n.createEditSession=function(u,h){var c=new o(u,h);return c.setUndoManager(new d),c},n.Range=l,n.Editor=m,n.EditSession=o,n.UndoManager=d,n.VirtualRenderer=a;var f=n.config.version;n.version=f}),(function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define);var n=(function(){return this})();!n&&typeof window<"u"&&(n=window),!n&&typeof self<"u"&&(n=self),n.ace||(n.ace=t);for(var i in t)t.hasOwnProperty(i)&&(n.ace[i]=t[i]);n.ace.default=n.ace,r&&(r.exports=n.ace)})})()})(ba)),ba.exports}var jw=Ww();const Gw=Uw(jw);var Sa={exports:{}},Yh;function qw(){return Yh||(Yh=1,(function(r,e){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,n,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,m=function(){var o="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",d="True|False|None|NotImplemented|Ellipsis|__debug__",a="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",f=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":a,"variable.language":"self|cls","constant.language":d,keyword:o},"identifier"),u="[uU]?",h="[rR]",c="[fF]",p="(?:[rR][fF]|[fF][rR])",g="(?:(?:[1-9]\\d*)|(?:0))",y="(?:0[oO]?[0-7]+)",w="(?:0[xX][\\dA-Fa-f]+)",M="(?:0[bB][01]+)",R="(?:"+g+"|"+y+"|"+w+"|"+M+")",x="(?:[eE][+-]?\\d+)",_="(?:\\.\\d+)",E="(?:\\d+)",k="(?:(?:"+E+"?"+_+")|(?:"+E+"\\.))",T="(?:(?:"+k+"|"+E+")"+x+")",I="(?:"+T+"|"+k+")",O=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:u+'"{3}',next:"qqstring3"},{token:"string",regex:u+'"(?=.)',next:"qqstring"},{token:"string",regex:u+"'{3}",next:"qstring3"},{token:"string",regex:u+"'(?=.)",next:"qstring"},{token:"string",regex:h+'"{3}',next:"rawqqstring3"},{token:"string",regex:h+'"(?=.)',next:"rawqqstring"},{token:"string",regex:h+"'{3}",next:"rawqstring3"},{token:"string",regex:h+"'(?=.)",next:"rawqstring"},{token:"string",regex:c+'"{3}',next:"fqqstring3"},{token:"string",regex:c+'"(?=.)',next:"fqqstring"},{token:"string",regex:c+"'{3}",next:"fqstring3"},{token:"string",regex:c+"'(?=.)",next:"fqstring"},{token:"string",regex:p+'"{3}',next:"rfqqstring3"},{token:"string",regex:p+'"(?=.)',next:"rfqqstring"},{token:"string",regex:p+"'{3}",next:"rfqstring3"},{token:"string",regex:p+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:O},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+I+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:I},{token:"constant.numeric",regex:R+"[lL]\\b"},{token:"constant.numeric",regex:R+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:f,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};s.inherits(m,l),n.PythonHighlightRules=m}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,n,i){var s=t("../../lib/oop"),l=t("./fold_mode").FoldMode,m=n.FoldMode=function(o){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+o+")(?:\\s*)(?:#.*)?$")};s.inherits(m,l),(function(){this.getFoldWidgetRange=function(o,d,a){var f=o.getLine(a),u=f.match(this.foldingStartMarker);if(u)return u[1]?this.openingBracketBlock(o,u[1],a,u.index):u[2]?this.indentationBlock(o,a,u.index+u[2].length):this.indentationBlock(o,a)}}).call(m.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(t,n,i){var s=t("../lib/oop"),l=t("./text").Mode,m=t("./python_highlight_rules").PythonHighlightRules,o=t("./folding/pythonic").FoldMode,d=t("../range").Range,a=function(){this.HighlightRules=m,this.foldingRules=new o("\\:"),this.$behaviour=this.$defaultBehaviour};s.inherits(a,l),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(u,h,c){var p=this.$getIndent(h),g=this.getTokenizer().getLineTokens(h,u),y=g.tokens;if(y.length&&y[y.length-1].type=="comment")return p;if(u=="start"){var w=h.match(/^.*[\{\(\[:]\s*$/);w&&(p+=c)}return p};var f={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(u,h,c){if(c!==`\r
`&&c!=="\r"&&c!==`
`)return!1;var p=this.getTokenizer().getLineTokens(h.trim(),u).tokens;if(!p)return!1;do var g=p.pop();while(g&&(g.type=="comment"||g.type=="text"&&g.value.match(/^\s+$/)));return g?g.type=="keyword"&&f[g.value]:!1},this.autoOutdent=function(u,h,c){c+=1;var p=this.$getIndent(h.getLine(c)),g=h.getTabString();p.slice(-g.length)==g&&h.remove(new d(c,p.length-g.length,c,p.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(a.prototype),n.Mode=a}),(function(){ace.require(["ace/mode/python"],function(t){r&&(r.exports=t)})})()})(Sa)),Sa.exports}qw();var _a={exports:{}},Qh;function Kw(){return Qh||(Qh=1,(function(r,e){ace.define("ace/theme/monokai-css",["require","exports","module"],function(t,n,i){i.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(t,n,i){n.isDark=!0,n.cssClass="ace-monokai",n.cssText=t("./monokai-css");var s=t("../lib/dom");s.importCssString(n.cssText,n.cssClass,!1)}),(function(){ace.require(["ace/theme/monokai"],function(t){r&&(r.exports=t)})})()})(_a)),_a.exports}Kw();class Ct{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Ct(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Mt{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Mt(t,Ct.range(this,e))}}class ue{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,s,l=t&&t.loc;if(l&&l.start<=l.end){var m=l.lexer.input;i=l.start,s=l.end,i===m.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var o=m.slice(i,s).replace(/[^]/g,"$&"),d;i>15?d=""+m.slice(i-15,i):d=m.slice(0,i);var a;s+15<m.length?a=m.slice(s,s+15)+"":a=m.slice(s),n+=d+o+a}var f=new Error(n);return f.name="ParseError",f.__proto__=ue.prototype,f.position=i,i!=null&&s!=null&&(f.length=s-i),f.rawMessage=e,f}}ue.prototype.__proto__=Error.prototype;var Yw=function(e,t){return e===void 0?t:e},Qw=/([A-Z])/g,Xw=function(e){return e.replace(Qw,"-$1").toLowerCase()},Jw={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Zw=/[&><"']/g;function e5(r){return String(r).replace(Zw,e=>Jw[e])}var tp=function r(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?r(e.body[0]):e:e.type==="font"?r(e.body):e},t5=function(e){var t=tp(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},n5=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},r5=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},Ne={deflt:Yw,escape:e5,hyphenate:Xw,getBaseElem:tp,isCharacterBox:t5,protocolFromUrl:r5},Us={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,e)=>(e.push(r),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function i5(r){if(r.default)return r.default;var e=r.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class hc{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Us)if(Us.hasOwnProperty(t)){var n=Us[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:i5(n)}}reportNonstrict(e,t,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ue("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var i=this.strict;if(typeof i=="function")try{i=i(e,t,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Ne.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Dn{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Yt[s5[this.id]]}sub(){return Yt[o5[this.id]]}fracNum(){return Yt[a5[this.id]]}fracDen(){return Yt[l5[this.id]]}cramp(){return Yt[c5[this.id]]}text(){return Yt[u5[this.id]]}isTight(){return this.size>=2}}var dc=0,fo=1,Or=2,gn=3,Wi=4,Nt=5,Gr=6,_t=7,Yt=[new Dn(dc,0,!1),new Dn(fo,0,!0),new Dn(Or,1,!1),new Dn(gn,1,!0),new Dn(Wi,2,!1),new Dn(Nt,2,!0),new Dn(Gr,3,!1),new Dn(_t,3,!0)],s5=[Wi,Nt,Wi,Nt,Gr,_t,Gr,_t],o5=[Nt,Nt,Nt,Nt,_t,_t,_t,_t],a5=[Or,gn,Wi,Nt,Gr,_t,Gr,_t],l5=[gn,gn,Nt,Nt,_t,_t,_t,_t],c5=[fo,fo,gn,gn,Nt,Nt,_t,_t],u5=[dc,fo,Or,gn,Or,gn,Or,gn],we={DISPLAY:Yt[dc],TEXT:Yt[Or],SCRIPT:Yt[Wi],SCRIPTSCRIPT:Yt[Gr]},ll=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function h5(r){for(var e=0;e<ll.length;e++)for(var t=ll[e],n=0;n<t.blocks.length;n++){var i=t.blocks[n];if(r>=i[0]&&r<=i[1])return t.name}return null}var Ws=[];ll.forEach(r=>r.blocks.forEach(e=>Ws.push(...e)));function np(r){for(var e=0;e<Ws.length;e+=2)if(r>=Ws[e]&&r<=Ws[e+1])return!0;return!1}var xr=80,d5=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},f5=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},p5=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},m5=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},g5=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},v5=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},y5=function(e,t,n){var i=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},w5=function(e,t,n){t=1e3*t;var i="";switch(e){case"sqrtMain":i=d5(t,xr);break;case"sqrtSize1":i=f5(t,xr);break;case"sqrtSize2":i=p5(t,xr);break;case"sqrtSize3":i=m5(t,xr);break;case"sqrtSize4":i=g5(t,xr);break;case"sqrtTall":i=y5(t,xr,n)}return i},b5=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},Xh={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},S5=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class rs{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var Qt={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ts={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Jh={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function _5(r,e){Qt[r]=e}function fc(r,e,t){if(!Qt[e])throw new Error("Font metrics not found for font: "+e+".");var n=r.charCodeAt(0),i=Qt[e][n];if(!i&&r[0]in Jh&&(n=Jh[r[0]].charCodeAt(0),i=Qt[e][n]),!i&&t==="text"&&np(n)&&(i=Qt[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Aa={};function A5(r){var e;if(r>=5?e=0:r>=3?e=1:e=2,!Aa[e]){var t=Aa[e]={cssEmPerMu:Ts.quad[e]/18};for(var n in Ts)Ts.hasOwnProperty(n)&&(t[n]=Ts[n][e])}return Aa[e]}var T5=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Zh=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],e0=function(e,t){return t.size<2?e:T5[e-1][t.size-1]};class hn{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||hn.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Zh[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new hn(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:e0(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Zh[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=e0(hn.BASESIZE,e);return this.size===t&&this.textSize===hn.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==hn.BASESIZE?["sizing","reset-size"+this.size,"size"+hn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=A5(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}hn.BASESIZE=6;var cl={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},E5={ex:!0,em:!0,mu:!0},rp=function(e){return typeof e!="string"&&(e=e.unit),e in cl||e in E5||e==="ex"},qe=function(e,t){var n;if(e.unit in cl)n=cl[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new ue("Invalid unit: '"+e.unit+"'");i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},de=function(e){return+e.toFixed(4)+"em"},Zn=function(e){return e.filter(t=>t).join(" ")},ip=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},sp=function(e){var t=document.createElement(e);t.className=Zn(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},C5=/[\s"'>/=\x00-\x1f]/,op=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Ne.escape(Zn(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ne.hyphenate(i)+":"+this.style[i]+";");n&&(t+=' style="'+Ne.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(C5.test(s))throw new ue("Invalid attribute name '"+s+"'");t+=" "+s+'="'+Ne.escape(this.attributes[s])+'"'}t+=">";for(var l=0;l<this.children.length;l++)t+=this.children[l].toMarkup();return t+="</"+e+">",t};class is{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ip.call(this,e,n,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return sp.call(this,"span")}toMarkup(){return op.call(this,"span")}}class pc{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ip.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return sp.call(this,"a")}toMarkup(){return op.call(this,"a")}}class x5{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Ne.escape(this.src)+'"'+(' alt="'+Ne.escape(this.alt)+'"'),t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=Ne.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+Ne.escape(t)+'"'),e+="'/>",e}}var k5={:"",:"",:"",:""};class Pt{constructor(e,t,n,i,s,l,m,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=l||0,this.classes=m||[],this.style=o||{},this.maxFontSize=0;var d=h5(this.text.charCodeAt(0));d&&this.classes.push(d+"_fallback"),/[]/.test(this.text)&&(this.text=k5[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=de(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Zn(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Ne.escape(Zn(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ne.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+Ne.escape(n)+'"');var s=Ne.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class _n{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Ne.escape(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class er{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",Xh[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Ne.escape(this.alternate)+'"/>':'<path d="'+Ne.escape(Xh[this.pathName])+'"/>'}}class ul{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Ne.escape(this.attributes[t])+'"');return e+="/>",e}}function t0(r){if(r instanceof Pt)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function I5(r){if(r instanceof is)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var M5={bin:1,close:1,inner:1,open:1,punct:1,rel:1},R5={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ve={math:{},text:{}};function $(r,e,t,n,i,s){Ve[r][i]={font:e,group:t,replace:n},s&&n&&(Ve[r][n]=Ve[r][i])}var N="math",oe="text",z="main",j="ams",We="accent-token",me="bin",At="close",ti="inner",ye="mathord",rt="op-token",Rt="open",Fo="punct",q="rel",Cn="spacing",Y="textord";$(N,z,q,"","\\equiv",!0);$(N,z,q,"","\\prec",!0);$(N,z,q,"","\\succ",!0);$(N,z,q,"","\\sim",!0);$(N,z,q,"","\\perp");$(N,z,q,"","\\preceq",!0);$(N,z,q,"","\\succeq",!0);$(N,z,q,"","\\simeq",!0);$(N,z,q,"","\\mid",!0);$(N,z,q,"","\\ll",!0);$(N,z,q,"","\\gg",!0);$(N,z,q,"","\\asymp",!0);$(N,z,q,"","\\parallel");$(N,z,q,"","\\bowtie",!0);$(N,z,q,"","\\smile",!0);$(N,z,q,"","\\sqsubseteq",!0);$(N,z,q,"","\\sqsupseteq",!0);$(N,z,q,"","\\doteq",!0);$(N,z,q,"","\\frown",!0);$(N,z,q,"","\\ni",!0);$(N,z,q,"","\\propto",!0);$(N,z,q,"","\\vdash",!0);$(N,z,q,"","\\dashv",!0);$(N,z,q,"","\\owns");$(N,z,Fo,".","\\ldotp");$(N,z,Fo,"","\\cdotp");$(N,z,Y,"#","\\#");$(oe,z,Y,"#","\\#");$(N,z,Y,"&","\\&");$(oe,z,Y,"&","\\&");$(N,z,Y,"","\\aleph",!0);$(N,z,Y,"","\\forall",!0);$(N,z,Y,"","\\hbar",!0);$(N,z,Y,"","\\exists",!0);$(N,z,Y,"","\\nabla",!0);$(N,z,Y,"","\\flat",!0);$(N,z,Y,"","\\ell",!0);$(N,z,Y,"","\\natural",!0);$(N,z,Y,"","\\clubsuit",!0);$(N,z,Y,"","\\wp",!0);$(N,z,Y,"","\\sharp",!0);$(N,z,Y,"","\\diamondsuit",!0);$(N,z,Y,"","\\Re",!0);$(N,z,Y,"","\\heartsuit",!0);$(N,z,Y,"","\\Im",!0);$(N,z,Y,"","\\spadesuit",!0);$(N,z,Y,"","\\S",!0);$(oe,z,Y,"","\\S");$(N,z,Y,"","\\P",!0);$(oe,z,Y,"","\\P");$(N,z,Y,"","\\dag");$(oe,z,Y,"","\\dag");$(oe,z,Y,"","\\textdagger");$(N,z,Y,"","\\ddag");$(oe,z,Y,"","\\ddag");$(oe,z,Y,"","\\textdaggerdbl");$(N,z,At,"","\\rmoustache",!0);$(N,z,Rt,"","\\lmoustache",!0);$(N,z,At,"","\\rgroup",!0);$(N,z,Rt,"","\\lgroup",!0);$(N,z,me,"","\\mp",!0);$(N,z,me,"","\\ominus",!0);$(N,z,me,"","\\uplus",!0);$(N,z,me,"","\\sqcap",!0);$(N,z,me,"","\\ast");$(N,z,me,"","\\sqcup",!0);$(N,z,me,"","\\bigcirc",!0);$(N,z,me,"","\\bullet",!0);$(N,z,me,"","\\ddagger");$(N,z,me,"","\\wr",!0);$(N,z,me,"","\\amalg");$(N,z,me,"&","\\And");$(N,z,q,"","\\longleftarrow",!0);$(N,z,q,"","\\Leftarrow",!0);$(N,z,q,"","\\Longleftarrow",!0);$(N,z,q,"","\\longrightarrow",!0);$(N,z,q,"","\\Rightarrow",!0);$(N,z,q,"","\\Longrightarrow",!0);$(N,z,q,"","\\leftrightarrow",!0);$(N,z,q,"","\\longleftrightarrow",!0);$(N,z,q,"","\\Leftrightarrow",!0);$(N,z,q,"","\\Longleftrightarrow",!0);$(N,z,q,"","\\mapsto",!0);$(N,z,q,"","\\longmapsto",!0);$(N,z,q,"","\\nearrow",!0);$(N,z,q,"","\\hookleftarrow",!0);$(N,z,q,"","\\hookrightarrow",!0);$(N,z,q,"","\\searrow",!0);$(N,z,q,"","\\leftharpoonup",!0);$(N,z,q,"","\\rightharpoonup",!0);$(N,z,q,"","\\swarrow",!0);$(N,z,q,"","\\leftharpoondown",!0);$(N,z,q,"","\\rightharpoondown",!0);$(N,z,q,"","\\nwarrow",!0);$(N,z,q,"","\\rightleftharpoons",!0);$(N,j,q,"","\\nless",!0);$(N,j,q,"","\\@nleqslant");$(N,j,q,"","\\@nleqq");$(N,j,q,"","\\lneq",!0);$(N,j,q,"","\\lneqq",!0);$(N,j,q,"","\\@lvertneqq");$(N,j,q,"","\\lnsim",!0);$(N,j,q,"","\\lnapprox",!0);$(N,j,q,"","\\nprec",!0);$(N,j,q,"","\\npreceq",!0);$(N,j,q,"","\\precnsim",!0);$(N,j,q,"","\\precnapprox",!0);$(N,j,q,"","\\nsim",!0);$(N,j,q,"","\\@nshortmid");$(N,j,q,"","\\nmid",!0);$(N,j,q,"","\\nvdash",!0);$(N,j,q,"","\\nvDash",!0);$(N,j,q,"","\\ntriangleleft");$(N,j,q,"","\\ntrianglelefteq",!0);$(N,j,q,"","\\subsetneq",!0);$(N,j,q,"","\\@varsubsetneq");$(N,j,q,"","\\subsetneqq",!0);$(N,j,q,"","\\@varsubsetneqq");$(N,j,q,"","\\ngtr",!0);$(N,j,q,"","\\@ngeqslant");$(N,j,q,"","\\@ngeqq");$(N,j,q,"","\\gneq",!0);$(N,j,q,"","\\gneqq",!0);$(N,j,q,"","\\@gvertneqq");$(N,j,q,"","\\gnsim",!0);$(N,j,q,"","\\gnapprox",!0);$(N,j,q,"","\\nsucc",!0);$(N,j,q,"","\\nsucceq",!0);$(N,j,q,"","\\succnsim",!0);$(N,j,q,"","\\succnapprox",!0);$(N,j,q,"","\\ncong",!0);$(N,j,q,"","\\@nshortparallel");$(N,j,q,"","\\nparallel",!0);$(N,j,q,"","\\nVDash",!0);$(N,j,q,"","\\ntriangleright");$(N,j,q,"","\\ntrianglerighteq",!0);$(N,j,q,"","\\@nsupseteqq");$(N,j,q,"","\\supsetneq",!0);$(N,j,q,"","\\@varsupsetneq");$(N,j,q,"","\\supsetneqq",!0);$(N,j,q,"","\\@varsupsetneqq");$(N,j,q,"","\\nVdash",!0);$(N,j,q,"","\\precneqq",!0);$(N,j,q,"","\\succneqq",!0);$(N,j,q,"","\\@nsubseteqq");$(N,j,me,"","\\unlhd");$(N,j,me,"","\\unrhd");$(N,j,q,"","\\nleftarrow",!0);$(N,j,q,"","\\nrightarrow",!0);$(N,j,q,"","\\nLeftarrow",!0);$(N,j,q,"","\\nRightarrow",!0);$(N,j,q,"","\\nleftrightarrow",!0);$(N,j,q,"","\\nLeftrightarrow",!0);$(N,j,q,"","\\vartriangle");$(N,j,Y,"","\\hslash");$(N,j,Y,"","\\triangledown");$(N,j,Y,"","\\lozenge");$(N,j,Y,"","\\circledS");$(N,j,Y,"","\\circledR");$(oe,j,Y,"","\\circledR");$(N,j,Y,"","\\measuredangle",!0);$(N,j,Y,"","\\nexists");$(N,j,Y,"","\\mho");$(N,j,Y,"","\\Finv",!0);$(N,j,Y,"","\\Game",!0);$(N,j,Y,"","\\backprime");$(N,j,Y,"","\\blacktriangle");$(N,j,Y,"","\\blacktriangledown");$(N,j,Y,"","\\blacksquare");$(N,j,Y,"","\\blacklozenge");$(N,j,Y,"","\\bigstar");$(N,j,Y,"","\\sphericalangle",!0);$(N,j,Y,"","\\complement",!0);$(N,j,Y,"","\\eth",!0);$(oe,z,Y,"","");$(N,j,Y,"","\\diagup");$(N,j,Y,"","\\diagdown");$(N,j,Y,"","\\square");$(N,j,Y,"","\\Box");$(N,j,Y,"","\\Diamond");$(N,j,Y,"","\\yen",!0);$(oe,j,Y,"","\\yen",!0);$(N,j,Y,"","\\checkmark",!0);$(oe,j,Y,"","\\checkmark");$(N,j,Y,"","\\beth",!0);$(N,j,Y,"","\\daleth",!0);$(N,j,Y,"","\\gimel",!0);$(N,j,Y,"","\\digamma",!0);$(N,j,Y,"","\\varkappa");$(N,j,Rt,"","\\@ulcorner",!0);$(N,j,At,"","\\@urcorner",!0);$(N,j,Rt,"","\\@llcorner",!0);$(N,j,At,"","\\@lrcorner",!0);$(N,j,q,"","\\leqq",!0);$(N,j,q,"","\\leqslant",!0);$(N,j,q,"","\\eqslantless",!0);$(N,j,q,"","\\lesssim",!0);$(N,j,q,"","\\lessapprox",!0);$(N,j,q,"","\\approxeq",!0);$(N,j,me,"","\\lessdot");$(N,j,q,"","\\lll",!0);$(N,j,q,"","\\lessgtr",!0);$(N,j,q,"","\\lesseqgtr",!0);$(N,j,q,"","\\lesseqqgtr",!0);$(N,j,q,"","\\doteqdot");$(N,j,q,"","\\risingdotseq",!0);$(N,j,q,"","\\fallingdotseq",!0);$(N,j,q,"","\\backsim",!0);$(N,j,q,"","\\backsimeq",!0);$(N,j,q,"","\\subseteqq",!0);$(N,j,q,"","\\Subset",!0);$(N,j,q,"","\\sqsubset",!0);$(N,j,q,"","\\preccurlyeq",!0);$(N,j,q,"","\\curlyeqprec",!0);$(N,j,q,"","\\precsim",!0);$(N,j,q,"","\\precapprox",!0);$(N,j,q,"","\\vartriangleleft");$(N,j,q,"","\\trianglelefteq");$(N,j,q,"","\\vDash",!0);$(N,j,q,"","\\Vvdash",!0);$(N,j,q,"","\\smallsmile");$(N,j,q,"","\\smallfrown");$(N,j,q,"","\\bumpeq",!0);$(N,j,q,"","\\Bumpeq",!0);$(N,j,q,"","\\geqq",!0);$(N,j,q,"","\\geqslant",!0);$(N,j,q,"","\\eqslantgtr",!0);$(N,j,q,"","\\gtrsim",!0);$(N,j,q,"","\\gtrapprox",!0);$(N,j,me,"","\\gtrdot");$(N,j,q,"","\\ggg",!0);$(N,j,q,"","\\gtrless",!0);$(N,j,q,"","\\gtreqless",!0);$(N,j,q,"","\\gtreqqless",!0);$(N,j,q,"","\\eqcirc",!0);$(N,j,q,"","\\circeq",!0);$(N,j,q,"","\\triangleq",!0);$(N,j,q,"","\\thicksim");$(N,j,q,"","\\thickapprox");$(N,j,q,"","\\supseteqq",!0);$(N,j,q,"","\\Supset",!0);$(N,j,q,"","\\sqsupset",!0);$(N,j,q,"","\\succcurlyeq",!0);$(N,j,q,"","\\curlyeqsucc",!0);$(N,j,q,"","\\succsim",!0);$(N,j,q,"","\\succapprox",!0);$(N,j,q,"","\\vartriangleright");$(N,j,q,"","\\trianglerighteq");$(N,j,q,"","\\Vdash",!0);$(N,j,q,"","\\shortmid");$(N,j,q,"","\\shortparallel");$(N,j,q,"","\\between",!0);$(N,j,q,"","\\pitchfork",!0);$(N,j,q,"","\\varpropto");$(N,j,q,"","\\blacktriangleleft");$(N,j,q,"","\\therefore",!0);$(N,j,q,"","\\backepsilon");$(N,j,q,"","\\blacktriangleright");$(N,j,q,"","\\because",!0);$(N,j,q,"","\\llless");$(N,j,q,"","\\gggtr");$(N,j,me,"","\\lhd");$(N,j,me,"","\\rhd");$(N,j,q,"","\\eqsim",!0);$(N,z,q,"","\\Join");$(N,j,q,"","\\Doteq",!0);$(N,j,me,"","\\dotplus",!0);$(N,j,me,"","\\smallsetminus");$(N,j,me,"","\\Cap",!0);$(N,j,me,"","\\Cup",!0);$(N,j,me,"","\\doublebarwedge",!0);$(N,j,me,"","\\boxminus",!0);$(N,j,me,"","\\boxplus",!0);$(N,j,me,"","\\divideontimes",!0);$(N,j,me,"","\\ltimes",!0);$(N,j,me,"","\\rtimes",!0);$(N,j,me,"","\\leftthreetimes",!0);$(N,j,me,"","\\rightthreetimes",!0);$(N,j,me,"","\\curlywedge",!0);$(N,j,me,"","\\curlyvee",!0);$(N,j,me,"","\\circleddash",!0);$(N,j,me,"","\\circledast",!0);$(N,j,me,"","\\centerdot");$(N,j,me,"","\\intercal",!0);$(N,j,me,"","\\doublecap");$(N,j,me,"","\\doublecup");$(N,j,me,"","\\boxtimes",!0);$(N,j,q,"","\\dashrightarrow",!0);$(N,j,q,"","\\dashleftarrow",!0);$(N,j,q,"","\\leftleftarrows",!0);$(N,j,q,"","\\leftrightarrows",!0);$(N,j,q,"","\\Lleftarrow",!0);$(N,j,q,"","\\twoheadleftarrow",!0);$(N,j,q,"","\\leftarrowtail",!0);$(N,j,q,"","\\looparrowleft",!0);$(N,j,q,"","\\leftrightharpoons",!0);$(N,j,q,"","\\curvearrowleft",!0);$(N,j,q,"","\\circlearrowleft",!0);$(N,j,q,"","\\Lsh",!0);$(N,j,q,"","\\upuparrows",!0);$(N,j,q,"","\\upharpoonleft",!0);$(N,j,q,"","\\downharpoonleft",!0);$(N,z,q,"","\\origof",!0);$(N,z,q,"","\\imageof",!0);$(N,j,q,"","\\multimap",!0);$(N,j,q,"","\\leftrightsquigarrow",!0);$(N,j,q,"","\\rightrightarrows",!0);$(N,j,q,"","\\rightleftarrows",!0);$(N,j,q,"","\\twoheadrightarrow",!0);$(N,j,q,"","\\rightarrowtail",!0);$(N,j,q,"","\\looparrowright",!0);$(N,j,q,"","\\curvearrowright",!0);$(N,j,q,"","\\circlearrowright",!0);$(N,j,q,"","\\Rsh",!0);$(N,j,q,"","\\downdownarrows",!0);$(N,j,q,"","\\upharpoonright",!0);$(N,j,q,"","\\downharpoonright",!0);$(N,j,q,"","\\rightsquigarrow",!0);$(N,j,q,"","\\leadsto");$(N,j,q,"","\\Rrightarrow",!0);$(N,j,q,"","\\restriction");$(N,z,Y,"","`");$(N,z,Y,"$","\\$");$(oe,z,Y,"$","\\$");$(oe,z,Y,"$","\\textdollar");$(N,z,Y,"%","\\%");$(oe,z,Y,"%","\\%");$(N,z,Y,"_","\\_");$(oe,z,Y,"_","\\_");$(oe,z,Y,"_","\\textunderscore");$(N,z,Y,"","\\angle",!0);$(N,z,Y,"","\\infty",!0);$(N,z,Y,"","\\prime");$(N,z,Y,"","\\triangle");$(N,z,Y,"","\\Gamma",!0);$(N,z,Y,"","\\Delta",!0);$(N,z,Y,"","\\Theta",!0);$(N,z,Y,"","\\Lambda",!0);$(N,z,Y,"","\\Xi",!0);$(N,z,Y,"","\\Pi",!0);$(N,z,Y,"","\\Sigma",!0);$(N,z,Y,"","\\Upsilon",!0);$(N,z,Y,"","\\Phi",!0);$(N,z,Y,"","\\Psi",!0);$(N,z,Y,"","\\Omega",!0);$(N,z,Y,"A","");$(N,z,Y,"B","");$(N,z,Y,"E","");$(N,z,Y,"Z","");$(N,z,Y,"H","");$(N,z,Y,"I","");$(N,z,Y,"K","");$(N,z,Y,"M","");$(N,z,Y,"N","");$(N,z,Y,"O","");$(N,z,Y,"P","");$(N,z,Y,"T","");$(N,z,Y,"X","");$(N,z,Y,"","\\neg",!0);$(N,z,Y,"","\\lnot");$(N,z,Y,"","\\top");$(N,z,Y,"","\\bot");$(N,z,Y,"","\\emptyset");$(N,j,Y,"","\\varnothing");$(N,z,ye,"","\\alpha",!0);$(N,z,ye,"","\\beta",!0);$(N,z,ye,"","\\gamma",!0);$(N,z,ye,"","\\delta",!0);$(N,z,ye,"","\\epsilon",!0);$(N,z,ye,"","\\zeta",!0);$(N,z,ye,"","\\eta",!0);$(N,z,ye,"","\\theta",!0);$(N,z,ye,"","\\iota",!0);$(N,z,ye,"","\\kappa",!0);$(N,z,ye,"","\\lambda",!0);$(N,z,ye,"","\\mu",!0);$(N,z,ye,"","\\nu",!0);$(N,z,ye,"","\\xi",!0);$(N,z,ye,"","\\omicron",!0);$(N,z,ye,"","\\pi",!0);$(N,z,ye,"","\\rho",!0);$(N,z,ye,"","\\sigma",!0);$(N,z,ye,"","\\tau",!0);$(N,z,ye,"","\\upsilon",!0);$(N,z,ye,"","\\phi",!0);$(N,z,ye,"","\\chi",!0);$(N,z,ye,"","\\psi",!0);$(N,z,ye,"","\\omega",!0);$(N,z,ye,"","\\varepsilon",!0);$(N,z,ye,"","\\vartheta",!0);$(N,z,ye,"","\\varpi",!0);$(N,z,ye,"","\\varrho",!0);$(N,z,ye,"","\\varsigma",!0);$(N,z,ye,"","\\varphi",!0);$(N,z,me,"","*",!0);$(N,z,me,"+","+");$(N,z,me,"","-",!0);$(N,z,me,"","\\cdot",!0);$(N,z,me,"","\\circ",!0);$(N,z,me,"","\\div",!0);$(N,z,me,"","\\pm",!0);$(N,z,me,"","\\times",!0);$(N,z,me,"","\\cap",!0);$(N,z,me,"","\\cup",!0);$(N,z,me,"","\\setminus",!0);$(N,z,me,"","\\land");$(N,z,me,"","\\lor");$(N,z,me,"","\\wedge",!0);$(N,z,me,"","\\vee",!0);$(N,z,Y,"","\\surd");$(N,z,Rt,"","\\langle",!0);$(N,z,Rt,"","\\lvert");$(N,z,Rt,"","\\lVert");$(N,z,At,"?","?");$(N,z,At,"!","!");$(N,z,At,"","\\rangle",!0);$(N,z,At,"","\\rvert");$(N,z,At,"","\\rVert");$(N,z,q,"=","=");$(N,z,q,":",":");$(N,z,q,"","\\approx",!0);$(N,z,q,"","\\cong",!0);$(N,z,q,"","\\ge");$(N,z,q,"","\\geq",!0);$(N,z,q,"","\\gets");$(N,z,q,">","\\gt",!0);$(N,z,q,"","\\in",!0);$(N,z,q,"","\\@not");$(N,z,q,"","\\subset",!0);$(N,z,q,"","\\supset",!0);$(N,z,q,"","\\subseteq",!0);$(N,z,q,"","\\supseteq",!0);$(N,j,q,"","\\nsubseteq",!0);$(N,j,q,"","\\nsupseteq",!0);$(N,z,q,"","\\models");$(N,z,q,"","\\leftarrow",!0);$(N,z,q,"","\\le");$(N,z,q,"","\\leq",!0);$(N,z,q,"<","\\lt",!0);$(N,z,q,"","\\rightarrow",!0);$(N,z,q,"","\\to");$(N,j,q,"","\\ngeq",!0);$(N,j,q,"","\\nleq",!0);$(N,z,Cn,"","\\ ");$(N,z,Cn,"","\\space");$(N,z,Cn,"","\\nobreakspace");$(oe,z,Cn,"","\\ ");$(oe,z,Cn,""," ");$(oe,z,Cn,"","\\space");$(oe,z,Cn,"","\\nobreakspace");$(N,z,Cn,null,"\\nobreak");$(N,z,Cn,null,"\\allowbreak");$(N,z,Fo,",",",");$(N,z,Fo,";",";");$(N,j,me,"","\\barwedge",!0);$(N,j,me,"","\\veebar",!0);$(N,z,me,"","\\odot",!0);$(N,z,me,"","\\oplus",!0);$(N,z,me,"","\\otimes",!0);$(N,z,Y,"","\\partial",!0);$(N,z,me,"","\\oslash",!0);$(N,j,me,"","\\circledcirc",!0);$(N,j,me,"","\\boxdot",!0);$(N,z,me,"","\\bigtriangleup");$(N,z,me,"","\\bigtriangledown");$(N,z,me,"","\\dagger");$(N,z,me,"","\\diamond");$(N,z,me,"","\\star");$(N,z,me,"","\\triangleleft");$(N,z,me,"","\\triangleright");$(N,z,Rt,"{","\\{");$(oe,z,Y,"{","\\{");$(oe,z,Y,"{","\\textbraceleft");$(N,z,At,"}","\\}");$(oe,z,Y,"}","\\}");$(oe,z,Y,"}","\\textbraceright");$(N,z,Rt,"{","\\lbrace");$(N,z,At,"}","\\rbrace");$(N,z,Rt,"[","\\lbrack",!0);$(oe,z,Y,"[","\\lbrack",!0);$(N,z,At,"]","\\rbrack",!0);$(oe,z,Y,"]","\\rbrack",!0);$(N,z,Rt,"(","\\lparen",!0);$(N,z,At,")","\\rparen",!0);$(oe,z,Y,"<","\\textless",!0);$(oe,z,Y,">","\\textgreater",!0);$(N,z,Rt,"","\\lfloor",!0);$(N,z,At,"","\\rfloor",!0);$(N,z,Rt,"","\\lceil",!0);$(N,z,At,"","\\rceil",!0);$(N,z,Y,"\\","\\backslash");$(N,z,Y,"","|");$(N,z,Y,"","\\vert");$(oe,z,Y,"|","\\textbar",!0);$(N,z,Y,"","\\|");$(N,z,Y,"","\\Vert");$(oe,z,Y,"","\\textbardbl");$(oe,z,Y,"~","\\textasciitilde");$(oe,z,Y,"\\","\\textbackslash");$(oe,z,Y,"^","\\textasciicircum");$(N,z,q,"","\\uparrow",!0);$(N,z,q,"","\\Uparrow",!0);$(N,z,q,"","\\downarrow",!0);$(N,z,q,"","\\Downarrow",!0);$(N,z,q,"","\\updownarrow",!0);$(N,z,q,"","\\Updownarrow",!0);$(N,z,rt,"","\\coprod");$(N,z,rt,"","\\bigvee");$(N,z,rt,"","\\bigwedge");$(N,z,rt,"","\\biguplus");$(N,z,rt,"","\\bigcap");$(N,z,rt,"","\\bigcup");$(N,z,rt,"","\\int");$(N,z,rt,"","\\intop");$(N,z,rt,"","\\iint");$(N,z,rt,"","\\iiint");$(N,z,rt,"","\\prod");$(N,z,rt,"","\\sum");$(N,z,rt,"","\\bigotimes");$(N,z,rt,"","\\bigoplus");$(N,z,rt,"","\\bigodot");$(N,z,rt,"","\\oint");$(N,z,rt,"","\\oiint");$(N,z,rt,"","\\oiiint");$(N,z,rt,"","\\bigsqcup");$(N,z,rt,"","\\smallint");$(oe,z,ti,"","\\textellipsis");$(N,z,ti,"","\\mathellipsis");$(oe,z,ti,"","\\ldots",!0);$(N,z,ti,"","\\ldots",!0);$(N,z,ti,"","\\@cdots",!0);$(N,z,ti,"","\\ddots",!0);$(N,z,Y,"","\\varvdots");$(oe,z,Y,"","\\varvdots");$(N,z,We,"","\\acute");$(N,z,We,"","\\grave");$(N,z,We,"","\\ddot");$(N,z,We,"~","\\tilde");$(N,z,We,"","\\bar");$(N,z,We,"","\\breve");$(N,z,We,"","\\check");$(N,z,We,"^","\\hat");$(N,z,We,"","\\vec");$(N,z,We,"","\\dot");$(N,z,We,"","\\mathring");$(N,z,ye,"","\\@imath");$(N,z,ye,"","\\@jmath");$(N,z,Y,"","");$(N,z,Y,"","");$(oe,z,Y,"","\\i",!0);$(oe,z,Y,"","\\j",!0);$(oe,z,Y,"","\\ss",!0);$(oe,z,Y,"","\\ae",!0);$(oe,z,Y,"","\\oe",!0);$(oe,z,Y,"","\\o",!0);$(oe,z,Y,"","\\AE",!0);$(oe,z,Y,"","\\OE",!0);$(oe,z,Y,"","\\O",!0);$(oe,z,We,"","\\'");$(oe,z,We,"","\\`");$(oe,z,We,"","\\^");$(oe,z,We,"","\\~");$(oe,z,We,"","\\=");$(oe,z,We,"","\\u");$(oe,z,We,"","\\.");$(oe,z,We,"","\\c");$(oe,z,We,"","\\r");$(oe,z,We,"","\\v");$(oe,z,We,"",'\\"');$(oe,z,We,"","\\H");$(oe,z,We,"","\\textcircled");var ap={"--":!0,"---":!0,"``":!0,"''":!0};$(oe,z,Y,"","--",!0);$(oe,z,Y,"","\\textendash");$(oe,z,Y,"","---",!0);$(oe,z,Y,"","\\textemdash");$(oe,z,Y,"","`",!0);$(oe,z,Y,"","\\textquoteleft");$(oe,z,Y,"","'",!0);$(oe,z,Y,"","\\textquoteright");$(oe,z,Y,"","``",!0);$(oe,z,Y,"","\\textquotedblleft");$(oe,z,Y,"","''",!0);$(oe,z,Y,"","\\textquotedblright");$(N,z,Y,"","\\degree",!0);$(oe,z,Y,"","\\degree");$(oe,z,Y,"","\\textdegree",!0);$(N,z,Y,"","\\pounds");$(N,z,Y,"","\\mathsterling",!0);$(oe,z,Y,"","\\pounds");$(oe,z,Y,"","\\textsterling",!0);$(N,j,Y,"","\\maltese");$(oe,j,Y,"","\\maltese");var n0='0123456789/@."';for(var Ta=0;Ta<n0.length;Ta++){var r0=n0.charAt(Ta);$(N,z,Y,r0,r0)}var i0='0123456789!@*()-=+";:?/.,';for(var Ea=0;Ea<i0.length;Ea++){var s0=i0.charAt(Ea);$(oe,z,Y,s0,s0)}var po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ca=0;Ca<po.length;Ca++){var Es=po.charAt(Ca);$(N,z,ye,Es,Es),$(oe,z,Y,Es,Es)}$(N,j,Y,"C","");$(oe,j,Y,"C","");$(N,j,Y,"H","");$(oe,j,Y,"H","");$(N,j,Y,"N","");$(oe,j,Y,"N","");$(N,j,Y,"P","");$(oe,j,Y,"P","");$(N,j,Y,"Q","");$(oe,j,Y,"Q","");$(N,j,Y,"R","");$(oe,j,Y,"R","");$(N,j,Y,"Z","");$(oe,j,Y,"Z","");$(N,z,ye,"h","");$(oe,z,ye,"h","");var Ae="";for(var St=0;St<po.length;St++){var Xe=po.charAt(St);Ae=String.fromCharCode(55349,56320+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56372+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56424+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56580+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56684+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56736+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56788+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56840+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56944+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),St<26&&(Ae=String.fromCharCode(55349,56632+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae),Ae=String.fromCharCode(55349,56476+St),$(N,z,ye,Xe,Ae),$(oe,z,Y,Xe,Ae))}Ae="";$(N,z,ye,"k",Ae);$(oe,z,Y,"k",Ae);for(var lr=0;lr<10;lr++){var Nn=lr.toString();Ae=String.fromCharCode(55349,57294+lr),$(N,z,ye,Nn,Ae),$(oe,z,Y,Nn,Ae),Ae=String.fromCharCode(55349,57314+lr),$(N,z,ye,Nn,Ae),$(oe,z,Y,Nn,Ae),Ae=String.fromCharCode(55349,57324+lr),$(N,z,ye,Nn,Ae),$(oe,z,Y,Nn,Ae),Ae=String.fromCharCode(55349,57334+lr),$(N,z,ye,Nn,Ae),$(oe,z,Y,Nn,Ae)}var hl="";for(var xa=0;xa<hl.length;xa++){var Cs=hl.charAt(xa);$(N,z,ye,Cs,Cs),$(oe,z,Y,Cs,Cs)}var xs=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],o0=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],L5=function(e,t){var n=e.charCodeAt(0),i=e.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,l=t==="math"?0:1;if(119808<=s&&s<120484){var m=Math.floor((s-119808)/26);return[xs[m][2],xs[m][l]]}else if(120782<=s&&s<=120831){var o=Math.floor((s-120782)/10);return[o0[o][2],o0[o][l]]}else{if(s===120485||s===120486)return[xs[0][2],xs[0][l]];if(120486<s&&s<120782)return["",""];throw new ue("Unsupported character: "+e)}},zo=function(e,t,n){return Ve[n][e]&&Ve[n][e].replace&&(e=Ve[n][e].replace),{value:e,metrics:fc(e,t,n)}},zt=function(e,t,n,i,s){var l=zo(e,t,n),m=l.metrics;e=l.value;var o;if(m){var d=m.italic;(n==="text"||i&&i.font==="mathit")&&(d=0),o=new Pt(e,m.height,m.depth,d,m.skew,m.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),o=new Pt(e,0,0,0,0,0,s);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var a=i.getColor();a&&(o.style.color=a)}return o},$5=function(e,t,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&zo(e,"Main-Bold",t).metrics?zt(e,"Main-Bold",t,n,i.concat(["mathbf"])):e==="\\"||Ve[t][e].font==="main"?zt(e,"Main-Regular",t,n,i):zt(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},D5=function(e,t,n,i,s){return s!=="textord"&&zo(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},N5=function(e,t,n){var i=e.mode,s=e.text,l=["mord"],m=i==="math"||i==="text"&&t.font,o=m?t.font:t.fontFamily,d="",a="";if(s.charCodeAt(0)===55349&&([d,a]=L5(s,i)),d.length>0)return zt(s,d,i,t,l.concat(a));if(o){var f,u;if(o==="boldsymbol"){var h=D5(s,i,t,l,n);f=h.fontName,u=[h.fontClass]}else m?(f=up[o].fontName,u=[o]):(f=ks(o,t.fontWeight,t.fontShape),u=[o,t.fontWeight,t.fontShape]);if(zo(s,f,i).metrics)return zt(s,f,i,t,l.concat(u));if(ap.hasOwnProperty(s)&&f.slice(0,10)==="Typewriter"){for(var c=[],p=0;p<s.length;p++)c.push(zt(s[p],f,i,t,l.concat(u)));return cp(c)}}if(n==="mathord")return zt(s,"Math-Italic",i,t,l.concat(["mathnormal"]));if(n==="textord"){var g=Ve[i][s]&&Ve[i][s].font;if(g==="ams"){var y=ks("amsrm",t.fontWeight,t.fontShape);return zt(s,y,i,t,l.concat("amsrm",t.fontWeight,t.fontShape))}else if(g==="main"||!g){var w=ks("textrm",t.fontWeight,t.fontShape);return zt(s,w,i,t,l.concat(t.fontWeight,t.fontShape))}else{var M=ks(g,t.fontWeight,t.fontShape);return zt(s,M,i,t,l.concat(M,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},O5=(r,e)=>{if(Zn(r.classes)!==Zn(e.classes)||r.skew!==e.skew||r.maxFontSize!==e.maxFontSize)return!1;if(r.classes.length===1){var t=r.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in r.style)if(r.style.hasOwnProperty(n)&&r.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&r.style[i]!==e.style[i])return!1;return!0},P5=r=>{for(var e=0;e<r.length-1;e++){var t=r[e],n=r[e+1];t instanceof Pt&&n instanceof Pt&&O5(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,r.splice(e+1,1),e--)}return r},mc=function(e){for(var t=0,n=0,i=0,s=0;s<e.children.length;s++){var l=e.children[s];l.height>t&&(t=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Tt=function(e,t,n,i){var s=new is(e,t,n,i);return mc(s),s},lp=(r,e,t,n)=>new is(r,e,t,n),F5=function(e,t,n){var i=Tt([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=de(i.height),i.maxFontSize=1,i},z5=function(e,t,n,i){var s=new pc(e,t,n,i);return mc(s),s},cp=function(e){var t=new rs(e);return mc(t),t},V5=function(e,t){return e instanceof rs?Tt([],[e],t):e},B5=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,s=i,l=1;l<t.length;l++){var m=-t[l].shift-s-t[l].elem.depth,o=m-(t[l-1].elem.height+t[l-1].elem.depth);s=s+m,n.push({type:"kern",size:o}),n.push(t[l])}return{children:n,depth:i}}var d;if(e.positionType==="top"){for(var a=e.positionData,f=0;f<e.children.length;f++){var u=e.children[f];a-=u.type==="kern"?u.size:u.elem.height+u.elem.depth}d=a}else if(e.positionType==="bottom")d=-e.positionData;else{var h=e.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")d=-h.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")d=-h.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:d}},H5=function(e,t){for(var{children:n,depth:i}=B5(e),s=0,l=0;l<n.length;l++){var m=n[l];if(m.type==="elem"){var o=m.elem;s=Math.max(s,o.maxFontSize,o.height)}}s+=2;var d=Tt(["pstrut"],[]);d.style.height=de(s);for(var a=[],f=i,u=i,h=i,c=0;c<n.length;c++){var p=n[c];if(p.type==="kern")h+=p.size;else{var g=p.elem,y=p.wrapperClasses||[],w=p.wrapperStyle||{},M=Tt(y,[d,g],void 0,w);M.style.top=de(-s-h-g.depth),p.marginLeft&&(M.style.marginLeft=p.marginLeft),p.marginRight&&(M.style.marginRight=p.marginRight),a.push(M),h+=g.height+g.depth}f=Math.min(f,h),u=Math.max(u,h)}var R=Tt(["vlist"],a);R.style.height=de(u);var x;if(f<0){var _=Tt([],[]),E=Tt(["vlist"],[_]);E.style.height=de(-f);var k=Tt(["vlist-s"],[new Pt("")]);x=[Tt(["vlist-r"],[R,k]),Tt(["vlist-r"],[E])]}else x=[Tt(["vlist-r"],[R])];var T=Tt(["vlist-t"],x);return x.length===2&&T.classes.push("vlist-t2"),T.height=u,T.depth=-f,T},U5=(r,e)=>{var t=Tt(["mspace"],[],e),n=qe(r,e);return t.style.marginRight=de(n),t},ks=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return t==="textbf"&&n==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",i+"-"+s},up={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},hp={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},W5=function(e,t){var[n,i,s]=hp[e],l=new er(n),m=new _n([l],{width:de(i),height:de(s),style:"width:"+de(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),o=lp(["overlay"],[m],t);return o.height=s,o.style.height=de(s),o.style.width=de(i),o},te={fontMap:up,makeSymbol:zt,mathsym:$5,makeSpan:Tt,makeSvgSpan:lp,makeLineSpan:F5,makeAnchor:z5,makeFragment:cp,wrapFragment:V5,makeVList:H5,makeOrd:N5,makeGlue:U5,staticSvg:W5,svgData:hp,tryCombineChars:P5},je={number:3,unit:"mu"},cr={number:4,unit:"mu"},un={number:5,unit:"mu"},j5={mord:{mop:je,mbin:cr,mrel:un,minner:je},mop:{mord:je,mop:je,mrel:un,minner:je},mbin:{mord:cr,mop:cr,mopen:cr,minner:cr},mrel:{mord:un,mop:un,mopen:un,minner:un},mopen:{},mclose:{mop:je,mbin:cr,mrel:un,minner:je},mpunct:{mord:je,mop:je,mrel:un,mopen:je,mclose:je,mpunct:je,minner:je},minner:{mord:je,mop:je,mbin:cr,mrel:un,mopen:je,mpunct:je,minner:je}},G5={mord:{mop:je},mop:{mord:je,mop:je},mbin:{},mrel:{},mopen:{},mclose:{mop:je},mpunct:{},minner:{mop:je}},dp={},mo={},go={};function pe(r){for(var{type:e,names:t,props:n,handler:i,htmlBuilder:s,mathmlBuilder:l}=r,m={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},o=0;o<t.length;++o)dp[t[o]]=m;e&&(s&&(mo[e]=s),l&&(go[e]=l))}function Ar(r){var{type:e,htmlBuilder:t,mathmlBuilder:n}=r;pe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var vo=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},et=function(e){return e.type==="ordgroup"?e.body:[e]},An=te.makeSpan,q5=["leftmost","mbin","mopen","mrel","mop","mpunct"],K5=["rightmost","mrel","mclose","mpunct"],Y5={display:we.DISPLAY,text:we.TEXT,script:we.SCRIPT,scriptscript:we.SCRIPTSCRIPT},Q5={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},at=function(e,t,n,i){i===void 0&&(i=[null,null]);for(var s=[],l=0;l<e.length;l++){var m=De(e[l],t);if(m instanceof rs){var o=m.children;s.push(...o)}else s.push(m)}if(te.tryCombineChars(s),!n)return s;var d=t;if(e.length===1){var a=e[0];a.type==="sizing"?d=t.havingSize(a.size):a.type==="styling"&&(d=t.havingStyle(Y5[a.style]))}var f=An([i[0]||"leftmost"],[],t),u=An([i[1]||"rightmost"],[],t),h=n==="root";return a0(s,(c,p)=>{var g=p.classes[0],y=c.classes[0];g==="mbin"&&K5.includes(y)?p.classes[0]="mord":y==="mbin"&&q5.includes(g)&&(c.classes[0]="mord")},{node:f},u,h),a0(s,(c,p)=>{var g=dl(p),y=dl(c),w=g&&y?c.hasClass("mtight")?G5[g][y]:j5[g][y]:null;if(w)return te.makeGlue(w,d)},{node:f},u,h),s},a0=function r(e,t,n,i,s){i&&e.push(i);for(var l=0;l<e.length;l++){var m=e[l],o=fp(m);if(o){r(o.children,t,n,null,s);continue}var d=!m.hasClass("mspace");if(d){var a=t(m,n.node);a&&(n.insertAfter?n.insertAfter(a):(e.unshift(a),l++))}d?n.node=m:s&&m.hasClass("newline")&&(n.node=An(["leftmost"])),n.insertAfter=(f=>u=>{e.splice(f+1,0,u),l++})(l)}i&&e.pop()},fp=function(e){return e instanceof rs||e instanceof pc||e instanceof is&&e.hasClass("enclosing")?e:null},X5=function r(e,t){var n=fp(e);if(n){var i=n.children;if(i.length){if(t==="right")return r(i[i.length-1],"right");if(t==="left")return r(i[0],"left")}}return e},dl=function(e,t){return e?(t&&(e=X5(e,t)),Q5[e.classes[0]]||null):null},ji=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return An(t.concat(n))},De=function(e,t,n){if(!e)return An();if(mo[e.type]){var i=mo[e.type](e,t);if(n&&t.size!==n.size){i=An(t.sizingClasses(n),[i],t);var s=t.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new ue("Got group of unknown type: '"+e.type+"'")};function Is(r,e){var t=An(["base"],r,e),n=An(["strut"]);return n.style.height=de(t.height+t.depth),t.depth&&(n.style.verticalAlign=de(-t.depth)),t.children.unshift(n),t}function fl(r,e){var t=null;r.length===1&&r[0].type==="tag"&&(t=r[0].tag,r=r[0].body);var n=at(r,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],l=[],m=0;m<n.length;m++)if(l.push(n[m]),n[m].hasClass("mbin")||n[m].hasClass("mrel")||n[m].hasClass("allowbreak")){for(var o=!1;m<n.length-1&&n[m+1].hasClass("mspace")&&!n[m+1].hasClass("newline");)m++,l.push(n[m]),n[m].hasClass("nobreak")&&(o=!0);o||(s.push(Is(l,e)),l=[])}else n[m].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(Is(l,e)),l=[]),s.push(n[m]));l.length>0&&s.push(Is(l,e));var d;t?(d=Is(at(t,e,!0)),d.classes=["tag"],s.push(d)):i&&s.push(i);var a=An(["katex-html"],s);if(a.setAttribute("aria-hidden","true"),d){var f=d.children[0];f.style.height=de(a.height+a.depth),a.depth&&(f.style.verticalAlign=de(-a.depth))}return a}function pp(r){return new rs(r)}class It{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Zn(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Xt&&this.children[n+1]instanceof Xt){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Xt;)i+=this.children[++n].toText();e.appendChild(new Xt(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Ne.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Ne.escape(Zn(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Xt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ne.escape(this.toText())}toText(){return this.text}}class J5{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",de(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+de(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var le={MathNode:It,TextNode:Xt,SpaceNode:J5,newDocumentFragment:pp},Ft=function(e,t,n){return Ve[t][e]&&Ve[t][e].replace&&e.charCodeAt(0)!==55349&&!(ap.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Ve[t][e].replace),new le.TextNode(e)},gc=function(e){return e.length===1?e[0]:new le.MathNode("mrow",e)},vc=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;Ve[i][s]&&Ve[i][s].replace&&(s=Ve[i][s].replace);var l=te.fontMap[n].fontName;return fc(s,l,i)?te.fontMap[n].variant:null};function ka(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var e=r.children[0];return e instanceof Xt&&e.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var t=r.children[0];return t instanceof Xt&&t.text===","}else return!1}var xt=function(e,t,n){if(e.length===1){var i=Fe(e[0],t);return n&&i instanceof It&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],l,m=0;m<e.length;m++){var o=Fe(e[m],t);if(o instanceof It&&l instanceof It){if(o.type==="mtext"&&l.type==="mtext"&&o.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...o.children);continue}else if(o.type==="mn"&&l.type==="mn"){l.children.push(...o.children);continue}else if(ka(o)&&l.type==="mn"){l.children.push(...o.children);continue}else if(o.type==="mn"&&ka(l))o.children=[...l.children,...o.children],s.pop();else if((o.type==="msup"||o.type==="msub")&&o.children.length>=1&&(l.type==="mn"||ka(l))){var d=o.children[0];d instanceof It&&d.type==="mn"&&(d.children=[...l.children,...d.children],s.pop())}else if(l.type==="mi"&&l.children.length===1){var a=l.children[0];if(a instanceof Xt&&a.text===""&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var f=o.children[0];f instanceof Xt&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),s.pop())}}}s.push(o),l=o}return s},tr=function(e,t,n){return gc(xt(e,t,n))},Fe=function(e,t){if(!e)return new le.MathNode("mrow");if(go[e.type]){var n=go[e.type](e,t);return n}else throw new ue("Got group of unknown type: '"+e.type+"'")};function l0(r,e,t,n,i){var s=xt(r,t),l;s.length===1&&s[0]instanceof It&&["mrow","mtable"].includes(s[0].type)?l=s[0]:l=new le.MathNode("mrow",s);var m=new le.MathNode("annotation",[new le.TextNode(e)]);m.setAttribute("encoding","application/x-tex");var o=new le.MathNode("semantics",[l,m]),d=new le.MathNode("math",[o]);d.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&d.setAttribute("display","block");var a=i?"katex":"katex-mathml";return te.makeSpan([a],[d])}var mp=function(e){return new hn({style:e.displayMode?we.DISPLAY:we.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},gp=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=te.makeSpan(n,[e])}return e},Z5=function(e,t,n){var i=mp(n),s;if(n.output==="mathml")return l0(e,t,i,n.displayMode,!0);if(n.output==="html"){var l=fl(e,i);s=te.makeSpan(["katex"],[l])}else{var m=l0(e,t,i,n.displayMode,!1),o=fl(e,i);s=te.makeSpan(["katex"],[m,o])}return gp(s,n)},e3=function(e,t,n){var i=mp(n),s=fl(e,i),l=te.makeSpan(["katex"],[s]);return gp(l,n)},t3={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},n3=function(e){var t=new le.MathNode("mo",[new le.TextNode(t3[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},r3={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},i3=function(e){return e.type==="ordgroup"?e.body.length:1},s3=function(e,t){function n(){var m=4e5,o=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(o)){var d=e,a=i3(d.base),f,u,h;if(a>5)o==="widehat"||o==="widecheck"?(f=420,m=2364,h=.42,u=o+"4"):(f=312,m=2340,h=.34,u="tilde4");else{var c=[1,1,2,2,3,3][a];o==="widehat"||o==="widecheck"?(m=[0,1062,2364,2364,2364][c],f=[0,239,300,360,420][c],h=[0,.24,.3,.3,.36,.42][c],u=o+c):(m=[0,600,1033,2339,2340][c],f=[0,260,286,306,312][c],h=[0,.26,.286,.3,.306,.34][c],u="tilde"+c)}var p=new er(u),g=new _n([p],{width:"100%",height:de(h),viewBox:"0 0 "+m+" "+f,preserveAspectRatio:"none"});return{span:te.makeSvgSpan([],[g],t),minWidth:0,height:h}}else{var y=[],w=r3[o],[M,R,x]=w,_=x/1e3,E=M.length,k,T;if(E===1){var I=w[3];k=["hide-tail"],T=[I]}else if(E===2)k=["halfarrow-left","halfarrow-right"],T=["xMinYMin","xMaxYMin"];else if(E===3)k=["brace-left","brace-center","brace-right"],T=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+E+" children.");for(var O=0;O<E;O++){var C=new er(M[O]),b=new _n([C],{width:"400em",height:de(_),viewBox:"0 0 "+m+" "+x,preserveAspectRatio:T[O]+" slice"}),A=te.makeSvgSpan([k[O]],[b],t);if(E===1)return{span:A,minWidth:R,height:_};A.style.height=de(_),y.push(A)}return{span:te.makeSpan(["stretchy"],y,t),minWidth:R,height:_}}}var{span:i,minWidth:s,height:l}=n();return i.height=l,i.style.height=de(l),s>0&&(i.style.minWidth=de(s)),i},o3=function(e,t,n,i,s){var l,m=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(l=te.makeSpan(["stretchy",t],[],s),t==="fbox"){var o=s.color&&s.getColor();o&&(l.style.borderColor=o)}}else{var d=[];/^[bx]cancel$/.test(t)&&d.push(new ul({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&d.push(new ul({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var a=new _n(d,{width:"100%",height:de(m)});l=te.makeSvgSpan([],[a],s)}return l.height=m,l.style.height=de(m),l},Tn={encloseSpan:o3,mathMLnode:n3,svgSpan:s3};function xe(r,e){if(!r||r.type!==e)throw new Error("Expected node of type "+e+", but got "+(r?"node of type "+r.type:String(r)));return r}function yc(r){var e=Vo(r);if(!e)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return e}function Vo(r){return r&&(r.type==="atom"||R5.hasOwnProperty(r.type))?r:null}var wc=(r,e)=>{var t,n,i;r&&r.type==="supsub"?(n=xe(r.base,"accent"),t=n.base,r.base=t,i=I5(De(r,e)),r.base=n):(n=xe(r,"accent"),t=n.base);var s=De(t,e.havingCrampedStyle()),l=n.isShifty&&Ne.isCharacterBox(t),m=0;if(l){var o=Ne.getBaseElem(t),d=De(o,e.havingCrampedStyle());m=t0(d).skew}var a=n.label==="\\c",f=a?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),u;if(n.isStretchy)u=Tn.svgSpan(n,e),u=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:m>0?{width:"calc(100% - "+de(2*m)+")",marginLeft:de(2*m)}:void 0}]},e);else{var h,c;n.label==="\\vec"?(h=te.staticSvg("vec",e),c=te.svgData.vec[1]):(h=te.makeOrd({mode:n.mode,text:n.label},e,"textord"),h=t0(h),h.italic=0,c=h.width,a&&(f+=h.depth)),u=te.makeSpan(["accent-body"],[h]);var p=n.label==="\\textcircled";p&&(u.classes.push("accent-full"),f=s.height);var g=m;p||(g-=c/2),u.style.left=de(g),n.label==="\\textcircled"&&(u.style.top=".2em"),u=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-f},{type:"elem",elem:u}]},e)}var y=te.makeSpan(["mord","accent"],[u],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},vp=(r,e)=>{var t=r.isStretchy?Tn.mathMLnode(r.label):new le.MathNode("mo",[Ft(r.label,r.mode)]),n=new le.MathNode("mover",[Fe(r.base,e),t]);return n.setAttribute("accent","true"),n},a3=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));pe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,e)=>{var t=vo(e[0]),n=!a3.test(r.funcName),i=!n||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:n,isShifty:i,base:t}},htmlBuilder:wc,mathmlBuilder:vp});pe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,e)=>{var t=e[0],n=r.parser.mode;return n==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:r.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:wc,mathmlBuilder:vp});pe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:i}},htmlBuilder:(r,e)=>{var t=De(r.base,e),n=Tn.svgSpan(r,e),i=r.label==="\\utilde"?.12:0,s=te.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return te.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(r,e)=>{var t=Tn.mathMLnode(r.label),n=new le.MathNode("munder",[Fe(r.base,e),t]);return n.setAttribute("accentunder","true"),n}});var Ms=r=>{var e=new le.MathNode("mpadded",r?[r]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};pe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n,funcName:i}=r;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(r,e){var t=e.style,n=e.havingStyle(t.sup()),i=te.wrapFragment(De(r.body,n,e),e),s=r.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var l;r.below&&(n=e.havingStyle(t.sub()),l=te.wrapFragment(De(r.below,n,e),e),l.classes.push(s+"-arrow-pad"));var m=Tn.svgSpan(r,e),o=-e.fontMetrics().axisHeight+.5*m.height,d=-e.fontMetrics().axisHeight-.5*m.height-.111;(i.depth>.25||r.label==="\\xleftequilibrium")&&(d-=i.depth);var a;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*m.height+.111;a=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d},{type:"elem",elem:m,shift:o},{type:"elem",elem:l,shift:f}]},e)}else a=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d},{type:"elem",elem:m,shift:o}]},e);return a.children[0].children[0].children[1].classes.push("svg-align"),te.makeSpan(["mrel","x-arrow"],[a],e)},mathmlBuilder(r,e){var t=Tn.mathMLnode(r.label);t.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(r.body){var i=Ms(Fe(r.body,e));if(r.below){var s=Ms(Fe(r.below,e));n=new le.MathNode("munderover",[t,s,i])}else n=new le.MathNode("mover",[t,i])}else if(r.below){var l=Ms(Fe(r.below,e));n=new le.MathNode("munder",[t,l])}else n=Ms(),n=new le.MathNode("mover",[t,n]);return n}});var l3=te.makeSpan;function yp(r,e){var t=at(r.body,e,!0);return l3([r.mclass],t,e)}function wp(r,e){var t,n=xt(r.body,e);return r.mclass==="minner"?t=new le.MathNode("mpadded",n):r.mclass==="mord"?r.isCharacterBox?(t=n[0],t.type="mi"):t=new le.MathNode("mi",n):(r.isCharacterBox?(t=n[0],t.type="mo"):t=new le.MathNode("mo",n),r.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):r.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):r.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}pe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:et(i),isCharacterBox:Ne.isCharacterBox(i)}},htmlBuilder:yp,mathmlBuilder:wp});var Bo=r=>{var e=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};pe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,e){var{parser:t}=r;return{type:"mclass",mode:t.mode,mclass:Bo(e[0]),body:et(e[1]),isCharacterBox:Ne.isCharacterBox(e[1])}}});pe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,e){var{parser:t,funcName:n}=r,i=e[1],s=e[0],l;n!=="\\stackrel"?l=Bo(i):l="mrel";var m={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:et(i)},o={type:"supsub",mode:s.mode,base:m,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:l,body:[o],isCharacterBox:Ne.isCharacterBox(o)}},htmlBuilder:yp,mathmlBuilder:wp});pe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"pmb",mode:t.mode,mclass:Bo(e[0]),body:et(e[0])}},htmlBuilder(r,e){var t=at(r.body,e,!0),n=te.makeSpan([r.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(r,e){var t=xt(r.body,e),n=new le.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var c3={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},c0=()=>({type:"styling",body:[],mode:"math",style:"display"}),u0=r=>r.type==="textord"&&r.text==="@",u3=(r,e)=>(r.type==="mathord"||r.type==="atom")&&r.text===e;function h3(r,e,t){var n=c3[r];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},l=t.callFunction("\\Big",[s],[]),m=t.callFunction("\\\\cdright",[e[1]],[]),o={type:"ordgroup",mode:"math",body:[i,l,m]};return t.callFunction("\\\\cdparent",[o],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var d={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[d],[])}default:return{type:"textord",text:" ",mode:"math"}}}function d3(r){var e=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){e.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var t=r.fetch().text;if(t==="&"||t==="\\\\")r.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ue("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var n=[],i=[n],s=0;s<e.length;s++){for(var l=e[s],m=c0(),o=0;o<l.length;o++)if(!u0(l[o]))m.body.push(l[o]);else{n.push(m),o+=1;var d=yc(l[o]).text,a=new Array(2);if(a[0]={type:"ordgroup",mode:"math",body:[]},a[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(d)>-1))if("<>AV".indexOf(d)>-1)for(var f=0;f<2;f++){for(var u=!0,h=o+1;h<l.length;h++){if(u3(l[h],d)){u=!1,o=h;break}if(u0(l[h]))throw new ue("Missing a "+d+" character to complete a CD arrow.",l[h]);a[f].body.push(l[h])}if(u)throw new ue("Missing a "+d+" character to complete a CD arrow.",l[o])}else throw new ue('Expected one of "<>AV=|." after @',l[o]);var c=h3(d,a,r),p={type:"styling",body:[c],mode:"math",style:"display"};n.push(p),m=c0()}s%2===0?n.push(m):n.shift(),n=[],i.push(n)}r.gullet.endGroup(),r.gullet.endGroup();var g=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:g,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}pe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(r,e){var t=e.havingStyle(e.style.sup()),n=te.wrapFragment(De(r.label,t,e),e);return n.classes.push("cd-label-"+r.side),n.style.bottom=de(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(r,e){var t=new le.MathNode("mrow",[Fe(r.label,e)]);return t=new le.MathNode("mpadded",[t]),t.setAttribute("width","0"),r.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new le.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});pe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,e){var{parser:t}=r;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(r,e){var t=te.wrapFragment(De(r.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(r,e){return new le.MathNode("mrow",[Fe(r.fragment,e)])}});pe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,e){for(var{parser:t}=r,n=xe(e[0],"ordgroup"),i=n.body,s="",l=0;l<i.length;l++){var m=xe(i[l],"textord");s+=m.text}var o=parseInt(s),d;if(isNaN(o))throw new ue("\\@char has non-numeric argument "+s);if(o<0||o>=1114111)throw new ue("\\@char with invalid code point "+s);return o<=65535?d=String.fromCharCode(o):(o-=65536,d=String.fromCharCode((o>>10)+55296,(o&1023)+56320)),{type:"textord",mode:t.mode,text:d}}});var bp=(r,e)=>{var t=at(r.body,e.withColor(r.color),!1);return te.makeFragment(t)},Sp=(r,e)=>{var t=xt(r.body,e.withColor(r.color)),n=new le.MathNode("mstyle",t);return n.setAttribute("mathcolor",r.color),n};pe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,e){var{parser:t}=r,n=xe(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:n,body:et(i)}},htmlBuilder:bp,mathmlBuilder:Sp});pe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,e){var{parser:t,breakOnTokenText:n}=r,i=xe(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var s=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:i,body:s}},htmlBuilder:bp,mathmlBuilder:Sp});pe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,e,t){var{parser:n}=r,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&xe(i,"size").value}},htmlBuilder(r,e){var t=te.makeSpan(["mspace"],[],e);return r.newLine&&(t.classes.push("newline"),r.size&&(t.style.marginTop=de(qe(r.size,e)))),t},mathmlBuilder(r,e){var t=new le.MathNode("mspace");return r.newLine&&(t.setAttribute("linebreak","newline"),r.size&&t.setAttribute("height",de(qe(r.size,e)))),t}});var pl={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},_p=r=>{var e=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ue("Expected a control sequence",r);return e},f3=r=>{var e=r.gullet.popToken();return e.text==="="&&(e=r.gullet.popToken(),e.text===" "&&(e=r.gullet.popToken())),e},Ap=(r,e,t,n)=>{var i=r.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!r.gullet.isExpandable(t.text)}),r.gullet.macros.set(e,i,n)};pe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e,funcName:t}=r;e.consumeSpaces();var n=e.fetch();if(pl[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=pl[n.text]),xe(e.parseFunction(),"internal");throw new ue("Invalid token after macro prefix",n)}});pe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ue("Expected a control sequence",n);for(var s=0,l,m=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),m[s].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ue('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new ue('Argument number "'+n.text+'" out of order');s++,m.push([])}else{if(n.text==="EOF")throw new ue("Expected a macro definition");m[s].push(n.text)}var{tokens:o}=e.gullet.consumeArg();return l&&o.unshift(l),(t==="\\edef"||t==="\\xdef")&&(o=e.gullet.expandTokens(o),o.reverse()),e.gullet.macros.set(i,{tokens:o,numArgs:s,delimiters:m},t===pl[t]),{type:"internal",mode:e.mode}}});pe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=_p(e.gullet.popToken());e.gullet.consumeSpaces();var i=f3(e);return Ap(e,n,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});pe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=_p(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return Ap(e,n,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Ti=function(e,t,n){var i=Ve.math[e]&&Ve.math[e].replace,s=fc(i||e,t,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},bc=function(e,t,n,i){var s=n.havingBaseStyle(t),l=te.makeSpan(i.concat(s.sizingClasses(n)),[e],n),m=s.sizeMultiplier/n.sizeMultiplier;return l.height*=m,l.depth*=m,l.maxFontSize=s.sizeMultiplier,l},Tp=function(e,t,n){var i=t.havingBaseStyle(n),s=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=de(s),e.height-=s,e.depth+=s},p3=function(e,t,n,i,s,l){var m=te.makeSymbol(e,"Main-Regular",s,i),o=bc(m,t,i,l);return n&&Tp(o,i,t),o},m3=function(e,t,n,i){return te.makeSymbol(e,"Size"+t+"-Regular",n,i)},Ep=function(e,t,n,i,s,l){var m=m3(e,t,s,i),o=bc(te.makeSpan(["delimsizing","size"+t],[m],i),we.TEXT,i,l);return n&&Tp(o,i,we.TEXT),o},Ia=function(e,t,n){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=te.makeSpan(["delimsizinginner",i],[te.makeSpan([],[te.makeSymbol(e,t,n)])]);return{type:"elem",elem:s}},Ma=function(e,t,n){var i=Qt["Size4-Regular"][e.charCodeAt(0)]?Qt["Size4-Regular"][e.charCodeAt(0)][4]:Qt["Size1-Regular"][e.charCodeAt(0)][4],s=new er("inner",b5(e,Math.round(1e3*t))),l=new _n([s],{width:de(i),height:de(t),style:"width:"+de(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),m=te.makeSvgSpan([],[l],n);return m.height=t,m.style.height=de(t),m.style.width=de(i),{type:"elem",elem:m}},ml=.008,Rs={type:"kern",size:-1*ml},g3=["|","\\lvert","\\rvert","\\vert"],v3=["\\|","\\lVert","\\rVert","\\Vert"],Cp=function(e,t,n,i,s,l){var m,o,d,a,f="",u=0;m=d=a=e,o=null;var h="Size1-Regular";e==="\\uparrow"?d=a="":e==="\\Uparrow"?d=a="":e==="\\downarrow"?m=d="":e==="\\Downarrow"?m=d="":e==="\\updownarrow"?(m="\\uparrow",d="",a="\\downarrow"):e==="\\Updownarrow"?(m="\\Uparrow",d="",a="\\Downarrow"):g3.includes(e)?(d="",f="vert",u=333):v3.includes(e)?(d="",f="doublevert",u=556):e==="["||e==="\\lbrack"?(m="",d="",a="",h="Size4-Regular",f="lbrack",u=667):e==="]"||e==="\\rbrack"?(m="",d="",a="",h="Size4-Regular",f="rbrack",u=667):e==="\\lfloor"||e===""?(d=m="",a="",h="Size4-Regular",f="lfloor",u=667):e==="\\lceil"||e===""?(m="",d=a="",h="Size4-Regular",f="lceil",u=667):e==="\\rfloor"||e===""?(d=m="",a="",h="Size4-Regular",f="rfloor",u=667):e==="\\rceil"||e===""?(m="",d=a="",h="Size4-Regular",f="rceil",u=667):e==="("||e==="\\lparen"?(m="",d="",a="",h="Size4-Regular",f="lparen",u=875):e===")"||e==="\\rparen"?(m="",d="",a="",h="Size4-Regular",f="rparen",u=875):e==="\\{"||e==="\\lbrace"?(m="",o="",a="",d="",h="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(m="",o="",a="",d="",h="Size4-Regular"):e==="\\lgroup"||e===""?(m="",a="",d="",h="Size4-Regular"):e==="\\rgroup"||e===""?(m="",a="",d="",h="Size4-Regular"):e==="\\lmoustache"||e===""?(m="",a="",d="",h="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(m="",a="",d="",h="Size4-Regular");var c=Ti(m,h,s),p=c.height+c.depth,g=Ti(d,h,s),y=g.height+g.depth,w=Ti(a,h,s),M=w.height+w.depth,R=0,x=1;if(o!==null){var _=Ti(o,h,s);R=_.height+_.depth,x=2}var E=p+M+R,k=Math.max(0,Math.ceil((t-E)/(x*y))),T=E+k*x*y,I=i.fontMetrics().axisHeight;n&&(I*=i.sizeMultiplier);var O=T/2-I,C=[];if(f.length>0){var b=T-p-M,A=Math.round(T*1e3),S=S5(f,Math.round(b*1e3)),L=new er(f,S),P=(u/1e3).toFixed(3)+"em",V=(A/1e3).toFixed(3)+"em",B=new _n([L],{width:P,height:V,viewBox:"0 0 "+u+" "+A}),W=te.makeSvgSpan([],[B],i);W.height=A/1e3,W.style.width=P,W.style.height=V,C.push({type:"elem",elem:W})}else{if(C.push(Ia(a,h,s)),C.push(Rs),o===null){var G=T-p-M+2*ml;C.push(Ma(d,G,i))}else{var J=(T-p-M-R)/2+2*ml;C.push(Ma(d,J,i)),C.push(Rs),C.push(Ia(o,h,s)),C.push(Rs),C.push(Ma(d,J,i))}C.push(Rs),C.push(Ia(m,h,s))}var K=i.havingBaseStyle(we.TEXT),Q=te.makeVList({positionType:"bottom",positionData:O,children:C},K);return bc(te.makeSpan(["delimsizing","mult"],[Q],K),we.TEXT,i,l)},Ra=80,La=.08,$a=function(e,t,n,i,s){var l=w5(e,i,n),m=new er(e,l),o=new _n([m],{width:"400em",height:de(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return te.makeSvgSpan(["hide-tail"],[o],s)},y3=function(e,t){var n=t.havingBaseSizing(),i=Mp("\\surd",e*n.sizeMultiplier,Ip,n),s=n.sizeMultiplier,l=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),m,o=0,d=0,a=0,f;return i.type==="small"?(a=1e3+1e3*l+Ra,e<1?s=1:e<1.4&&(s=.7),o=(1+l+La)/s,d=(1+l)/s,m=$a("sqrtMain",o,a,l,t),m.style.minWidth="0.853em",f=.833/s):i.type==="large"?(a=(1e3+Ra)*Di[i.size],d=(Di[i.size]+l)/s,o=(Di[i.size]+l+La)/s,m=$a("sqrtSize"+i.size,o,a,l,t),m.style.minWidth="1.02em",f=1/s):(o=e+l+La,d=e+l,a=Math.floor(1e3*e+l)+Ra,m=$a("sqrtTall",o,a,l,t),m.style.minWidth="0.742em",f=1.056),m.height=d,m.style.height=de(o),{span:m,advanceWidth:f,ruleWidth:(t.fontMetrics().sqrtRuleThickness+l)*s}},xp=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],w3=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],kp=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Di=[0,1.2,1.8,2.4,3],b3=function(e,t,n,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),xp.includes(e)||kp.includes(e))return Ep(e,t,!1,n,i,s);if(w3.includes(e))return Cp(e,Di[t],!1,n,i,s);throw new ue("Illegal delimiter: '"+e+"'")},S3=[{type:"small",style:we.SCRIPTSCRIPT},{type:"small",style:we.SCRIPT},{type:"small",style:we.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],_3=[{type:"small",style:we.SCRIPTSCRIPT},{type:"small",style:we.SCRIPT},{type:"small",style:we.TEXT},{type:"stack"}],Ip=[{type:"small",style:we.SCRIPTSCRIPT},{type:"small",style:we.SCRIPT},{type:"small",style:we.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],A3=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Mp=function(e,t,n,i){for(var s=Math.min(2,3-i.style.size),l=s;l<n.length&&n[l].type!=="stack";l++){var m=Ti(e,A3(n[l]),"math"),o=m.height+m.depth;if(n[l].type==="small"){var d=i.havingBaseStyle(n[l].style);o*=d.sizeMultiplier}if(o>t)return n[l]}return n[n.length-1]},Rp=function(e,t,n,i,s,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var m;kp.includes(e)?m=S3:xp.includes(e)?m=Ip:m=_3;var o=Mp(e,t,m,i);return o.type==="small"?p3(e,o.style,n,i,s,l):o.type==="large"?Ep(e,o.size,n,i,s,l):Cp(e,t,n,i,s,l)},T3=function(e,t,n,i,s,l){var m=i.fontMetrics().axisHeight*i.sizeMultiplier,o=901,d=5/i.fontMetrics().ptPerEm,a=Math.max(t-m,n+m),f=Math.max(a/500*o,2*a-d);return Rp(e,f,!0,i,s,l)},vn={sqrtImage:y3,sizedDelim:b3,sizeToMaxHeight:Di,customSizedDelim:Rp,leftRightDelim:T3},h0={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},E3=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ho(r,e){var t=Vo(r);if(t&&E3.includes(t.text))return t;throw t?new ue("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",r):new ue("Invalid delimiter type '"+r.type+"'",r)}pe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,e)=>{var t=Ho(e[0],r);return{type:"delimsizing",mode:r.parser.mode,size:h0[r.funcName].size,mclass:h0[r.funcName].mclass,delim:t.text}},htmlBuilder:(r,e)=>r.delim==="."?te.makeSpan([r.mclass]):vn.sizedDelim(r.delim,r.size,e,r.mode,[r.mclass]),mathmlBuilder:r=>{var e=[];r.delim!=="."&&e.push(Ft(r.delim,r.mode));var t=new le.MathNode("mo",e);r.mclass==="mopen"||r.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=de(vn.sizeToMaxHeight[r.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function d0(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}pe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=r.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new ue("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:Ho(e[0],r).text,color:t}}});pe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=Ho(e[0],r),n=r.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=xe(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(r,e)=>{d0(r);for(var t=at(r.body,e,!0,["mopen","mclose"]),n=0,i=0,s=!1,l=0;l<t.length;l++)t[l].isMiddle?s=!0:(n=Math.max(t[l].height,n),i=Math.max(t[l].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var m;if(r.left==="."?m=ji(e,["mopen"]):m=vn.leftRightDelim(r.left,n,i,e,r.mode,["mopen"]),t.unshift(m),s)for(var o=1;o<t.length;o++){var d=t[o],a=d.isMiddle;a&&(t[o]=vn.leftRightDelim(a.delim,n,i,a.options,r.mode,[]))}var f;if(r.right===".")f=ji(e,["mclose"]);else{var u=r.rightColor?e.withColor(r.rightColor):e;f=vn.leftRightDelim(r.right,n,i,u,r.mode,["mclose"])}return t.push(f),te.makeSpan(["minner"],t,e)},mathmlBuilder:(r,e)=>{d0(r);var t=xt(r.body,e);if(r.left!=="."){var n=new le.MathNode("mo",[Ft(r.left,r.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(r.right!=="."){var i=new le.MathNode("mo",[Ft(r.right,r.mode)]);i.setAttribute("fence","true"),r.rightColor&&i.setAttribute("mathcolor",r.rightColor),t.push(i)}return gc(t)}});pe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=Ho(e[0],r);if(!r.parser.leftrightDepth)throw new ue("\\middle without preceding \\left",t);return{type:"middle",mode:r.parser.mode,delim:t.text}},htmlBuilder:(r,e)=>{var t;if(r.delim===".")t=ji(e,[]);else{t=vn.sizedDelim(r.delim,1,e,r.mode,[]);var n={delim:r.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(r,e)=>{var t=r.delim==="\\vert"||r.delim==="|"?Ft("|","text"):Ft(r.delim,r.mode),n=new le.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Sc=(r,e)=>{var t=te.wrapFragment(De(r.body,e),e),n=r.label.slice(1),i=e.sizeMultiplier,s,l=0,m=Ne.isCharacterBox(r.body);if(n==="sout")s=te.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var o=qe({number:.6,unit:"pt"},e),d=qe({number:.35,unit:"ex"},e),a=e.havingBaseSizing();i=i/a.sizeMultiplier;var f=t.height+t.depth+o+d;t.style.paddingLeft=de(f/2+o);var u=Math.floor(1e3*f*i),h=v5(u),c=new _n([new er("phase",h)],{width:"400em",height:de(u/1e3),viewBox:"0 0 400000 "+u,preserveAspectRatio:"xMinYMin slice"});s=te.makeSvgSpan(["hide-tail"],[c],e),s.style.height=de(f),l=t.depth+o+d}else{/cancel/.test(n)?m||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var p=0,g=0,y=0;/box/.test(n)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),p=e.fontMetrics().fboxsep+(n==="colorbox"?0:y),g=p):n==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),p=4*y,g=Math.max(0,.25-t.depth)):(p=m?.2:0,g=p),s=Tn.encloseSpan(t,n,p,g,e),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=de(y)):n==="angl"&&y!==.049&&(s.style.borderTopWidth=de(y),s.style.borderRightWidth=de(y)),l=t.depth+g,r.backgroundColor&&(s.style.backgroundColor=r.backgroundColor,r.borderColor&&(s.style.borderColor=r.borderColor))}var w;if(r.backgroundColor)w=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:t,shift:0}]},e);else{var M=/cancel|phase/.test(n)?["svg-align"]:[];w=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:M}]},e)}return/cancel/.test(n)&&(w.height=t.height,w.depth=t.depth),/cancel/.test(n)&&!m?te.makeSpan(["mord","cancel-lap"],[w],e):te.makeSpan(["mord"],[w],e)},_c=(r,e)=>{var t=0,n=new le.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Fe(r.body,e)]);switch(r.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),r.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(r.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&n.setAttribute("mathbackground",r.backgroundColor),n};pe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,e,t){var{parser:n,funcName:i}=r,s=xe(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:l}},htmlBuilder:Sc,mathmlBuilder:_c});pe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,e,t){var{parser:n,funcName:i}=r,s=xe(e[0],"color-token").color,l=xe(e[1],"color-token").color,m=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:l,borderColor:s,body:m}},htmlBuilder:Sc,mathmlBuilder:_c});pe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});pe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"enclose",mode:t.mode,label:n,body:i}},htmlBuilder:Sc,mathmlBuilder:_c});pe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Lp={};function an(r){for(var{type:e,names:t,props:n,handler:i,htmlBuilder:s,mathmlBuilder:l}=r,m={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},o=0;o<t.length;++o)Lp[t[o]]=m;s&&(mo[e]=s),l&&(go[e]=l)}var $p={};function H(r,e){$p[r]=e}function f0(r){var e=[];r.consumeSpaces();var t=r.fetch().text;for(t==="\\relax"&&(r.consume(),r.consumeSpaces(),t=r.fetch().text);t==="\\hline"||t==="\\hdashline";)r.consume(),e.push(t==="\\hdashline"),r.consumeSpaces(),t=r.fetch().text;return e}var Uo=r=>{var e=r.parser.settings;if(!e.displayMode)throw new ue("{"+r.envName+"} can be used only in display mode.")};function Ac(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function nr(r,e,t){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:l,colSeparationType:m,autoTag:o,singleRow:d,emptySingleRow:a,maxNumCols:f,leqno:u}=e;if(r.gullet.beginGroup(),d||r.gullet.macros.set("\\cr","\\\\\\relax"),!l){var h=r.gullet.expandMacroAsText("\\arraystretch");if(h==null)l=1;else if(l=parseFloat(h),!l||l<0)throw new ue("Invalid \\arraystretch: "+h)}r.gullet.beginGroup();var c=[],p=[c],g=[],y=[],w=o!=null?[]:void 0;function M(){o&&r.gullet.macros.set("\\@eqnsw","1",!0)}function R(){w&&(r.gullet.macros.get("\\df@tag")?(w.push(r.subparse([new Mt("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!o&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),y.push(f0(r));;){var x=r.parseExpression(!1,d?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),x={type:"ordgroup",mode:r.mode,body:x},t&&(x={type:"styling",mode:r.mode,style:t,body:[x]}),c.push(x);var _=r.fetch().text;if(_==="&"){if(f&&c.length===f){if(d||m)throw new ue("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(_==="\\end"){R(),c.length===1&&x.type==="styling"&&x.body[0].body.length===0&&(p.length>1||!a)&&p.pop(),y.length<p.length+1&&y.push([]);break}else if(_==="\\\\"){r.consume();var E=void 0;r.gullet.future().text!==" "&&(E=r.parseSizeGroup(!0)),g.push(E?E.value:null),R(),y.push(f0(r)),c=[],p.push(c),M()}else throw new ue("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:i,arraystretch:l,body:p,cols:s,rowGaps:g,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:m,tags:w,leqno:u}}function Tc(r){return r.slice(0,1)==="d"?"display":"text"}var ln=function(e,t){var n,i,s=e.body.length,l=e.hLinesBeforeRow,m=0,o=new Array(s),d=[],a=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),f=1/t.fontMetrics().ptPerEm,u=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var h=t.havingStyle(we.SCRIPT).sizeMultiplier;u=.2778*(h/t.sizeMultiplier)}var c=e.colSeparationType==="CD"?qe({number:3,unit:"ex"},t):12*f,p=3*f,g=e.arraystretch*c,y=.7*g,w=.3*g,M=0;function R(Lt){for(var Je=0;Je<Lt.length;++Je)Je>0&&(M+=.25),d.push({pos:M,isDashed:Lt[Je]})}for(R(l[0]),n=0;n<e.body.length;++n){var x=e.body[n],_=y,E=w;m<x.length&&(m=x.length);var k=new Array(x.length);for(i=0;i<x.length;++i){var T=De(x[i],t);E<T.depth&&(E=T.depth),_<T.height&&(_=T.height),k[i]=T}var I=e.rowGaps[n],O=0;I&&(O=qe(I,t),O>0&&(O+=w,E<O&&(E=O),O=0)),e.addJot&&(E+=p),k.height=_,k.depth=E,M+=_,k.pos=M,M+=E+O,o[n]=k,R(l[n+1])}var C=M/2+t.fontMetrics().axisHeight,b=e.cols||[],A=[],S,L,P=[];if(e.tags&&e.tags.some(Lt=>Lt))for(n=0;n<s;++n){var V=o[n],B=V.pos-C,W=e.tags[n],G=void 0;W===!0?G=te.makeSpan(["eqn-num"],[],t):W===!1?G=te.makeSpan([],[],t):G=te.makeSpan([],at(W,t,!0),t),G.depth=V.depth,G.height=V.height,P.push({type:"elem",elem:G,shift:B})}for(i=0,L=0;i<m||L<b.length;++i,++L){for(var J=b[L]||{},K=!0;J.type==="separator";){if(K||(S=te.makeSpan(["arraycolsep"],[]),S.style.width=de(t.fontMetrics().doubleRuleSep),A.push(S)),J.separator==="|"||J.separator===":"){var Q=J.separator==="|"?"solid":"dashed",X=te.makeSpan(["vertical-separator"],[],t);X.style.height=de(M),X.style.borderRightWidth=de(a),X.style.borderRightStyle=Q,X.style.margin="0 "+de(-a/2);var Z=M-C;Z&&(X.style.verticalAlign=de(-Z)),A.push(X)}else throw new ue("Invalid separator type: "+J.separator);L++,J=b[L]||{},K=!1}if(!(i>=m)){var re=void 0;(i>0||e.hskipBeforeAndAfter)&&(re=Ne.deflt(J.pregap,u),re!==0&&(S=te.makeSpan(["arraycolsep"],[]),S.style.width=de(re),A.push(S)));var se=[];for(n=0;n<s;++n){var he=o[n],ce=he[i];if(ce){var _e=he.pos-C;ce.depth=he.depth,ce.height=he.height,se.push({type:"elem",elem:ce,shift:_e})}}se=te.makeVList({positionType:"individualShift",children:se},t),se=te.makeSpan(["col-align-"+(J.align||"c")],[se]),A.push(se),(i<m-1||e.hskipBeforeAndAfter)&&(re=Ne.deflt(J.postgap,u),re!==0&&(S=te.makeSpan(["arraycolsep"],[]),S.style.width=de(re),A.push(S)))}}if(o=te.makeSpan(["mtable"],A),d.length>0){for(var Le=te.makeLineSpan("hline",t,a),Be=te.makeLineSpan("hdashline",t,a),Ye=[{type:"elem",elem:o,shift:0}];d.length>0;){var ze=d.pop(),lt=ze.pos-C;ze.isDashed?Ye.push({type:"elem",elem:Be,shift:lt}):Ye.push({type:"elem",elem:Le,shift:lt})}o=te.makeVList({positionType:"individualShift",children:Ye},t)}if(P.length===0)return te.makeSpan(["mord"],[o],t);var Wt=te.makeVList({positionType:"individualShift",children:P},t);return Wt=te.makeSpan(["tag"],[Wt],t),te.makeFragment([o,Wt])},C3={c:"center ",l:"left ",r:"right "},cn=function(e,t){for(var n=[],i=new le.MathNode("mtd",[],["mtr-glue"]),s=new le.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var m=e.body[l],o=[],d=0;d<m.length;d++)o.push(new le.MathNode("mtd",[Fe(m[d],t)]));e.tags&&e.tags[l]&&(o.unshift(i),o.push(i),e.leqno?o.unshift(s):o.push(s)),n.push(new le.MathNode("mtr",o))}var a=new le.MathNode("mtable",n),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);a.setAttribute("rowspacing",de(f));var u="",h="";if(e.cols&&e.cols.length>0){var c=e.cols,p="",g=!1,y=0,w=c.length;c[0].type==="separator"&&(u+="top ",y=1),c[c.length-1].type==="separator"&&(u+="bottom ",w-=1);for(var M=y;M<w;M++)c[M].type==="align"?(h+=C3[c[M].align],g&&(p+="none "),g=!0):c[M].type==="separator"&&g&&(p+=c[M].separator==="|"?"solid ":"dashed ",g=!1);a.setAttribute("columnalign",h.trim()),/[sd]/.test(p)&&a.setAttribute("columnlines",p.trim())}if(e.colSeparationType==="align"){for(var R=e.cols||[],x="",_=1;_<R.length;_++)x+=_%2?"0em ":"1em ";a.setAttribute("columnspacing",x.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?a.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?a.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?a.setAttribute("columnspacing","0.5em"):a.setAttribute("columnspacing","1em");var E="",k=e.hLinesBeforeRow;u+=k[0].length>0?"left ":"",u+=k[k.length-1].length>0?"right ":"";for(var T=1;T<k.length-1;T++)E+=k[T].length===0?"none ":k[T][0]?"dashed ":"solid ";return/[sd]/.test(E)&&a.setAttribute("rowlines",E.trim()),u!==""&&(a=new le.MathNode("menclose",[a]),a.setAttribute("notation",u.trim())),e.arraystretch&&e.arraystretch<1&&(a=new le.MathNode("mstyle",[a]),a.setAttribute("scriptlevel","1")),a},Dp=function(e,t){e.envName.indexOf("ed")===-1&&Uo(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",l=nr(e.parser,{cols:n,addJot:!0,autoTag:s?void 0:Ac(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),m,o=0,d={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var a="",f=0;f<t[0].body.length;f++){var u=xe(t[0].body[f],"textord");a+=u.text}m=Number(a),o=m*2}var h=!o;l.body.forEach(function(y){for(var w=1;w<y.length;w+=2){var M=xe(y[w],"styling"),R=xe(M.body[0],"ordgroup");R.body.unshift(d)}if(h)o<y.length&&(o=y.length);else{var x=y.length/2;if(m<x)throw new ue("Too many math in a row: "+("expected "+m+", but got "+x),y[0])}});for(var c=0;c<o;++c){var p="r",g=0;c%2===1?p="l":c>0&&h&&(g=1),n[c]={type:"align",align:p,pregap:g,postgap:0}}return l.colSeparationType=h?"align":"alignat",l};an({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,e){var t=Vo(e[0]),n=t?[e[0]]:xe(e[0],"ordgroup").body,i=n.map(function(l){var m=yc(l),o=m.text;if("lcr".indexOf(o)!==-1)return{type:"align",align:o};if(o==="|")return{type:"separator",separator:"|"};if(o===":")return{type:"separator",separator:":"};throw new ue("Unknown column alignment: "+o,l)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return nr(r.parser,s,Tc(r.envName))},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(r.envName.charAt(r.envName.length-1)==="*"){var i=r.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new ue("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:t}]}}var s=nr(r.parser,n,Tc(r.envName)),l=Math.max(0,...s.body.map(m=>m.length));return s.cols=new Array(l).fill({type:"align",align:t}),e?{type:"leftright",mode:r.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var e={arraystretch:.5},t=nr(r.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["subarray"],props:{numArgs:1},handler(r,e){var t=Vo(e[0]),n=t?[e[0]]:xe(e[0],"ordgroup").body,i=n.map(function(l){var m=yc(l),o=m.text;if("lc".indexOf(o)!==-1)return{type:"align",align:o};throw new ue("Unknown column alignment: "+o,l)});if(i.length>1)throw new ue("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=nr(r.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ue("{subarray} can contain only one column");return s},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=nr(r.parser,e,Tc(r.envName));return{type:"leftright",mode:r.mode,body:[t],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Dp,htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){["gather","gather*"].includes(r.envName)&&Uo(r);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ac(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return nr(r.parser,e,"display")},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Dp,htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){Uo(r);var e={autoTag:Ac(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return nr(r.parser,e,"display")},htmlBuilder:ln,mathmlBuilder:cn});an({type:"array",names:["CD"],props:{numArgs:0},handler(r){return Uo(r),d3(r.parser)},htmlBuilder:ln,mathmlBuilder:cn});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");pe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,e){throw new ue(r.funcName+" valid only within array environment")}});var p0=Lp;pe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];if(i.type!=="ordgroup")throw new ue("Invalid environment name",i);for(var s="",l=0;l<i.body.length;++l)s+=xe(i.body[l],"textord").text;if(n==="\\begin"){if(!p0.hasOwnProperty(s))throw new ue("No such environment: "+s,i);var m=p0[s],{args:o,optArgs:d}=t.parseArguments("\\begin{"+s+"}",m),a={mode:t.mode,envName:s,parser:t},f=m.handler(a,o,d);t.expect("\\end",!1);var u=t.nextToken,h=xe(t.parseFunction(),"environment");if(h.name!==s)throw new ue("Mismatch: \\begin{"+s+"} matched by \\end{"+h.name+"}",u);return f}return{type:"environment",mode:t.mode,name:s,nameGroup:i}}});var Np=(r,e)=>{var t=r.font,n=e.withFont(t);return De(r.body,n)},Op=(r,e)=>{var t=r.font,n=e.withFont(t);return Fe(r.body,n)},m0={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};pe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=vo(e[0]),s=n;return s in m0&&(s=m0[s]),{type:"font",mode:t.mode,font:s.slice(1),body:i}},htmlBuilder:Np,mathmlBuilder:Op});pe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,e)=>{var{parser:t}=r,n=e[0],i=Ne.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:Bo(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});pe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,breakOnTokenText:i}=r,{mode:s}=t,l=t.parseExpression(!0,i),m="math"+n.slice(1);return{type:"font",mode:s,font:m,body:{type:"ordgroup",mode:t.mode,body:l}}},htmlBuilder:Np,mathmlBuilder:Op});var Pp=(r,e)=>{var t=e;return r==="display"?t=t.id>=we.SCRIPT.id?t.text():we.DISPLAY:r==="text"&&t.size===we.DISPLAY.size?t=we.TEXT:r==="script"?t=we.SCRIPT:r==="scriptscript"&&(t=we.SCRIPTSCRIPT),t},Ec=(r,e)=>{var t=Pp(r.size,e.style),n=t.fracNum(),i=t.fracDen(),s;s=e.havingStyle(n);var l=De(r.numer,s,e);if(r.continued){var m=8.5/e.fontMetrics().ptPerEm,o=3.5/e.fontMetrics().ptPerEm;l.height=l.height<m?m:l.height,l.depth=l.depth<o?o:l.depth}s=e.havingStyle(i);var d=De(r.denom,s,e),a,f,u;r.hasBarLine?(r.barSize?(f=qe(r.barSize,e),a=te.makeLineSpan("frac-line",e,f)):a=te.makeLineSpan("frac-line",e),f=a.height,u=a.height):(a=null,f=0,u=e.fontMetrics().defaultRuleThickness);var h,c,p;t.size===we.DISPLAY.size||r.size==="display"?(h=e.fontMetrics().num1,f>0?c=3*u:c=7*u,p=e.fontMetrics().denom1):(f>0?(h=e.fontMetrics().num2,c=u):(h=e.fontMetrics().num3,c=3*u),p=e.fontMetrics().denom2);var g;if(a){var w=e.fontMetrics().axisHeight;h-l.depth-(w+.5*f)<c&&(h+=c-(h-l.depth-(w+.5*f))),w-.5*f-(d.height-p)<c&&(p+=c-(w-.5*f-(d.height-p)));var M=-(w-.5*f);g=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:p},{type:"elem",elem:a,shift:M},{type:"elem",elem:l,shift:-h}]},e)}else{var y=h-l.depth-(d.height-p);y<c&&(h+=.5*(c-y),p+=.5*(c-y)),g=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:p},{type:"elem",elem:l,shift:-h}]},e)}s=e.havingStyle(t),g.height*=s.sizeMultiplier/e.sizeMultiplier,g.depth*=s.sizeMultiplier/e.sizeMultiplier;var R;t.size===we.DISPLAY.size?R=e.fontMetrics().delim1:t.size===we.SCRIPTSCRIPT.size?R=e.havingStyle(we.SCRIPT).fontMetrics().delim2:R=e.fontMetrics().delim2;var x,_;return r.leftDelim==null?x=ji(e,["mopen"]):x=vn.customSizedDelim(r.leftDelim,R,!0,e.havingStyle(t),r.mode,["mopen"]),r.continued?_=te.makeSpan([]):r.rightDelim==null?_=ji(e,["mclose"]):_=vn.customSizedDelim(r.rightDelim,R,!0,e.havingStyle(t),r.mode,["mclose"]),te.makeSpan(["mord"].concat(s.sizingClasses(e)),[x,te.makeSpan(["mfrac"],[g]),_],e)},Cc=(r,e)=>{var t=new le.MathNode("mfrac",[Fe(r.numer,e),Fe(r.denom,e)]);if(!r.hasBarLine)t.setAttribute("linethickness","0px");else if(r.barSize){var n=qe(r.barSize,e);t.setAttribute("linethickness",de(n))}var i=Pp(r.size,e.style);if(i.size!==e.style.size){t=new le.MathNode("mstyle",[t]);var s=i.size===we.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var l=[];if(r.leftDelim!=null){var m=new le.MathNode("mo",[new le.TextNode(r.leftDelim.replace("\\",""))]);m.setAttribute("fence","true"),l.push(m)}if(l.push(t),r.rightDelim!=null){var o=new le.MathNode("mo",[new le.TextNode(r.rightDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}return gc(l)}return t};pe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],s=e[1],l,m=null,o=null,d="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,m="(",o=")";break;case"\\\\bracefrac":l=!1,m="\\{",o="\\}";break;case"\\\\brackfrac":l=!1,m="[",o="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":d="display";break;case"\\tfrac":case"\\tbinom":d="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:s,hasBarLine:l,leftDelim:m,rightDelim:o,size:d,barSize:null}},htmlBuilder:Ec,mathmlBuilder:Cc});pe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});pe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:e,funcName:t,token:n}=r,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var g0=["display","text","script","scriptscript"],v0=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};pe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,e){var{parser:t}=r,n=e[4],i=e[5],s=vo(e[0]),l=s.type==="atom"&&s.family==="open"?v0(s.text):null,m=vo(e[1]),o=m.type==="atom"&&m.family==="close"?v0(m.text):null,d=xe(e[2],"size"),a,f=null;d.isBlank?a=!0:(f=d.value,a=f.number>0);var u="auto",h=e[3];if(h.type==="ordgroup"){if(h.body.length>0){var c=xe(h.body[0],"textord");u=g0[Number(c.text)]}}else h=xe(h,"textord"),u=g0[Number(h.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:i,continued:!1,hasBarLine:a,barSize:f,leftDelim:l,rightDelim:o,size:u}},htmlBuilder:Ec,mathmlBuilder:Cc});pe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,e){var{parser:t,funcName:n,token:i}=r;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:xe(e[0],"size").value,token:i}}});pe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0],s=n5(xe(e[1],"infix").size),l=e[2],m=s.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:l,continued:!1,hasBarLine:m,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ec,mathmlBuilder:Cc});var Fp=(r,e)=>{var t=e.style,n,i;r.type==="supsub"?(n=r.sup?De(r.sup,e.havingStyle(t.sup()),e):De(r.sub,e.havingStyle(t.sub()),e),i=xe(r.base,"horizBrace")):i=xe(r,"horizBrace");var s=De(i.base,e.havingBaseStyle(we.DISPLAY)),l=Tn.svgSpan(i,e),m;if(i.isOver?(m=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},e),m.children[0].children[0].children[1].classes.push("svg-align")):(m=te.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},e),m.children[0].children[0].children[0].classes.push("svg-align")),n){var o=te.makeSpan(["mord",i.isOver?"mover":"munder"],[m],e);i.isOver?m=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:n}]},e):m=te.makeVList({positionType:"bottom",positionData:o.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:o}]},e)}return te.makeSpan(["mord",i.isOver?"mover":"munder"],[m],e)},x3=(r,e)=>{var t=Tn.mathMLnode(r.label);return new le.MathNode(r.isOver?"mover":"munder",[Fe(r.base,e),t])};pe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Fp,mathmlBuilder:x3});pe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[1],i=xe(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:et(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(r,e)=>{var t=at(r.body,e,!1);return te.makeAnchor(r.href,[],t,e)},mathmlBuilder:(r,e)=>{var t=tr(r.body,e);return t instanceof It||(t=new It("mrow",[t])),t.setAttribute("href",r.href),t}});pe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=xe(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var l=n[s];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var m={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:n,body:et(m)}}});pe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,e){var{parser:t}=r;return{type:"hbox",mode:t.mode,body:et(e[0])}},htmlBuilder(r,e){var t=at(r.body,e,!1);return te.makeFragment(t)},mathmlBuilder(r,e){return new le.MathNode("mrow",xt(r.body,e))}});pe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,token:i}=r,s=xe(e[0],"raw").string,l=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var m,o={};switch(n){case"\\htmlClass":o.class=s,m={command:"\\htmlClass",class:s};break;case"\\htmlId":o.id=s,m={command:"\\htmlId",id:s};break;case"\\htmlStyle":o.style=s,m={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var d=s.split(","),a=0;a<d.length;a++){var f=d[a],u=f.indexOf("=");if(u<0)throw new ue("\\htmlData key/value '"+f+"' missing equals sign");var h=f.slice(0,u),c=f.slice(u+1);o["data-"+h.trim()]=c}m={command:"\\htmlData",attributes:o};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(m)?{type:"html",mode:t.mode,attributes:o,body:et(l)}:t.formatUnsupportedCmd(n)},htmlBuilder:(r,e)=>{var t=at(r.body,e,!1),n=["enclosing"];r.attributes.class&&n.push(...r.attributes.class.trim().split(/\s+/));var i=te.makeSpan(n,t,e);for(var s in r.attributes)s!=="class"&&r.attributes.hasOwnProperty(s)&&i.setAttribute(s,r.attributes[s]);return i},mathmlBuilder:(r,e)=>tr(r.body,e)});pe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"htmlmathml",mode:t.mode,html:et(e[0]),mathml:et(e[1])}},htmlBuilder:(r,e)=>{var t=at(r.html,e,!1);return te.makeFragment(t)},mathmlBuilder:(r,e)=>tr(r.mathml,e)});var Da=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new ue("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!rp(n))throw new ue("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};pe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,e,t)=>{var{parser:n}=r,i={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},m="";if(t[0])for(var o=xe(t[0],"raw").string,d=o.split(","),a=0;a<d.length;a++){var f=d[a].split("=");if(f.length===2){var u=f[1].trim();switch(f[0].trim()){case"alt":m=u;break;case"width":i=Da(u);break;case"height":s=Da(u);break;case"totalheight":l=Da(u);break;default:throw new ue("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var h=xe(e[0],"url").url;return m===""&&(m=h,m=m.replace(/^.*[\\/]/,""),m=m.substring(0,m.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:n.mode,alt:m,width:i,height:s,totalheight:l,src:h}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,e)=>{var t=qe(r.height,e),n=0;r.totalheight.number>0&&(n=qe(r.totalheight,e)-t);var i=0;r.width.number>0&&(i=qe(r.width,e));var s={height:de(t+n)};i>0&&(s.width=de(i)),n>0&&(s.verticalAlign=de(-n));var l=new x5(r.src,r.alt,s);return l.height=t,l.depth=n,l},mathmlBuilder:(r,e)=>{var t=new le.MathNode("mglyph",[]);t.setAttribute("alt",r.alt);var n=qe(r.height,e),i=0;if(r.totalheight.number>0&&(i=qe(r.totalheight,e)-n,t.setAttribute("valign",de(-i))),t.setAttribute("height",de(n+i)),r.width.number>0){var s=qe(r.width,e);t.setAttribute("width",de(s))}return t.setAttribute("src",r.src),t}});pe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,i=xe(e[0],"size");if(t.settings.strict){var s=n[1]==="m",l=i.value.unit==="mu";s?(l||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(r,e){return te.makeGlue(r.dimension,e)},mathmlBuilder(r,e){var t=qe(r.dimension,e);return new le.SpaceNode(t)}});pe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:i}},htmlBuilder:(r,e)=>{var t;r.alignment==="clap"?(t=te.makeSpan([],[De(r.body,e)]),t=te.makeSpan(["inner"],[t],e)):t=te.makeSpan(["inner"],[De(r.body,e)]);var n=te.makeSpan(["fix"],[]),i=te.makeSpan([r.alignment],[t,n],e),s=te.makeSpan(["strut"]);return s.style.height=de(i.height+i.depth),i.depth&&(s.style.verticalAlign=de(-i.depth)),i.children.unshift(s),i=te.makeSpan(["thinbox"],[i],e),te.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(r,e)=>{var t=new le.MathNode("mpadded",[Fe(r.body,e)]);if(r.alignment!=="rlap"){var n=r.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});pe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){var{funcName:t,parser:n}=r,i=n.mode;n.switchMode("math");var s=t==="\\("?"\\)":"$",l=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:l}}});pe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){throw new ue("Mismatched "+r.funcName)}});var y0=(r,e)=>{switch(e.style.size){case we.DISPLAY.size:return r.display;case we.TEXT.size:return r.text;case we.SCRIPT.size:return r.script;case we.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};pe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"mathchoice",mode:t.mode,display:et(e[0]),text:et(e[1]),script:et(e[2]),scriptscript:et(e[3])}},htmlBuilder:(r,e)=>{var t=y0(r,e),n=at(t,e,!1);return te.makeFragment(n)},mathmlBuilder:(r,e)=>{var t=y0(r,e);return tr(t,e)}});var zp=(r,e,t,n,i,s,l)=>{r=te.makeSpan([],[r]);var m=t&&Ne.isCharacterBox(t),o,d;if(e){var a=De(e,n.havingStyle(i.sup()),n);d={elem:a,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-a.depth)}}if(t){var f=De(t,n.havingStyle(i.sub()),n);o={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var u;if(d&&o){var h=n.fontMetrics().bigOpSpacing5+o.elem.height+o.elem.depth+o.kern+r.depth+l;u=te.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:de(-s)},{type:"kern",size:o.kern},{type:"elem",elem:r},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:de(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(o){var c=r.height-l;u=te.makeVList({positionType:"top",positionData:c,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:de(-s)},{type:"kern",size:o.kern},{type:"elem",elem:r}]},n)}else if(d){var p=r.depth+l;u=te.makeVList({positionType:"bottom",positionData:p,children:[{type:"elem",elem:r},{type:"kern",size:d.kern},{type:"elem",elem:d.elem,marginLeft:de(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return r;var g=[u];if(o&&s!==0&&!m){var y=te.makeSpan(["mspace"],[],n);y.style.marginRight=de(s),g.unshift(y)}return te.makeSpan(["mop","op-limits"],g,n)},Vp=["\\smallint"],ni=(r,e)=>{var t,n,i=!1,s;r.type==="supsub"?(t=r.sup,n=r.sub,s=xe(r.base,"op"),i=!0):s=xe(r,"op");var l=e.style,m=!1;l.size===we.DISPLAY.size&&s.symbol&&!Vp.includes(s.name)&&(m=!0);var o;if(s.symbol){var d=m?"Size2-Regular":"Size1-Regular",a="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(a=s.name.slice(1),s.name=a==="oiint"?"\\iint":"\\iiint"),o=te.makeSymbol(s.name,d,"math",e,["mop","op-symbol",m?"large-op":"small-op"]),a.length>0){var f=o.italic,u=te.staticSvg(a+"Size"+(m?"2":"1"),e);o=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:u,shift:m?.08:0}]},e),s.name="\\"+a,o.classes.unshift("mop"),o.italic=f}}else if(s.body){var h=at(s.body,e,!0);h.length===1&&h[0]instanceof Pt?(o=h[0],o.classes[0]="mop"):o=te.makeSpan(["mop"],h,e)}else{for(var c=[],p=1;p<s.name.length;p++)c.push(te.mathsym(s.name[p],s.mode,e));o=te.makeSpan(["mop"],c,e)}var g=0,y=0;return(o instanceof Pt||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(g=(o.height-o.depth)/2-e.fontMetrics().axisHeight,y=o.italic),i?zp(o,t,n,e,l,y,g):(g&&(o.style.position="relative",o.style.top=de(g)),o)},ss=(r,e)=>{var t;if(r.symbol)t=new It("mo",[Ft(r.name,r.mode)]),Vp.includes(r.name)&&t.setAttribute("largeop","false");else if(r.body)t=new It("mo",xt(r.body,e));else{t=new It("mi",[new Xt(r.name.slice(1))]);var n=new It("mo",[Ft("","text")]);r.parentIsSupSub?t=new It("mrow",[t,n]):t=pp([t,n])}return t},k3={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};pe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=n;return i.length===1&&(i=k3[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ni,mathmlBuilder:ss});pe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:et(n)}},htmlBuilder:ni,mathmlBuilder:ss});var I3={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};pe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:ni,mathmlBuilder:ss});pe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:ni,mathmlBuilder:ss});pe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(r){var{parser:e,funcName:t}=r,n=t;return n.length===1&&(n=I3[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:ni,mathmlBuilder:ss});var Bp=(r,e)=>{var t,n,i=!1,s;r.type==="supsub"?(t=r.sup,n=r.sub,s=xe(r.base,"operatorname"),i=!0):s=xe(r,"operatorname");var l;if(s.body.length>0){for(var m=s.body.map(f=>{var u=f.text;return typeof u=="string"?{type:"textord",mode:f.mode,text:u}:f}),o=at(m,e.withFont("mathrm"),!0),d=0;d<o.length;d++){var a=o[d];a instanceof Pt&&(a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=te.makeSpan(["mop"],o,e)}else l=te.makeSpan(["mop"],[],e);return i?zp(l,t,n,e,e.style,0,0):l},M3=(r,e)=>{for(var t=xt(r.body,e.withFont("mathrm")),n=!0,i=0;i<t.length;i++){var s=t[i];if(!(s instanceof le.SpaceNode))if(s instanceof le.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof le.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var m=t.map(a=>a.toText()).join("");t=[new le.TextNode(m)]}var o=new le.MathNode("mi",t);o.setAttribute("mathvariant","normal");var d=new le.MathNode("mo",[Ft("","text")]);return r.parentIsSupSub?new le.MathNode("mrow",[o,d]):le.newDocumentFragment([o,d])};pe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,i=e[0];return{type:"operatorname",mode:t.mode,body:et(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Bp,mathmlBuilder:M3});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ar({type:"ordgroup",htmlBuilder(r,e){return r.semisimple?te.makeFragment(at(r.body,e,!1)):te.makeSpan(["mord"],at(r.body,e,!0),e)},mathmlBuilder(r,e){return tr(r.body,e,!0)}});pe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,e){var{parser:t}=r,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(r,e){var t=De(r.body,e.havingCrampedStyle()),n=te.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return te.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(r,e){var t=new le.MathNode("mo",[new le.TextNode("")]);t.setAttribute("stretchy","true");var n=new le.MathNode("mover",[Fe(r.body,e),t]);return n.setAttribute("accent","true"),n}});pe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"phantom",mode:t.mode,body:et(n)}},htmlBuilder:(r,e)=>{var t=at(r.body,e.withPhantom(),!1);return te.makeFragment(t)},mathmlBuilder:(r,e)=>{var t=xt(r.body,e);return new le.MathNode("mphantom",t)}});pe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=te.makeSpan([],[De(r.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),te.makeSpan(["mord"],[t],e)},mathmlBuilder:(r,e)=>{var t=xt(et(r.body),e),n=new le.MathNode("mphantom",t),i=new le.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});pe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=te.makeSpan(["inner"],[De(r.body,e.withPhantom())]),n=te.makeSpan(["fix"],[]);return te.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(r,e)=>{var t=xt(et(r.body),e),n=new le.MathNode("mphantom",t),i=new le.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});pe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r,n=xe(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:i}},htmlBuilder(r,e){var t=De(r.body,e),n=qe(r.dy,e);return te.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){var t=new le.MathNode("mpadded",[Fe(r.body,e)]),n=r.dy.number+r.dy.unit;return t.setAttribute("voffset",n),t}});pe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:e}=r;return{type:"internal",mode:e.mode}}});pe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,e,t){var{parser:n}=r,i=t[0],s=xe(e[0],"size"),l=xe(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&xe(i,"size").value,width:s.value,height:l.value}},htmlBuilder(r,e){var t=te.makeSpan(["mord","rule"],[],e),n=qe(r.width,e),i=qe(r.height,e),s=r.shift?qe(r.shift,e):0;return t.style.borderRightWidth=de(n),t.style.borderTopWidth=de(i),t.style.bottom=de(s),t.width=n,t.height=i+s,t.depth=-s,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(r,e){var t=qe(r.width,e),n=qe(r.height,e),i=r.shift?qe(r.shift,e):0,s=e.color&&e.getColor()||"black",l=new le.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",de(t)),l.setAttribute("height",de(n));var m=new le.MathNode("mpadded",[l]);return i>=0?m.setAttribute("height",de(i)):(m.setAttribute("height",de(i)),m.setAttribute("depth",de(-i))),m.setAttribute("voffset",de(i)),m}});function Hp(r,e,t){for(var n=at(r,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,s=0;s<n.length;s++){var l=n[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[s].classes,e.sizingClasses(t)):n[s].classes[l+1]==="reset-size"+e.size&&(n[s].classes[l+1]="reset-size"+t.size),n[s].height*=i,n[s].depth*=i}return te.makeFragment(n)}var w0=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],R3=(r,e)=>{var t=e.havingSize(r.size);return Hp(r.body,t,e)};pe({type:"sizing",names:w0,props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{breakOnTokenText:t,funcName:n,parser:i}=r,s=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:w0.indexOf(n)+1,body:s}},htmlBuilder:R3,mathmlBuilder:(r,e)=>{var t=e.havingSize(r.size),n=xt(r.body,t),i=new le.MathNode("mstyle",n);return i.setAttribute("mathsize",de(t.sizeMultiplier)),i}});pe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,e,t)=>{var{parser:n}=r,i=!1,s=!1,l=t[0]&&xe(t[0],"ordgroup");if(l)for(var m="",o=0;o<l.body.length;++o){var d=l.body[o];if(m=d.text,m==="t")i=!0;else if(m==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var a=e[0];return{type:"smash",mode:n.mode,body:a,smashHeight:i,smashDepth:s}},htmlBuilder:(r,e)=>{var t=te.makeSpan([],[De(r.body,e)]);if(!r.smashHeight&&!r.smashDepth)return t;if(r.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(r.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return te.makeSpan(["mord"],[s],e)},mathmlBuilder:(r,e)=>{var t=new le.MathNode("mpadded",[Fe(r.body,e)]);return r.smashHeight&&t.setAttribute("height","0px"),r.smashDepth&&t.setAttribute("depth","0px"),t}});pe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n}=r,i=t[0],s=e[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(r,e){var t=De(r.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=te.wrapFragment(t,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,s=i;e.style.id<we.TEXT.id&&(s=e.fontMetrics().xHeight);var l=i+s/4,m=t.height+t.depth+l+i,{span:o,ruleWidth:d,advanceWidth:a}=vn.sqrtImage(m,e),f=o.height-d;f>t.height+t.depth+l&&(l=(l+f-t.height-t.depth)/2);var u=o.height-t.height-l-d;t.style.paddingLeft=de(a);var h=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+u)},{type:"elem",elem:o},{type:"kern",size:d}]},e);if(r.index){var c=e.havingStyle(we.SCRIPTSCRIPT),p=De(r.index,c,e),g=.6*(h.height-h.depth),y=te.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:p}]},e),w=te.makeSpan(["root"],[y]);return te.makeSpan(["mord","sqrt"],[w,h],e)}else return te.makeSpan(["mord","sqrt"],[h],e)},mathmlBuilder(r,e){var{body:t,index:n}=r;return n?new le.MathNode("mroot",[Fe(t,e),Fe(n,e)]):new le.MathNode("msqrt",[Fe(t,e)])}});var b0={display:we.DISPLAY,text:we.TEXT,script:we.SCRIPT,scriptscript:we.SCRIPTSCRIPT};pe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,e){var{breakOnTokenText:t,funcName:n,parser:i}=r,s=i.parseExpression(!0,t),l=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:l,body:s}},htmlBuilder(r,e){var t=b0[r.style],n=e.havingStyle(t).withFont("");return Hp(r.body,n,e)},mathmlBuilder(r,e){var t=b0[r.style],n=e.havingStyle(t),i=xt(r.body,n),s=new le.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},m=l[r.style];return s.setAttribute("scriptlevel",m[0]),s.setAttribute("displaystyle",m[1]),s}});var L3=function(e,t){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(t.style.size===we.DISPLAY.size||n.alwaysHandleSupSub);return i?ni:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(t.style.size===we.DISPLAY.size||n.limits);return s?Bp:null}else{if(n.type==="accent")return Ne.isCharacterBox(n.base)?wc:null;if(n.type==="horizBrace"){var l=!e.sub;return l===n.isOver?Fp:null}else return null}else return null};Ar({type:"supsub",htmlBuilder(r,e){var t=L3(r,e);if(t)return t(r,e);var{base:n,sup:i,sub:s}=r,l=De(n,e),m,o,d=e.fontMetrics(),a=0,f=0,u=n&&Ne.isCharacterBox(n);if(i){var h=e.havingStyle(e.style.sup());m=De(i,h,e),u||(a=l.height-h.fontMetrics().supDrop*h.sizeMultiplier/e.sizeMultiplier)}if(s){var c=e.havingStyle(e.style.sub());o=De(s,c,e),u||(f=l.depth+c.fontMetrics().subDrop*c.sizeMultiplier/e.sizeMultiplier)}var p;e.style===we.DISPLAY?p=d.sup1:e.style.cramped?p=d.sup3:p=d.sup2;var g=e.sizeMultiplier,y=de(.5/d.ptPerEm/g),w=null;if(o){var M=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(l instanceof Pt||M)&&(w=de(-l.italic))}var R;if(m&&o){a=Math.max(a,p,m.depth+.25*d.xHeight),f=Math.max(f,d.sub2);var x=d.defaultRuleThickness,_=4*x;if(a-m.depth-(o.height-f)<_){f=_-(a-m.depth)+o.height;var E=.8*d.xHeight-(a-m.depth);E>0&&(a+=E,f-=E)}var k=[{type:"elem",elem:o,shift:f,marginRight:y,marginLeft:w},{type:"elem",elem:m,shift:-a,marginRight:y}];R=te.makeVList({positionType:"individualShift",children:k},e)}else if(o){f=Math.max(f,d.sub1,o.height-.8*d.xHeight);var T=[{type:"elem",elem:o,marginLeft:w,marginRight:y}];R=te.makeVList({positionType:"shift",positionData:f,children:T},e)}else if(m)a=Math.max(a,p,m.depth+.25*d.xHeight),R=te.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:m,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var I=dl(l,"right")||"mord";return te.makeSpan([I],[l,te.makeSpan(["msupsub"],[R])],e)},mathmlBuilder(r,e){var t=!1,n,i;r.base&&r.base.type==="horizBrace"&&(i=!!r.sup,i===r.base.isOver&&(t=!0,n=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var s=[Fe(r.base,e)];r.sub&&s.push(Fe(r.sub,e)),r.sup&&s.push(Fe(r.sup,e));var l;if(t)l=n?"mover":"munder";else if(r.sub)if(r.sup){var d=r.base;d&&d.type==="op"&&d.limits&&e.style===we.DISPLAY||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(e.style===we.DISPLAY||d.limits)?l="munderover":l="msubsup"}else{var o=r.base;o&&o.type==="op"&&o.limits&&(e.style===we.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===we.DISPLAY)?l="munder":l="msub"}else{var m=r.base;m&&m.type==="op"&&m.limits&&(e.style===we.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||e.style===we.DISPLAY)?l="mover":l="msup"}return new le.MathNode(l,s)}});Ar({type:"atom",htmlBuilder(r,e){return te.mathsym(r.text,r.mode,e,["m"+r.family])},mathmlBuilder(r,e){var t=new le.MathNode("mo",[Ft(r.text,r.mode)]);if(r.family==="bin"){var n=vc(r,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else r.family==="punct"?t.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&t.setAttribute("stretchy","false");return t}});var Up={mi:"italic",mn:"normal",mtext:"normal"};Ar({type:"mathord",htmlBuilder(r,e){return te.makeOrd(r,e,"mathord")},mathmlBuilder(r,e){var t=new le.MathNode("mi",[Ft(r.text,r.mode,e)]),n=vc(r,e)||"italic";return n!==Up[t.type]&&t.setAttribute("mathvariant",n),t}});Ar({type:"textord",htmlBuilder(r,e){return te.makeOrd(r,e,"textord")},mathmlBuilder(r,e){var t=Ft(r.text,r.mode,e),n=vc(r,e)||"normal",i;return r.mode==="text"?i=new le.MathNode("mtext",[t]):/[0-9]/.test(r.text)?i=new le.MathNode("mn",[t]):r.text==="\\prime"?i=new le.MathNode("mo",[t]):i=new le.MathNode("mi",[t]),n!==Up[i.type]&&i.setAttribute("mathvariant",n),i}});var Na={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Oa={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ar({type:"spacing",htmlBuilder(r,e){if(Oa.hasOwnProperty(r.text)){var t=Oa[r.text].className||"";if(r.mode==="text"){var n=te.makeOrd(r,e,"textord");return n.classes.push(t),n}else return te.makeSpan(["mspace",t],[te.mathsym(r.text,r.mode,e)],e)}else{if(Na.hasOwnProperty(r.text))return te.makeSpan(["mspace",Na[r.text]],[],e);throw new ue('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,e){var t;if(Oa.hasOwnProperty(r.text))t=new le.MathNode("mtext",[new le.TextNode("")]);else{if(Na.hasOwnProperty(r.text))return new le.MathNode("mspace");throw new ue('Unknown type of space "'+r.text+'"')}return t}});var S0=()=>{var r=new le.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Ar({type:"tag",mathmlBuilder(r,e){var t=new le.MathNode("mtable",[new le.MathNode("mtr",[S0(),new le.MathNode("mtd",[tr(r.body,e)]),S0(),new le.MathNode("mtd",[tr(r.tag,e)])])]);return t.setAttribute("width","100%"),t}});var _0={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},A0={"\\textbf":"textbf","\\textmd":"textmd"},$3={"\\textit":"textit","\\textup":"textup"},T0=(r,e)=>{var t=r.font;if(t){if(_0[t])return e.withTextFontFamily(_0[t]);if(A0[t])return e.withTextFontWeight(A0[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape($3[t])};pe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,i=e[0];return{type:"text",mode:t.mode,body:et(i),font:n}},htmlBuilder(r,e){var t=T0(r,e),n=at(r.body,t,!0);return te.makeSpan(["mord","text"],n,t)},mathmlBuilder(r,e){var t=T0(r,e);return tr(r.body,t)}});pe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=De(r.body,e),n=te.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return te.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(r,e){var t=new le.MathNode("mo",[new le.TextNode("")]);t.setAttribute("stretchy","true");var n=new le.MathNode("munder",[Fe(r.body,e),t]);return n.setAttribute("accentunder","true"),n}});pe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=De(r.body,e),n=e.fontMetrics().axisHeight,i=.5*(t.height-n-(t.depth+n));return te.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){return new le.MathNode("mpadded",[Fe(r.body,e)],["vcenter"])}});pe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,e,t){throw new ue("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,e){for(var t=E0(r),n=[],i=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var l=t[s];l==="~"&&(l="\\textasciitilde"),n.push(te.makeSymbol(l,"Typewriter-Regular",r.mode,i,["mord","texttt"]))}return te.makeSpan(["mord","text"].concat(i.sizingClasses(e)),te.tryCombineChars(n),i)},mathmlBuilder(r,e){var t=new le.TextNode(E0(r)),n=new le.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var E0=r=>r.body.replace(/ /g,r.star?"":""),Vn=dp,Wp=`[ \r
	]`,D3="\\\\[a-zA-Z@]+",N3="\\\\[^\uD800-\uDFFF]",O3="("+D3+")"+Wp+"*",P3=`\\\\(
|[ \r	]+
?)[ \r	]*`,gl="[-]",F3=new RegExp(gl+"+$"),z3="("+Wp+"+)|"+(P3+"|")+"([!-\\[\\]---]"+(gl+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(gl+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+O3)+("|"+N3+")");class C0{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(z3,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Mt("EOF",new Ct(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new ue("Unexpected character: '"+e[t]+"'",new Mt(e[t],new Ct(this,t,t+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Mt(i,new Ct(this,t,this.tokenRegex.lastIndex))}}class V3{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ue("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var B3=$p;H("\\noexpand",function(r){var e=r.popToken();return r.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});H("\\expandafter",function(r){var e=r.popToken();return r.expandOnce(!0),{tokens:[e],numArgs:0}});H("\\@firstoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[0],numArgs:0}});H("\\@secondoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[1],numArgs:0}});H("\\@ifnextchar",function(r){var e=r.consumeArgs(3);r.consumeSpaces();var t=r.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(r){var e=r.consumeArgs(2);return r.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var x0={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(r){var e=r.popToken(),t,n="";if(e.text==="'")t=8,e=r.popToken();else if(e.text==='"')t=16,e=r.popToken();else if(e.text==="`")if(e=r.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ue("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=x0[e.text],n==null||n>=t)throw new ue("Invalid base-"+t+" digit "+e.text);for(var i;(i=x0[r.future().text])!=null&&i<t;)n*=t,n+=i,r.popToken()}return"\\@char{"+n+"}"});var xc=(r,e,t,n)=>{var i=r.consumeArg().tokens;if(i.length!==1)throw new ue("\\newcommand's first argument must be a macro name");var s=i[0].text,l=r.isDefined(s);if(l&&!e)throw new ue("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!l&&!t)throw new ue("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var m=0;if(i=r.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",d=r.expandNextToken();d.text!=="]"&&d.text!=="EOF";)o+=d.text,d=r.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ue("Invalid number of arguments: "+o);m=parseInt(o),i=r.consumeArg().tokens}return l&&n||r.macros.set(s,{tokens:i,numArgs:m}),""};H("\\newcommand",r=>xc(r,!1,!0,!1));H("\\renewcommand",r=>xc(r,!0,!1,!1));H("\\providecommand",r=>xc(r,!0,!0,!0));H("\\message",r=>{var e=r.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});H("\\errmessage",r=>{var e=r.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});H("\\show",r=>{var e=r.popToken(),t=e.text;return console.log(e,r.macros.get(t),Vn[t],Ve.math[t],Ve.text[t]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");H("","\\mathscr{B}");H("","\\mathscr{E}");H("","\\mathscr{F}");H("","\\mathscr{H}");H("","\\mathscr{I}");H("","\\mathscr{L}");H("","\\mathscr{M}");H("","\\mathscr{R}");H("","\\mathfrak{C}");H("","\\mathfrak{H}");H("","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");H("\\ne","\\neq");H("","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");H("","\\notin");H("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");H("","\\perp");H("","\\mathclose{!\\mkern-0.8mu!}");H("","\\notni");H("","\\ulcorner");H("","\\urcorner");H("","\\llcorner");H("","\\lrcorner");H("","\\copyright");H("","\\textregistered");H("","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");H("","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");H("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");H("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var k0={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(r){var e="\\dotso",t=r.expandAfterFuture().text;return t in k0?e=k0[t]:(t.slice(0,4)==="\\not"||t in Ve.math&&["bin","rel"].includes(Ve.math[t].group))&&(e="\\dotsb"),e});var kc={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(r){var e=r.future().text;return e in kc?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(r){var e=r.future().text;return e in kc&&e!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(r){var e=r.future().text;return e in kc?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new ue("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var jp=de(Qt["Main-Regular"][84][1]-.7*Qt["Main-Regular"][65][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+jp+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+jp+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("","\\dblcolon");H("","\\eqcolon");H("","\\coloneqq");H("","\\eqqcolon");H("","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");H("\\nleqq","\\html@mathml{\\@nleqq}{}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");H("\\imath","\\html@mathml{\\@imath}{}");H("\\jmath","\\html@mathml{\\@jmath}{}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");H("","\\llbracket");H("","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");H("","\\lBrace");H("","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");H("","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var Gp=r=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,l=e.macros.get("|"),m=e.macros.get("\\|");e.macros.beginGroup();var o=f=>u=>{r&&(u.macros.set("|",l),i.length&&u.macros.set("\\|",m));var h=f;if(!f&&i.length){var c=u.future();c.text==="|"&&(u.popToken(),h=!0)}return{tokens:h?i:n,numArgs:0}};e.macros.set("|",o(!1)),i.length&&e.macros.set("\\|",o(!0));var d=e.consumeArg().tokens,a=e.expandTokens([...s,...d,...t]);return e.macros.endGroup(),{tokens:a.reverse(),numArgs:0}};H("\\bra@ket",Gp(!1));H("\\bra@set",Gp(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var qp={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class H3{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new V3(B3,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new C0(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:t,end:n}=this.consumeArg());return this.pushToken(new Mt("EOF",n.loc)),this.pushTokens(i),new Mt("",Ct.range(t,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),s,l=0,m=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new ue("Extra }",s)}else if(s.text==="EOF")throw new ue("Unexpected end of input in a macro argument, expected '"+(e&&n?e[m]:"}")+"'",s);if(e&&n)if((l===0||l===1&&e[m]==="{")&&s.text===e[m]){if(++m,m===e.length){t.splice(-m,m);break}}else m=0}while(l!==0||n);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new ue("The length of delimiters doesn't match the number of args!");for(var n=t[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new ue("Use of the macro doesn't match its definition",s)}}for(var l=[],m=0;m<e;m++)l.push(this.consumeArg(t&&t[m+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ue("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new ue("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var s=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var m=s.length-1;m>=0;--m){var o=s[m];if(o.text==="#"){if(m===0)throw new ue("Incomplete placeholder at end of macro body",o);if(o=s[--m],o.text==="#")s.splice(m+1,1);else if(/^[1-9]$/.test(o.text))s.splice(m,2,...l[+o.text-1]);else throw new ue("Not a valid argument number",o)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Mt(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var m=new C0(i,this.settings),o=[],d=m.lex();d.text!=="EOF";)o.push(d),d=m.lex();o.reverse();var a={tokens:o,numArgs:s};return a}return i}isDefined(e){return this.macros.has(e)||Vn.hasOwnProperty(e)||Ve.math.hasOwnProperty(e)||Ve.text.hasOwnProperty(e)||qp.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Vn.hasOwnProperty(e)&&!Vn[e].primitive}}var I0=/^[]/,Ls=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Pa={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},M0={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Wo{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new H3(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new ue("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Mt("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Wo.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&Vn[i.text]&&Vn[i.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new ue("only one infix operator per group",e[i].token);t=i,n=e[i].replaceWith}if(t!==-1&&n){var s,l,m=e.slice(0,t),o=e.slice(t+1);m.length===1&&m[0].type==="ordgroup"?s=m[0]:s={type:"ordgroup",mode:this.mode,body:m},o.length===1&&o[0].type==="ordgroup"?l=o[0]:l={type:"ordgroup",mode:this.mode,body:o};var d;return n==="\\\\abovefrac"?d=this.callFunction(n,[s,e[t],l],[]):d=this.callFunction(n,[s,l],[]),[d]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new ue("Expected group after '"+n+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(t?.type==="internal"||this.mode==="text")return t;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var l=s.text==="\\limits";t.limits=l,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new ue("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new ue("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new ue("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new ue("Double superscript",s);var m={type:"textord",mode:this.mode,text:"\\prime"},o=[m];for(this.consume();this.fetch().text==="'";)o.push(m),this.consume();this.fetch().text==="^"&&o.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:o}}else if(Ls[s.text]){var d=I0.test(s.text),a=[];for(a.push(new Mt(Ls[s.text])),this.consume();;){var f=this.fetch().text;if(!Ls[f]||I0.test(f)!==d)break;a.unshift(new Mt(Ls[f])),this.consume()}var u=this.subparse(a);d?i={type:"ordgroup",mode:"math",body:u}:n={type:"ordgroup",mode:"math",body:u}}else break}return n||i?{type:"supsub",mode:this.mode,base:t,sup:n,sub:i}:t}parseFunction(e,t){var n=this.fetch(),i=n.text,s=Vn[i];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new ue("Got function '"+i+"' with no arguments"+(t?" as "+t:""),n);if(this.mode==="text"&&!s.allowedInText)throw new ue("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new ue("Can't use function '"+i+"' in math mode",n);var{args:l,optArgs:m}=this.parseArguments(i,s);return this.callFunction(i,l,m,n,e)}callFunction(e,t,n,i,s){var l={funcName:e,parser:this,token:i,breakOnTokenText:s},m=Vn[e];if(m&&m.handler)return m.handler(l,t,n);throw new ue("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],l=0;l<n;l++){var m=t.argTypes&&t.argTypes[l],o=l<t.numOptionalArgs;(t.primitive&&m==null||t.type==="sqrt"&&l===1&&s[0]==null)&&(m="primitive");var d=this.parseGroupOfType("argument to '"+e+"'",m,o);if(o)s.push(d);else if(d!=null)i.push(d);else throw new ue("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new ue("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new ue("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ue("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,t){for(var n=this.fetch(),i=n,s="",l;(l=this.fetch()).text!=="EOF"&&e.test(s+l.text);)i=l,s+=i.text,this.consume();if(s==="")throw new ue("Invalid "+t+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new ue("Invalid color: '"+t.text+"'",t);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new ue("Invalid size: '"+t.text+"'",t);var s={number:+(i[1]+i[2]),unit:i[3]};if(!rp(s))throw new ue("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return t&&this.switchMode(i),l}parseGroup(e,t){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var m=this.parseExpression(!1,l),o=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Ct.range(n,o),body:m,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!qp.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ue("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],s=i.text;s==="-"&&e[n+1].text==="-"&&(n+1<t&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Ct.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Ct.range(i,e[n+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[n+1].text===s&&(e.splice(n,2,{type:"textord",mode:"text",loc:Ct.range(i,e[n+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ue(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}M0.hasOwnProperty(t[0])&&!Ve[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=M0[t[0]]+t.slice(1));var s=F3.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="":t==="j"&&(t=""));var l;if(Ve[this.mode][t]){this.settings.strict&&this.mode==="math"&&hl.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var m=Ve[this.mode][t].group,o=Ct.range(e),d;if(M5.hasOwnProperty(m)){var a=m;d={type:"atom",mode:this.mode,family:a,loc:o,text:t}}else d={type:m,mode:this.mode,loc:o,text:t};l=d}else if(t.charCodeAt(0)>=128)this.settings.strict&&(np(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Ct.range(e),text:t};else return null;if(this.consume(),s)for(var f=0;f<s[0].length;f++){var u=s[0][f];if(!Pa[u])throw new ue("Unknown accent ' "+u+"'",e);var h=Pa[u][this.mode]||Pa[u].text;if(!h)throw new ue("Accent "+u+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Ct.range(e),label:h,isStretchy:!1,isShifty:!0,base:l}}return l}}Wo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ic=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Wo(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new ue("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Mt("\\df@tag")])}]}return i},Kp=function(e,t,n){t.textContent="";var i=Mc(e,n).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Kp=function(){throw new ue("KaTeX doesn't work in quirks mode.")});var U3=function(e,t){var n=Mc(e,t).toMarkup();return n},W3=function(e,t){var n=new hc(t);return Ic(e,n)},Yp=function(e,t,n){if(n.throwOnError||!(e instanceof ue))throw e;var i=te.makeSpan(["katex-error"],[new Pt(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},Mc=function(e,t){var n=new hc(t);try{var i=Ic(e,n);return Z5(i,e,n)}catch(s){return Yp(s,e,n)}},j3=function(e,t){var n=new hc(t);try{var i=Ic(e,n);return e3(i,e,n)}catch(s){return Yp(s,e,n)}},G3="0.16.27",q3={Span:is,Anchor:pc,SymbolNode:Pt,SvgNode:_n,PathNode:er,LineNode:ul},R0={version:G3,render:Kp,renderToString:U3,ParseError:ue,SETTINGS_SCHEMA:Us,__parse:W3,__renderToDomTree:Mc,__renderToHTMLTree:j3,__setFontMetrics:_5,__defineSymbol:$,__defineFunction:pe,__defineMacro:H,__domTree:q3},K3=function(e,t,n){for(var i=n,s=0,l=e.length;i<t.length;){var m=t[i];if(s<=0&&t.slice(i,i+l)===e)return i;m==="\\"?i++:m==="{"?s++:m==="}"&&s--,i++}return-1},Y3=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},Q3=/^\\begin{/,X3=function(e,t){for(var n,i=[],s=new RegExp("("+t.map(d=>Y3(d.left)).join("|")+")");n=e.search(s),n!==-1;){n>0&&(i.push({type:"text",data:e.slice(0,n)}),e=e.slice(n));var l=t.findIndex(d=>e.startsWith(d.left));if(n=K3(t[l].right,e,t[l].left.length),n===-1)break;var m=e.slice(0,n+t[l].right.length),o=Q3.test(m)?m:e.slice(t[l].left.length,n);i.push({type:"math",data:o,rawData:m,display:t[l].display}),e=e.slice(n+t[l].right.length)}return e!==""&&i.push({type:"text",data:e}),i},J3=function(e,t){var n=X3(e,t.delimiters);if(n.length===1&&n[0].type==="text")return null;for(var i=document.createDocumentFragment(),s=0;s<n.length;s++)if(n[s].type==="text")i.appendChild(document.createTextNode(n[s].data));else{var l=document.createElement("span"),m=n[s].data;t.displayMode=n[s].display;try{t.preProcess&&(m=t.preProcess(m)),R0.render(m,l,t)}catch(o){if(!(o instanceof R0.ParseError))throw o;t.errorCallback("KaTeX auto-render: Failed to parse `"+n[s].data+"` with ",o),i.appendChild(document.createTextNode(n[s].rawData));continue}i.appendChild(l)}return i},Z3=function r(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType===3){for(var s=i.textContent,l=i.nextSibling,m=0;l&&l.nodeType===Node.TEXT_NODE;)s+=l.textContent,l=l.nextSibling,m++;var o=J3(s,t);if(o){for(var d=0;d<m;d++)i.nextSibling.remove();n+=o.childNodes.length-1,e.replaceChild(o,i)}else n+=m}else i.nodeType===1&&(function(){var a=" "+i.className+" ",f=t.ignoredTags.indexOf(i.nodeName.toLowerCase())===-1&&t.ignoredClasses.every(u=>a.indexOf(" "+u+" ")===-1);f&&r(i,t)})()}},eb=function(e,t){if(!e)throw new Error("No element provided to render");var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.delimiters=n.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],n.ignoredTags=n.ignoredTags||["script","noscript","style","textarea","pre","code","option"],n.ignoredClasses=n.ignoredClasses||[],n.errorCallback=n.errorCallback||console.error,n.macros=n.macros||{},Z3(e,n)};const Qp=[{id:101,serie:"Variables & Oprations",titre:"Ma premire variable",consigne:"Crez une variable nomme <code>score</code>, donnez-lui la valeur <strong>100</strong>, et affichez-la avec <code>print(score)</code>.",code:`# Crez la variable score

# Affichez-la`,validation:{type:"output_list",values:["100"]}},{id:102,serie:"Variables & Oprations",titre:"Texte (String)",consigne:'Crez une variable <code>ville</code> contenant le texte "Paris". Affichez cette variable.',code:`ville = "..."
print(ville)`,validation:{type:"output_list",values:["Paris"]}},{id:103,serie:"Variables & Oprations",titre:"L'Addition",consigne:"On a deux pommes et trois poires. Crez les variables <code>pommes = 2</code> et <code>poires = 3</code>. Affichez le total des fruits.",code:`pommes = 2
poires = 3
# Affichez la somme`,validation:{type:"output_list",values:["5"]}},{id:104,serie:"Variables & Oprations",titre:"Soustraction (Calcul d'ge)",consigne:"Calculez l'ge d'une personne ne en 2000 sachant que nous sommes en 2050. Affichez le rsultat.",code:`naissance = 2000
actuel = 2050

# Calculez et affichez la diffrence`,validation:{type:"output_list",values:["50"]}},{id:105,serie:"Variables & Oprations",titre:"Multiplication",consigne:"Vous achetez 5 articles  12 l'unit. Calculez le prix total et affichez-le.",code:`prix = 12
quantite = 5

print(prix * quantite)`,validation:{type:"output_list",values:["60"]}},{id:106,serie:"Variables & Oprations",titre:"La Division",consigne:"Divisez 20 par 4 et affichez le rsultat. Notez que Python renvoie toujours un nombre  virgule (float) pour une division.",code:`a = 20
b = 4
# Affichez a divis par b`,validation:{type:"output_list",values:["5.0"]}},{id:107,serie:"Variables & Oprations",titre:"Le Modulo (Reste)",consigne:"L'oprateur <code>%</code> donne le reste de la division entire. <br>Exemple : $10 \\% 3 = 1$ (car $3 \\times 3 = 9$, il reste 1).<br>Affichez le reste de 14 divis par 5.",code:"print(14 % 5)",validation:{type:"output_list",values:["4"]}},{id:108,serie:"Variables & Oprations",titre:"Puissance",consigne:"Pour calculer $5^3$ (5 puissance 3), on utilise l'oprateur <code>**</code>. Calculez et affichez le carr de 9 ($9^2$).",code:`n = 9
# Affichez n puissance 2`,validation:{type:"output_list",values:["81"]}},{id:109,serie:"Variables & Oprations",titre:"Concatnation",consigne:`On peut 'additionner' du texte pour le coller. Crez <code>prenom = "Bond"</code>. Affichez la chaine "James Bond" en utilisant la variable.`,code:`prenom = "Bond"
print("James " + prenom)`,validation:{type:"output_list",values:["James Bond"]}},{id:110,serie:"Variables & Oprations",titre:"Conversion de type",consigne:`On ne peut pas additionner un texte et un nombre. Convertissez la chaine "5" en entier avec <code>int()</code> pour l'ajouter  10. Affichez le rsultat (15).`,code:`chiffre_texte = "5"
nombre = 10

# resultat = int(chiffre_texte) + nombre
# print(resultat)`,validation:{type:"output_list",values:["15"]}},{id:111,serie:"Variables & Oprations",titre:"Les f-strings",consigne:`La mthode moderne pour insrer des variables dans du texte est la f-string : <code>f"Texte {variable}"</code>.<br>Affichez 'J'ai 20 ans' en utilisant les variables.`,code:`age = 20
print(f"J'ai {age} ans")`,validation:{type:"output_list",values:["J'ai 20 ans"]}},{id:112,serie:"Variables & Oprations",titre:"change de variables",consigne:"changez les valeurs de <code>a</code> et <code>b</code>. <code>a</code> doit valoir 2 et <code>b</code> doit valoir 1. Affichez <code>a</code> puis <code>b</code>.",code:`a = 1
b = 2

# Astuce Python : a, b = b, a

print(a)
print(b)`,validation:{type:"output_list",values:["2","1"]}},{id:201,serie:"Fonctions",titre:"Premire fonction",consigne:"Dfinissez une fonction nomme <code>hello</code> qui ne prend aucun paramtre et qui retourne la chane de caractres 'Bonjour le monde !'.",code:`def hello():
    # Utilisez return
    pass`,validation:{type:"function",tests:["assert hello() == 'Bonjour le monde !'"]}},{id:202,serie:"Fonctions",titre:"Le Double",consigne:"crivez une fonction <code>doubler(n)</code> qui prend un nombre en paramtre et retourne son double (nombre multipli par 2).",code:`def doubler(n):
    # Votre code ici
    return 0`,validation:{type:"function",tests:["assert doubler(5) == 10","assert doubler(0) == 0","assert doubler(-3) == -6"]}},{id:203,serie:"Fonctions",titre:"Addition",consigne:"crivez une fonction <code>addition(a, b)</code> qui prend deux nombres et retourne leur somme.",code:`def addition(a, b):
    # Retournez a + b
    pass`,validation:{type:"function",tests:["assert addition(3, 4) == 7","assert addition(10, -2) == 8"]}},{id:204,serie:"Fonctions",titre:"Aire du rectangle",consigne:"Crez une fonction <code>aire_rectangle(longueur, largeur)</code> qui calcule et retourne l'aire (longueur  largeur).",code:`def aire_rectangle(longueur, largeur):
    return 0`,validation:{type:"function",tests:["assert aire_rectangle(10, 5) == 50","assert aire_rectangle(3, 3) == 9"]}},{id:205,serie:"Fonctions",titre:"Conversion Minutes",consigne:"On veut convertir un nombre d'heures en minutes. crivez <code>heures_en_minutes(h)</code> sachant qu'une heure vaut 60 minutes.",code:`def heures_en_minutes(h):
    # ...
    pass`,validation:{type:"function",tests:["assert heures_en_minutes(1) == 60","assert heures_en_minutes(2.5) == 150","assert heures_en_minutes(0) == 0"]}},{id:206,serie:"Fonctions",titre:"Salutation Personnalise",consigne:"crivez une fonction <code>bonjour(nom)</code> qui retourne la chane 'Bonjour {nom}, comment vas-tu ?'.",code:`def bonjour(nom):
    # Utilisez la concatnation ou les f-strings f"..."
    pass`,validation:{type:"function",tests:["assert bonjour('Alice') == 'Bonjour Alice, comment vas-tu ?'","assert bonjour('Bob') == 'Bonjour Bob, comment vas-tu ?'"]}},{id:207,serie:"Fonctions",titre:"Primtre",consigne:"L'utilisateur fournit le ct d'un carr. Crez une fonction <code>perimetre_carre(cote)</code> qui retourne le primtre (ct  4).",code:`def perimetre_carre(cote):
    # Codez ici
    pass`,validation:{type:"function",tests:["assert perimetre_carre(5) == 20","assert perimetre_carre(1) == 4"]}},{id:208,serie:"Fonctions",titre:"Moyenne de 3 nombres",consigne:"crivez une fonction <code>moyenne(a, b, c)</code> qui retourne la moyenne mathmatique de ces trois nombres.",code:`def moyenne(a, b, c):
    # Attention aux parenthses !
    return 0`,validation:{type:"function",tests:["assert moyenne(10, 10, 10) == 10","assert moyenne(0, 10, 20) == 10","assert moyenne(5, 5, 20) == 10"]}},{id:209,serie:"Fonctions",titre:"Calcul TTC",consigne:"crivez une fonction <code>prix_ttc(prix_ht, taux)</code>. Le calcul est : $PrixHT \\times (1 + \\frac{taux}{100})$.",code:`def prix_ttc(prix_ht, taux):
    # Exemple: prix_ttc(100, 20) doit donner 120
    pass`,validation:{type:"function",tests:["assert prix_ttc(100, 20) == 120","assert prix_ttc(50, 10) == 55","assert prix_ttc(100, 0) == 100"]}},{id:210,serie:"Fonctions",titre:"Est Majeur ?",consigne:"La fonction doit retourner un <strong>Boolen</strong> (`True` ou `False`). Retournez `True` si l'ge est >= 18, sinon `False`.",code:`def est_majeur(age):
    # Pas besoin de if, retournez directement la condition
    pass`,validation:{type:"function",tests:["assert est_majeur(20) == True","assert est_majeur(15) == False","assert est_majeur(18) == True"]}},{id:211,serie:"Fonctions",titre:"Vitesse Moyenne",consigne:"La vitesse est la distance divise par le temps ($v = d / t$). Crez la fonction <code>vitesse(d, t)</code>.",code:`def vitesse(distance, temps):
    return 0`,validation:{type:"function",tests:["assert vitesse(100, 2) == 50","assert vitesse(50, 1) == 50"]}},{id:212,serie:"Fonctions",titre:"Paramtre par dfaut",consigne:"Python permet des valeurs par dfaut. Compltez la fonction pour que si on n'indique pas de devise, ce soit '' par dfaut.",code:`def afficher_prix(valeur, devise=''):
    return str(valeur) + ' ' + devise
    # Ne touchez rien, testez juste le code pour comprendre !`,validation:{type:"function",tests:["assert afficher_prix(10) == '10 '","assert afficher_prix(20, '$') == '20 $'"]}},{id:301,serie:"Conditions",titre:"Condition Simple (If)",consigne:"On a une variable <code>temperature</code>. Si elle est suprieure  25, affichez 'Il fait chaud'. Sinon, ne faites rien.",code:`temperature = 30

# crivez votre if ici`,validation:{type:"output_list",values:["Il fait chaud"]}},{id:302,serie:"Conditions",titre:"Else (Sinon)",consigne:"crivez une fonction <code>acces_club(age)</code>. Si l'ge est suprieur ou gal  18, retournez 'Entre autorise', sinon retournez 'Entre refuse'.",code:`def acces_club(age):
    # Utilisez if et else
    pass`,validation:{type:"function",tests:["assert acces_club(20) == 'Entre autorise'","assert acces_club(17) == 'Entre refuse'","assert acces_club(18) == 'Entre autorise'"]}},{id:303,serie:"Conditions",titre:"Comparaison de texte",consigne:"Crez un systme de mot de passe simple. Si la variable <code>mdp</code> vaut exactement 'PyThOn', affichez 'Accs OK', sinon affichez 'Accs refus'. Attention aux majuscules.",code:`mdp = "python" # Essayez de changer a

# Votre test ici`,validation:{type:"output_list",values:["Accs refus"]}},{id:304,serie:"Conditions",titre:"Elif (Signe d'un nombre)",consigne:"crivez une fonction <code>signe(n)</code> qui retourne 'Positif' si n > 0, 'Ngatif' si n < 0, et 'Nul' si n vaut 0.",code:`def signe(n):
    if n > 0:
        return 'Positif'
    # Ajoutez elif et else
    pass`,validation:{type:"function",tests:["assert signe(10) == 'Positif'","assert signe(-5) == 'Ngatif'","assert signe(0) == 'Nul'"]}},{id:305,serie:"Conditions",titre:"Oprateur AND (Intervalle)",consigne:"Vrifiez si le nombre <code>x</code> est compris entre 10 et 20 inclus ($10 \\leq x \\leq 20$). Si oui, affichez 'Dans la cible'.",code:`x = 15

# Utilisez l'oprateur 'and' ou la chane de comparaison 10 <= x <= 20`,validation:{type:"output_list",values:["Dans la cible"]}},{id:306,serie:"Conditions",titre:"Pair ou Impair (Modulo)",consigne:"Utilisez l'oprateur modulo <code>%</code> pour vrifier si un nombre est pair. crivez la fonction <code>est_pair(n)</code> qui retourne <code>True</code> ou <code>False</code>.",code:`def est_pair(n):
    # Rappel : un nombre est pair si le reste de sa division par 2 est 0
    return False`,validation:{type:"function",tests:["assert est_pair(10) == True","assert est_pair(7) == False","assert est_pair(0) == True"]}},{id:307,serie:"Conditions",titre:"Oprateur OR (Voyelles)",consigne:"crivez une fonction <code>est_voyelle(lettre)</code> qui retourne True si la lettre est 'a', 'e', 'i', 'o', 'u' ou 'y'.",code:`def est_voyelle(lettre):
    # Utilisez 'if lettre in ...' ou des 'or'
    pass`,validation:{type:"function",tests:["assert est_voyelle('a') == True","assert est_voyelle('z') == False","assert est_voyelle('y') == True"]}},{id:308,serie:"Conditions",titre:"Le plus grand de 3",consigne:"Sans utiliser la fonction <code>max()</code>, crivez une logique pour trouver le plus grand nombre parmi <code>a</code>, <code>b</code> et <code>c</code> et affichez-le.",code:`a = 15
b = 42
c = 8

# Comparaisons successives

# print(le_plus_grand)`,validation:{type:"output_list",values:["42"]}},{id:309,serie:"Conditions",titre:"Systme de notation",consigne:"Convertissez une note sur 20 en apprciation. <br>>= 16: 'Trs bien'<br>>= 14: 'Bien'<br>>= 10: 'Passable'<br>Sinon: 'Insuffisant'.",code:`def appreciation(note):
    # Utilisez une chane de if / elif / else
    return ''`,validation:{type:"function",tests:["assert appreciation(18) == 'Trs bien'","assert appreciation(15) == 'Bien'","assert appreciation(12) == 'Passable'","assert appreciation(8) == 'Insuffisant'"]}},{id:310,serie:"Conditions",titre:"Anne Bissextile (Logique)",consigne:"Une anne est bissextile si elle est divisible par 4, MAIS pas par 100, SAUF si elle est divisible par 400.<br>crivez la fonction <code>est_bissextile(annee)</code>.",code:`def est_bissextile(annee):
    # if (cond1 and not cond2) or cond3:
    return False`,validation:{type:"function",tests:["assert est_bissextile(2000) == True","assert est_bissextile(2020) == True","assert est_bissextile(1900) == False","assert est_bissextile(2023) == False"]}},{id:311,serie:"Conditions",titre:"Calcul de remise",consigne:"Un magasin offre 10% de remise si l'achat dpasse 100, et 20% si l'achat dpasse 500. Calculez le prix final pour un achat de 600.",code:`achat = 600

if achat > 500:
    # Appliquer 20%
elif achat > 100:
    # Appliquer 10%

print(achat)`,validation:{type:"output_list",values:["480.0"]}},{id:312,serie:"Conditions",titre:"Validit Triangle",consigne:"Pour qu'un triangle existe, la longueur de chaque ct doit tre infrieure  la somme des deux autres.<br>crivez <code>triangle_valide(a, b, c)</code>.",code:`def triangle_valide(a, b, c):
    # Vrifiez les 3 conditions
    pass`,validation:{type:"function",tests:["assert triangle_valide(3, 4, 5) == True","assert triangle_valide(1, 1, 10) == False","assert triangle_valide(5, 5, 5) == True"]}},{id:401,serie:"Boucles For",titre:"Compter jusqu' 5",consigne:"Utilisez une boucle <code>for</code> et la fonction <code>range()</code> pour afficher les nombres de 0  4.",code:`for i in range(5):
    print(i)`,validation:{type:"output_list",values:["0","1","2","3","4"]}},{id:402,serie:"Boucles For",titre:"Bornes prcises",consigne:"Affichez les nombres de 5  10 inclus ($[5, 10]$). N'oubliez pas que la borne de fin de <code>range</code> est exclue.",code:`# range(debut, fin_exclue)
for i in range(...):
    print(i)`,validation:{type:"output_list",values:["5","6","7","8","9","10"]}},{id:403,serie:"Boucles For",titre:"Nombres pairs",consigne:"Affichez tous les nombres pairs entre 0 et 10 inclus en utilisant le troisime paramtre de <code>range</code> (le pas).",code:`# range(debut, fin, pas)
for i in range(0, 11, 2):
    print(i)`,validation:{type:"output_list",values:["0","2","4","6","8","10"]}},{id:404,serie:"Boucles For",titre:"Compte  rebours",consigne:"Affichez le compte  rebours de 5  1 (5, 4, 3, 2, 1) en utilisant un pas ngatif dans <code>range</code>.",code:`for i in range(5, 0, -1):
    print(i)`,validation:{type:"output_list",values:["5","4","3","2","1"]}},{id:405,serie:"Boucles For",titre:"La Somme (Accumulateur)",consigne:"Calculez la somme des entiers de 1  100 ($1+2+...+100$) en utilisant une boucle <code>for</code> et une variable <code>total</code>.",code:`total = 0
for i in range(1, 101):
    # Ajoutez i au total
    pass
print(total)`,validation:{type:"output_list",values:["5050"]}},{id:406,serie:"Boucles For",titre:"Calcul de Factorielle",consigne:"La factorielle de $n$ ($n!$) est le produit des nombres de 1  $n$.<br>crivez une fonction <code>factorielle(n)</code>.",code:`def factorielle(n):
    resultat = 1
    for i in range(1, n + 1):
        resultat = resultat * i
    return resultat`,validation:{type:"function",tests:["assert factorielle(5) == 120","assert factorielle(3) == 6","assert factorielle(1) == 1"]}},{id:407,serie:"Boucles For",titre:"Parcours de liste",consigne:"Voici une liste de fruits. Utilisez une boucle <code>for fruit in fruits</code> pour afficher chaque fruit en majuscules.",code:`fruits = ['pomme', 'poire', 'cerise']

for fruit in fruits:
    # print(fruit.upper())`,validation:{type:"output_list",values:["POMME","POIRE","CERISE"]}},{id:408,serie:"Boucles For",titre:"Moyenne de classe",consigne:"Calculez la moyenne des notes de la liste donne. Additionnez les notes, puis divisez par le nombre de notes (<code>len(notes)</code>).",code:`notes = [12, 15, 8, 20, 10]
somme = 0

# Votre boucle ici

print(somme / len(notes))`,validation:{type:"output_list",values:["13.0"]}},{id:409,serie:"Boucles For",titre:"Le Maximum",consigne:"Sans utiliser la fonction <code>max()</code>, trouvez le plus grand nombre de la liste en parcourant les lments.",code:`valeurs = [5, 12, 99, 7, 42]
le_max = valeurs[0]

for v in valeurs:
    # Si v est plus grand que le_max, on met  jour le_max
    pass
print(le_max)`,validation:{type:"output_list",values:["99"]}},{id:410,serie:"Boucles For",titre:"Comptage de voyelles",consigne:"crivez une fonction qui compte le nombre de voyelles ('aeiouy') dans un mot donn.",code:`def compte_voyelles(mot):
    compteur = 0
    voyelles = "aeiouy"
    for lettre in mot:
        if lettre in voyelles:
            compteur += 1
    return compteur`,validation:{type:"function",tests:["assert compte_voyelles('python') == 2","assert compte_voyelles('banane') == 3","assert compte_voyelles('xyz') == 1"]}},{id:411,serie:"Boucles For",titre:"Table de multiplication",consigne:"crivez une fonction <code>table_mul(n)</code> qui retourne une liste contenant la table de multiplication de n (de 1  10).",code:`def table_mul(n):
    resultats = []
    for i in range(1, 11):
        # Ajoutez (i * n)  la liste resultats
        pass
    return resultats`,validation:{type:"function",tests:["assert table_mul(5) == [5, 10, 15, 20, 25, 30, 35, 40, 45, 50]","assert table_mul(2) == [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]"]}},{id:412,serie:"Boucles For",titre:"Filtrage de donnes",consigne:" partir de la liste <code>donnees</code>, crez une nouvelle liste <code>positives</code> ne contenant que les nombres strictement positifs.",code:`donnees = [-10, 15, 0, -5, 20, 3]
positives = []

for x in donnees:
    # Votre condition ici

print(positives)`,validation:{type:"output_list",values:["[15, 20, 3]"]}},{id:501,serie:"Boucles While",titre:"Compte  rebours",consigne:"Initialisez une variable <code>n</code>  5. Tant que <code>n</code> est suprieur  0, affichez la valeur de <code>n</code>, puis dcrmentez <code>n</code> de 1. Affichez 'Dcollage !'  la fin.",code:`n = 5

# crivez votre boucle while ici

print('Dcollage !')`,validation:{type:"output_list",values:["5","4","3","2","1","Dcollage !"]}},{id:502,serie:"Boucles While",titre:"Nombres pairs",consigne:"Affichez tous les nombres pairs strictement infrieurs  10 en utilisant une boucle <code>while</code>. Commencez  0.",code:`i = 0
while i < 10:
    # Affichez i puis augmentez-le
    pass`,validation:{type:"output_list",values:["0","2","4","6","8"]}},{id:503,serie:"Boucles While",titre:"La limite de 100",consigne:"On veut trouver le plus petit entier <code>n</code> tel que la somme des entiers de 1  <code>n</code> dpasse 100. <br>Exemple: $1+2+3...$. <br>crivez le code pour trouver ce <code>n</code> et affichez-le.",code:`somme = 0
n = 0

while somme <= 100:
    n = n + 1
    somme = somme + n

print(n)`,validation:{type:"output_list",values:["14"]}},{id:504,serie:"Boucles While",titre:"Puissances de 2",consigne:"Affichez les puissances de 2 ($2^0, 2^1, 2^2...$) tant que le rsultat est infrieur  1000.",code:`n = 1
while n < 1000:
    print(n)
    # Multipliez n par 2`,validation:{type:"output_list",values:["1","2","4","8","16","32","64","128","256","512"]}},{id:505,serie:"Boucles While",titre:"Intrts composs",consigne:"Vous placez 1000. Chaque anne, la somme augmente de 5% (multipli par 1.05).<br>Crez une fonction <code>annees_pour_doubler(capital)</code> qui retourne le nombre d'annes ncessaires pour que le capital double.",code:`def annees_pour_doubler(capital_depart):
    capital_courant = capital_depart
    cible = capital_depart * 2
    annees = 0
    
    # Utilisez while ici
    
    return annees`,validation:{type:"function",tests:["assert annees_pour_doubler(1000) == 15","assert annees_pour_doubler(100) == 15","assert annees_pour_doubler(500) == 15"]}},{id:506,serie:"Boucles While",titre:"Saisie valide",consigne:"Simulons une validation. On a une liste de nombres <code>valeurs</code>. Tant que le dernier lment de la liste est ngatif, retirez-le (avec <code>.pop()</code>). Affichez la liste finale.",code:`valeurs = [10, 5, 3, -2, -8, -1]

# Tant que la dernire valeur (valeurs[-1]) est < 0
# Utilisez valeurs.pop()

print(valeurs)`,validation:{type:"output_list",values:["[10, 5, 3]"]}},{id:507,serie:"Boucles While",titre:"Parcours sans For",consigne:"Sans utiliser de boucle <code>for</code>, affichez chaque lettre du mot 'PYTHON' sur une ligne spare en utilisant un index <code>i</code> et une boucle <code>while</code>.",code:`mot = "PYTHON"
i = 0

while i < len(mot):
    # Votre code
    i += 1`,validation:{type:"output_list",values:["P","Y","T","H","O","N"]}},{id:508,serie:"Boucles While",titre:"Trouver l'lment",consigne:"crivez une fonction <code>trouver_index(liste, cible)</code> qui retourne l'index de la <code>cible</code> dans la <code>liste</code> en utilisant <code>while</code>. Retournez -1 si non trouv.",code:`def trouver_index(liste, cible):
    i = 0
    while i < len(liste):
        if liste[i] == cible:
            return i
        i += 1
    return -1`,validation:{type:"function",tests:["assert trouver_index([10, 20, 30], 20) == 1","assert trouver_index(['a', 'b'], 'z') == -1","assert trouver_index([1, 2, 3], 1) == 0"]}},{id:509,serie:"Boucles While",titre:"Conjecture de Syracuse",consigne:"Partez d'un nombre <code>n</code>. Tant que <code>n > 1</code> : si <code>n</code> est pair, divisez-le par 2. Sinon, multipliez-le par 3 et ajoutez 1. Affichez <code>n</code>  chaque tape.",code:`n = 10
while n > 1:
    # Votre logique ici
    # N'oubliez pas la division entire //
    print(int(n))`,validation:{type:"output_list",values:["5","16","8","4","2","1"]}},{id:510,serie:"Boucles While",titre:"PGCD (Algorithme d'Euclide)",consigne:"Le PGCD de deux nombres <code>a</code> et <code>b</code> se calcule ainsi : tant que <code>b</code> n'est pas nul, on remplace <code>a</code> par <code>b</code> et <code>b</code> par le reste de <code>a</code> divis par <code>b</code> ($a \\% b$). Crez la fonction <code>pgcd(a, b)</code>.",code:`def pgcd(a, b):
    while b != 0:
        # Sauvegardez b temporairement si besoin
        # ou utilisez l'affectation multiple: a, b = b, a % b
        pass
    return a`,validation:{type:"function",tests:["assert pgcd(48, 18) == 6","assert pgcd(100, 10) == 10","assert pgcd(17, 13) == 1"]}},{id:511,serie:"Boucles While",titre:"Suite de Fibonacci",consigne:"La suite de Fibonacci commence par 0 et 1. Chaque terme suivant est la somme des deux prcdents ($0, 1, 1, 2, 3, 5...$).<br>Trouvez et affichez le premier terme de cette suite qui est <strong>suprieur  1000</strong>.",code:`a = 0
b = 1

while b <= 1000:
    # Calculez le terme suivant
    # Astuce: a, b = b, a + b
    pass

print(b)`,validation:{type:"output_list",values:["1597"]}},{id:512,serie:"Boucles While",titre:"Racine numrique",consigne:"La racine numrique s'obtient en additionnant les chiffres d'un nombre, puis en recommenant avec le rsultat tant que celui-ci a plus d'un chiffre.<br>Exemple pour 942 : $9+4+2=15$ -> $1+5=6$.<br>crivez une fonction <code>racine_num(n)</code>.",code:`def racine_num(n):
    while n > 9:
        somme = 0
        # Boucle pour additionner les chiffres de n
        # Puis mettre le rsultat dans n
        pass
    return n`,validation:{type:"function",tests:["assert racine_num(942) == 6","assert racine_num(12345) == 6","assert racine_num(9999) == 9"]}}];let yo=null,Ei=null,wo=[],vl=null,qr=new Set;const tb={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredTags:["script","noscript","style","textarea","pre","code"]},ri=Gw.edit("editor");ri.setTheme("ace/theme/monokai");ri.session.setMode("ace/mode/python");ri.setFontSize(16);ri.setValue("# Chargement...",1);const js=document.getElementById("output"),Ci=document.getElementById("run-btn"),L0=document.getElementById("exercise-list"),qt=document.getElementById("status-msg"),$0=document.getElementById("ex-consigne");function Gi(r){js.textContent+=r+`
`,js.scrollTop=js.scrollHeight,wo.push(r.trim())}function Xp(){js.textContent="",wo=[]}async function nb(){Ci.textContent="Chargement Python...",Ci.disabled=!0,yo=await loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/",stdout:r=>Gi(r),stderr:r=>Gi(" "+r)}),Ci.textContent=" Excuter & Vrifier",Ci.disabled=!1,Zp(Qp[0])}nb();function Jp(){const r={};Qp.forEach(t=>{r[t.serie]||(r[t.serie]=[]),r[t.serie].push(t)}),L0.innerHTML="";let e=!0;for(const[t,n]of Object.entries(r)){const i=document.createElement("details");e&&(i.open=!0,e=!1),i.className="border-b group border-slate-800";const s=document.createElement("summary");s.className="flex items-center justify-between p-4 font-semibold list-none transition-colors outline-none cursor-pointer select-none text-slate-400 hover:text-white hover:bg-slate-800",s.innerHTML=`
      <span>${t}</span>
      <span class="transform transition-transform duration-200 group-open:rotate-90 text-xs"></span>
    `,i.appendChild(s);const l=document.createElement("ul");l.className="pb-2 bg-slate-950",n.forEach(m=>{const o=document.createElement("li"),d=document.createElement("button");d.className="block w-full py-2 pl-8 pr-4 text-sm text-left transition-all border-l-2 border-transparent text-slate-500 hover:text-indigo-400 hover:bg-white/5 hover:border-indigo-500",qr.has(m.id)?(d.innerHTML=`<span class="text-green-500 mr-2"></span> ${m.titre}`,d.classList.add("text-indigo-300")):d.textContent=m.titre,d.onclick=()=>{Zp(m)},o.appendChild(d),l.appendChild(o)}),i.appendChild(l),L0.appendChild(i)}}Jp();function Zp(r){Ei=r,document.getElementById("serie-badge").textContent=r.serie,document.getElementById("ex-title").textContent=r.titre,$0.innerHTML=r.consigne,eb($0,tb),qt.className="hidden",Xp(),ri.setValue(r.code,1)}async function rb(r){if(r.validation.type==="output_list"){const e=r.validation.values,t=JSON.stringify(wo)===JSON.stringify(e);return t||(Gi(`
 ATTENDU : ${JSON.stringify(e)}`),Gi(` OBTENU : ${JSON.stringify(wo)}`)),t}if(r.validation.type==="function")try{const e=r.validation.tests.join(`
`);return await yo.runPythonAsync(e),!0}catch{return!1}return!1}Ci.addEventListener("click",async()=>{if(!yo||!Ei)return;Xp();const r=ri.getValue();qt.className="hidden";try{await yo.runPythonAsync(r);const e=await rb(Ei);qt.classList.remove("hidden","bg-green-600","bg-red-600","bg-yellow-600"),e?(qt.textContent=" Bravo ! Exercice valid.",qt.classList.add("bg-green-600"),vl&&(qr.add(Ei.id),bo(),Bw(vl.uid,Ei.id))):(qt.textContent=" Incorrect. Regardez la console.",qt.classList.add("bg-red-600"))}catch(e){Gi(`
 Erreur : `+e),qt.textContent=" Erreur de code",qt.classList.remove("hidden"),qt.classList.add("bg-yellow-600")}});const ib=document.getElementById("login-btn"),sb=document.getElementById("logout-btn"),D0=document.getElementById("auth-section-logged-out"),N0=document.getElementById("auth-section-logged-in"),ob=document.getElementById("user-name"),ab=document.getElementById("user-avatar"),lb=document.getElementById("progress-count");ib.addEventListener("click",async()=>{try{await Fw()}catch{alert("Erreur de connexion")}});sb.addEventListener("click",async()=>{await zw(),qr.clear(),bo()});Vw(async r=>{if(vl=r,r){D0.classList.add("hidden"),N0.classList.remove("hidden"),ob.textContent=r.displayName,ab.src=r.photoURL;const e=await Hw(r.uid);qr=new Set(e),bo()}else D0.classList.remove("hidden"),N0.classList.add("hidden"),qr.clear(),bo()});function bo(){lb.textContent=qr.size,Jp()}
